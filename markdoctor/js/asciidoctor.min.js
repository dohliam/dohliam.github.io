"undefined"===typeof Opal&&"object"===typeof module&&module.exports&&(Opal=require("opal-runtime").Opal);
"undefined"===typeof Opal&&(function(c){function z(){}function E(){}function u(){}function r(){}function p(){}function k(a,b){if(a)return a.$$const[b]}function A(a,c){var e,d,g;if(null!=a)for(g=b.ancestors(a),e=0,d=g.length;e<d;e++)if(g[e].$$const&&f.call(g[e].$$const,c))return g[e].$$const[c]}function v(a,b,c){if(!c)return(a||B).$const_missing(b)}function x(a,c){var e,d,g=c.$instance_methods();for(e=g.length-1;0<=e;e--)d="$"+g[e],b.bridge_method(a,c,d,c.$$proto[d])}var a=this,g;"undefined"!==typeof global&&
(a=global);"undefined"!==typeof window&&(a=window);g="object"===typeof a.console?a.console:null==a.console?a.console={}:{};"log"in g||(g.log=function(){});"warn"in g||(g.warn=g.log);if("undefined"!==typeof this.Opal)return g.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var F,t,B,y,h,b=this.Opal={},d={};b.global=a;a.Opal=b;b.config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var f=Object.hasOwnProperty;
b.slice=Array.prototype.slice;var m=4;b.uid=function(){return m+=2};b.id=function(a){return a.$$is_number?2*a+1:a.$$id||(a.$$id=b.uid())};b.gvars={};b.exit=function(a){b.gvars.DEBUG&&g.log("Exited with status "+a)};b.exceptions=[];b.pop_exception=function(){b.gvars["!"]=b.exceptions.pop()||F};b.inspect=function(a){return a===c?"undefined":null===a?"null":a.$$class?a.$inspect():a.toString()};b.truthy=function(a){return a!==F&&null!=a&&(!a.$$is_boolean||1==a)};b.falsy=function(a){return a===F||null==
a||a.$$is_boolean&&0==a};b.const_get_local=function(a,c,e){var d;if(null!=a){"::"===a&&(a=B);if(!a.$$is_a_module)throw new b.TypeError(a.toString()+" is not a class/module");d=k(a,c);if(null!=d)return d;d=v(a,c,e);if(null!=d)return d}};b.const_get_qualified=function(a,c,e){var d,g,f=b.const_cache_version;if(null!=a){"::"===a&&(a=B);if(!a.$$is_a_module)throw new b.TypeError(a.toString()+" is not a class/module");null==(g=a.$$const_cache)&&(g=a.$$const_cache=Object.create(null));d=g[c];null==d||d[0]!==
f?(null!=(d=k(a,c))||null!=(d=A(a,c)),g[c]=[f,d]):d=d[1];return null!=d?d:v(a,c,e)}};b.const_cache_version=1;b.const_get_relative=function(a,c,e){var d=a[0],g,f=b.const_cache_version,h;null==(h=a.$$const_cache)&&(h=a.$$const_cache=Object.create(null));g=h[c];if(null==g||g[0]!==f){var m;if(!(m=null!=(g=k(d,c)))){a:{var t;if(0!==a.length)for(g=0,m=a.length;g<m;g++)if(t=a[g].$$const[c],null!=t){a=t;break a}a=void 0}m=null!=(g=a)}m||null!=(g=A(d,c))||(a=null==d||d.$$is_module?A(B,c):void 0,null!=(g=a));
h[c]=[f,g]}else g=g[1];return null!=g?g:v(d,c,e)};b.const_set=function(a,c,e){if(null==a||"::"===a)a=B;if(e.$$is_a_module){if(null==e.$$name||e.$$name===F)e.$$name=c;null==e.$$base_module&&(e.$$base_module=a)}a.$$const=a.$$const||Object.create(null);a.$$const[c]=e;a.$$=a.$$const;b.const_cache_version++;a===B&&(b[c]=e);return e};b.constants=function(a,c){null==c&&(c=!0);var e,d=[a],g,f,h={},m;c&&(d=d.concat(b.ancestors(a)));c&&a.$$is_module&&(d=d.concat([b.Object]).concat(b.ancestors(b.Object)));g=
0;for(f=d.length;g<f;g++){e=d[g];if(a!==B&&e==B)break;for(m in e.$$const)h[m]=!0}return Object.keys(h)};b.const_remove=function(a,c){b.const_cache_version++;if(null!=a.$$const[c]){var e=a.$$const[c];delete a.$$const[c];return e}if(null!=a.$$autoload&&null!=a.$$autoload[c])return delete a.$$autoload[c],F;throw b.NameError.$new("constant "+a+"::"+a.$name()+" not defined");};b.klass=function(a,c,e,d){var g,f;null==a&&(a=B);a.$$is_class||a.$$is_module||(a=a.$$class);"function"===typeof c&&(f=c,c=B);if(g=
k(a,e)){if(!g.$$is_class)throw b.TypeError.$new(e+" is not a class");if(c&&g.$$super!==c)throw b.TypeError.$new("superclass mismatch for class "+e);return g}null==c&&(c=B);d=f||b.boot_class_alloc(e,d,c);g=b.setup_class_object(e,d,c.$$name,c.constructor);g.$$super=c;g.$$parent=c;b.const_set(a,e,g);a[e]=g;f?b.bridge(g,d):c.$inherited&&c.$inherited(g);return g};b.boot_class_alloc=function(a,b,c){if(c){var d=function(){};d.prototype=c.$$proto||c.prototype;b.prototype=new d}a&&(b.displayName=a+"_alloc");
return b.prototype.constructor=b};b.setup_module_or_class=function(a){a.$$id=b.uid();a.$$is_a_module=!0;a.$$inc=[];a.$$name=F;a.$$const=Object.create(null);a.$$cvars=Object.create(null)};b.setup_class_object=function(a,c,e,d){var g=function(){};g.prototype=d.prototype;g.displayName=e;e=function(){};e.prototype=new g;g=new e;b.setup_module_or_class(g);g.$$alloc=c;g.$$name=a||F;e.displayName="#<Class:"+(a||"#<Class:"+g.$$id+">")+">";g.$$proto=c.prototype;g.$$proto.$$class=g;g.constructor=e;g.$$is_class=
!0;g.$$class=h;return g};b.module=function(a,c){var e;null==a&&(a=B);a.$$is_class||a.$$is_module||(a=a.$$class);e=k(a,c);null==e&&a===B&&(e=A(B,c));if(e){if(!e.$$is_module&&e!==B)throw b.TypeError.$new(c+" is not a module");}else e=b.module_allocate(y),b.const_set(a,c,e);return e};b.module_initialize=function(a,b){if(b!==F){var c=b.$$s;b.$$s=null;b.call(a);b.$$s=c}return F};b.module_allocate=function(a){var c=function(){};c.prototype=a.$$alloc.prototype;var e=function(){};e.prototype=new c;c=new e;
b.setup_module_or_class(c);c.$$included_in=[];e.displayName="#<Class:#<Module:"+c.$$id+">>";c.$$proto={};c.constructor=e;c.$$is_module=!0;c.$$class=y;c.$$super=a;c.$$parent=a;return c};b.get_singleton_class=function(a){return a.$$meta?a.$$meta:a.$$is_class||a.$$is_module?b.build_class_singleton_class(a):b.build_object_singleton_class(a)};b.build_class_singleton_class=function(a){var c,e;if(a.$$meta)return a.$$meta;c=a.constructor;e=a===t?h:b.build_class_singleton_class(a.$$super);c=b.setup_class_object(null,
c,e.$$name,e.constructor);c.$$super=e;c.$$parent=e;c.$$is_singleton=!0;c.$$singleton_of=a;return a.$$meta=c};b.build_object_singleton_class=function(a){var c=a.$$class,e="#<Class:#<"+c.$$name+":"+c.$$id+">>",d=b.boot_class_alloc(e,function(){},c),e=b.setup_class_object(e,d,c.$$name,c.constructor);e.$$super=c;e.$$parent=c;e.$$class=c.$$class;e.$$proto=a;e.$$is_singleton=!0;e.$$singleton_of=a;return a.$$meta=e};b.class_variables=function(a){a=b.ancestors(a);var c,e={};for(c=a.length-1;0<=c;c--){var d=
a[c],g;for(g in d.$$cvars)e[g]=d.$$cvars[g]}return e};b.class_variable_set=function(a,c,e){var d=b.ancestors(a),g;for(g=d.length-2;0<=g;g--){var h=d[g];if(f.call(h.$$cvars,c))return h.$$cvars[c]=e}return a.$$cvars[c]=e};b.bridge_method=function(a,c,b,d){var g,h,m,C;g=a.$$bridge.$ancestors();h=0;for(C=g.length;h<C;h++){m=g[h];if(f.call(m.$$proto,b)&&m.$$proto[b]&&!m.$$proto[b].$$donated&&!m.$$proto[b].$$stub&&m!==c)break;if(m===c){a.prototype[b]=d;break}}};b.bridge_methods=function(a,c){var b,g=d[a.$__id__()];
b=c.$__id__();if(g)for(d[b]=g.slice(),b=g.length-1;0<=b;b--)x(g[b],c)};b.has_cyclic_dep=function l(a,b,c,d){var g,f,h;for(g=b.length-1;0<=g;g--)if(h=b[g],f=h.$$id,!d[f]&&(d[f]=!0,f===a||l(a,h[c],c,d)))return!0;return!1};b.append_features=function(a,c){var d,g;for(g=c.$$inc.length-1;0<=g;g--)if(c.$$inc[g]===a)return;if(!c.$$is_class&&b.has_cyclic_dep(c.$$id,[a],"$$inc",{}))throw b.ArgumentError.$new("cyclic include detected");b.const_cache_version++;c.$$inc.push(a);a.$$included_in.push(c);b.bridge_methods(c,
a);c.$$parent={$$name:a.$$name,$$proto:a.$$proto,$$parent:c.$$parent,$$module:a,$$iclass:!0};d=a.$instance_methods();for(g=d.length-1;0<=g;g--)b.update_includer(a,c,"$"+d[g])};b.stubs={};b.bridge=function(a,c){if(c.$$bridge)throw b.ArgumentError.$new("already bridged");b.stub_subscribers.push(c.prototype);for(var g in b.stubs)g in c.prototype||(c.prototype[g]=b.stub_for(g));c.prototype.$$class=a;c.$$bridge=a;g=a.$ancestors();for(var f=g.length-1;0<=f;f--){var h=c,m=g[f].$__id__();d[m]||(d[m]=[]);
d[m].push(h);x(c,g[f])}for(var C in z.prototype){var t=z.prototype[t];!t||!t.$$stub||C in c.prototype||(c.prototype[C]=t)}return a};b.update_includer=function(a,c,d){var g,f,h,m,t,B,y,F;h=a.$$proto[d];g=c.$$proto;f=g[d];if(!g.hasOwnProperty(d)||f.$$donated||f.$$stub)if(g.hasOwnProperty(d)&&!f.$$stub){m=c.$$inc;t=0;for(B=m.length;t<B;t++)m[t]===f.$$donated&&(y=t),m[t]===a&&(F=t);y<=F&&(g[d]=h,g[d].$$donated=a)}else g[d]=h,g[d].$$donated=a;c.$$included_in&&b.update_includers(c,d)};b.update_includers=
function(a,c){var d,g,f,h;if(h=a.$$included_in)for(d=0,g=h.length;d<g;d++)f=h[d],b.update_includer(a,f,c)};b.ancestors=function(a){for(var c=[],d,g,f,h;a;){c.push(a);for(g=a.$$inc.length-1;0<=g;g--)for(d=b.ancestors(a.$$inc[g]),f=0,h=d.length;f<h;f++)c.push(d[f]);a=a.$$is_singleton&&a.$$singleton_of.$$is_module?a.$$singleton_of.$$super:a.$$is_class?a.$$super:null}return c};b.add_stubs=function(a){var c,d=b.stub_subscribers,g,f=a.length,h,m=d.length,t,B,y=b.stubs;for(g=0;g<f;g++)if(t=a[g],!y.hasOwnProperty(t))for(y[t]=
!0,B=b.stub_for(t),h=0;h<m;h++)c=d[h],t in c||(c[t]=B)};b.stub_subscribers=[z.prototype];b.add_stub_for=function(a,c){var d=b.stub_for(c);a[c]=d};b.stub_for=function(a){function c(){this.$method_missing.$$p=c.$$p;c.$$p=null;for(var b=Array(arguments.length),d=0,g=b.length;d<g;d++)b[d]=arguments[d];return this.$method_missing.apply(this,[a.slice(1)].concat(b))}c.$$stub=!0;return c};b.ac=function(a,c,d,g){var f="",f=d.$$is_class||d.$$is_module?f+(d.$$name+"."):f+(d.$$class.$$name+"#");throw b.ArgumentError.$new("["+
(f+g)+"] wrong number of arguments("+a+" for "+c+")");};b.block_ac=function(a,c,d){throw b.ArgumentError.$new("`block in "+d+"': wrong number of arguments ("+a+" for "+c+")");};b.find_super_dispatcher=function(a,c,d,g,f){d=(f?a.$$is_class||a.$$is_module?f.$$super:a.$$class.$$proto:b.find_obj_super_dispatcher(a,c,d))["$"+c];if(!g&&d.$$stub&&b.Kernel.$method_missing===a.$method_missing)throw b.NoMethodError.$new("super: no superclass method `"+c+"' for "+a,c);return d};b.find_iter_super_dispatcher=
function(a,c,d,g,f){if(!d)throw b.RuntimeError.$new("super called outside of method");if(f&&d.$$define_meth)throw b.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");d.$$def&&(c=d.$$jsid);return b.find_super_dispatcher(a,c,d,g)};b.find_obj_super_dispatcher=function(a,c,d){a=a.$$meta||a.$$class;a=b.find_owning_class(a,d);if(!a)throw Error("could not find current class for super()");return b.find_super_func(a,
"$"+c,d)};b.find_owning_class=function(a,c){for(var b=c.$$owner;!(!a||a.$$iclass&&a.$$module===c.$$donated||a.$$iclass&&a.$$module===b||b.$$is_singleton&&a===b.$$singleton_of.$$class)&&a!==b;)a=a.$$parent;return a};b.find_super_func=function(a,c,b){for(a=a.$$parent;a;){var d=a.$$proto[c];if(d&&d!==b)break;a=a.$$parent}return a.$$proto};b.ret=function(a){b.returner.$v=a;throw b.returner;};b.brk=function(a,c){c.$v=a;throw c;};b.new_brk=function(){return Error("unexpected break")};b.yield1=function(a,
c){if("function"!==typeof a)throw b.LocalJumpError.$new("no block given");var d=a.$$has_top_level_mlhs_arg,g=a.$$has_trailing_comma_in_args;if(1<a.length||(d||g)&&1===a.length)c=b.to_ary(c);return(1<a.length||g&&1===a.length)&&c.$$is_array?a.apply(null,c):a(c)};b.yieldX=function(a,c){if("function"!==typeof a)throw b.LocalJumpError.$new("no block given");if(1<a.length&&1===c.length&&c[0].$$is_array)return a.apply(null,c[0]);if(!c.$$is_array){for(var d=Array(c.length),g=0,f=d.length;g<f;g++)d[g]=c[g];
return a.apply(null,d)}return a.apply(null,c)};b.rescue=function(a,c){for(var d=0;d<c.length;d++){var g=c[d];if(g.$$is_array){if(g=b.rescue(a,g))return g}else if(g===b.JS.Error||g["$==="](a))return g}return null};b.is_a=function(a,c){if(a.$$meta===c||a.$$class===c||a.$$is_number&&c.$$is_number_class)return!0;var d,g,f=b.ancestors(a.$$is_class?b.get_singleton_class(a):a.$$meta||a.$$class);d=0;for(g=f.length;d<g;d++)if(f[d]===c)return!0;return!1};b.to_hash=function(a){if(a.$$is_hash)return a;if(a["$respond_to?"]("to_hash",
!0)){var c=a.$to_hash();if(c.$$is_hash)return c;throw b.TypeError.$new("Can't convert "+a.$$class+" to Hash ("+a.$$class+"#to_hash gives "+c.$$class+")");}throw b.TypeError.$new("no implicit conversion of "+a.$$class+" into Hash");};b.to_ary=function(a){if(a.$$is_array)return a;if(a["$respond_to?"]("to_ary",!0)){var c=a.$to_ary();if(c===F)return[a];if(c.$$is_array)return c;throw b.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_ary gives "+c.$$class+")");}return[a]};b.to_a=
function(a){if(a.$$is_array)return a.slice();if(a["$respond_to?"]("to_a",!0)){var c=a.$to_a();if(c===F)return[a];if(c.$$is_array)return c;throw b.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_a gives "+c.$$class+")");}return[a]};b.extract_kwargs=function(a){var c=a[a.length-1];return null!=c&&c["$respond_to?"]("to_hash",!0)?(Array.prototype.splice.call(a,a.length-1,1),c.$to_hash()):b.hash2([],{})};b.kwrestargs=function(a,c){var d=[],g={},f=null,h=a.$$smap;for(f in h)c[f]||
(d.push(f),g[f]=h[f]);return b.hash2(d,g)};b.send=function(a,c,b,d){var g="string"===typeof c?a["$"+c]:c;return null!=g?(g.$$p=d,g.apply(a,b)):a.$method_missing.apply(a,[c].concat(b))};b.lambda=function(a){a.$$is_lambda=!0;return a};b.def=function(a,c,d){a===b.top?b.defn(b.Object,c,d):a.$$eval||!a.$$is_class&&!a.$$is_module?b.defs(a,c,d):b.defn(a,c,d)};b.defn=function(a,c,g){a.$$proto[c]=g;g.$$owner=a;null==g.displayName&&(g.displayName=c.substr(1));a.$$is_module&&(b.update_includers(a,c),a.$$module_function&&
b.defs(a,c,g));var f=a.$__id__&&!a.$__id__.$$stub&&d[a.$__id__()];if(f)for(var h=f.length-1;0<=h;h--)b.bridge_method(f[h],a,c,g);g=a.$$singleton_of;!a.$method_added||a.$method_added.$$stub||g?g&&g.$singleton_method_added&&!g.$singleton_method_added.$$stub&&g.$singleton_method_added(c.substr(1)):a.$method_added(c.substr(1));return F};b.defs=function(a,c,d){b.defn(b.get_singleton_class(a),c,d)};b.rdef=function(a,c){if(!f.call(a.$$proto,c))throw b.NameError.$new("method '"+c.substr(1)+"' not defined in "+
a.$name());delete a.$$proto[c];a.$$is_singleton?a.$$proto.$singleton_method_removed&&!a.$$proto.$singleton_method_removed.$$stub&&a.$$proto.$singleton_method_removed(c.substr(1)):a.$method_removed&&!a.$method_removed.$$stub&&a.$method_removed(c.substr(1))};b.udef=function(a,c){if(!a.$$proto[c]||a.$$proto[c].$$stub)throw b.NameError.$new("method '"+c.substr(1)+"' not defined in "+a.$name());b.add_stub_for(a.$$proto,c);a.$$is_singleton?a.$$proto.$singleton_method_undefined&&!a.$$proto.$singleton_method_undefined.$$stub&&
a.$$proto.$singleton_method_undefined(c.substr(1)):a.$method_undefined&&!a.$method_undefined.$$stub&&a.$method_undefined(c.substr(1))};b.alias=function(a,c,d){var g="$"+c,f="$"+d,h=a.$$proto["$"+d],m;if(a.$$eval)return b.alias(b.get_singleton_class(a),c,d);if("function"!==typeof h||h.$$stub){for(var t=a.$$super;"function"!==typeof h&&t;)h=t[f],t=t.$$super;if("function"!==typeof h||h.$$stub)throw b.NameError.$new("undefined method `"+d+"' for class `"+a.$name()+"'");}h.$$alias_of&&(h=h.$$alias_of);
m=function(){var a=m.$$p,c,d,e;c=Array(arguments.length);d=0;for(e=arguments.length;d<e;d++)c[d]=arguments[d];null!=a&&(m.$$p=null);return b.send(this,h,c,a)};m.displayName=c;m.length=h.length;m.$$arity=h.$$arity;m.$$parameters=h.$$parameters;m.$$source_location=h.$$source_location;m.$$alias_of=h;m.$$alias_name=c;b.defn(a,g,m);return a};b.alias_native=function(a,c,d){c="$"+c;var g=a.$$proto[d];if("function"!==typeof g||g.$$stub)throw b.NameError.$new("undefined native method `"+d+"' for class `"+
a.$name()+"'");b.defn(a,c,g);return a};b.hash_init=function(a){a.$$smap=Object.create(null);a.$$map=Object.create(null);a.$$keys=[]};b.hash_clone=function(a,c){c.$$none=a.$$none;c.$$proc=a.$$proc;for(var d=0,g=a.$$keys,f=a.$$smap,h=g.length,m,t;d<h;d++)m=g[d],m.$$is_string?t=f[m]:(t=m.value,m=m.key),b.hash_put(c,m,t)};b.hash_put=function(a,d,g){if(d.$$is_string)f.call(a.$$smap,d)||a.$$keys.push(d),a.$$smap[d]=g;else{var n,h,m;n=a.$$by_identity?b.id(d):d.$hash();if(f.call(a.$$map,n)){for(h=a.$$map[n];h;){if(d===
h.key||d["$eql?"](h.key)){m=c;h.value=g;break}m=h;h=h.next}m&&(h={key:d,key_hash:n,value:g},a.$$keys.push(h),m.next=h)}else h={key:d,key_hash:n,value:g},a.$$keys.push(h),a.$$map[n]=h}};b.hash_get=function(a,c){if(c.$$is_string){if(f.call(a.$$smap,c))return a.$$smap[c]}else{var d;d=a.$$by_identity?b.id(c):c.$hash();if(f.call(a.$$map,d))for(d=a.$$map[d];d;){if(c===d.key||c["$eql?"](d.key))return d.value;d=d.next}}};b.hash_delete=function(a,c){var b,d=a.$$keys,g=d.length,h;if(c.$$is_string){if(!f.call(a.$$smap,
c))return;for(b=0;b<g;b++)if(d[b]===c){d.splice(b,1);break}h=a.$$smap[c];delete a.$$smap[c];return h}var m=c.$hash();if(f.call(a.$$map,m))for(var t=a.$$map[m],B;t;){if(c===t.key||c["$eql?"](t.key)){h=t.value;for(b=0;b<g;b++)if(d[b]===t){d.splice(b,1);break}B&&t.next?B.next=t.next:B?delete B.next:t.next?a.$$map[m]=t.next:delete a.$$map[m];return h}B=t;t=t.next}};b.hash_rehash=function(a){for(var b=0,d=a.$$keys.length,g,h,m;b<d;b++)if(!a.$$keys[b].$$is_string&&(g=a.$$keys[b].key.$hash(),g!==a.$$keys[b].key_hash)){h=
a.$$map[a.$$keys[b].key_hash];for(m=c;h;){if(h===a.$$keys[b]){m&&h.next?m.next=h.next:m?delete m.next:h.next?a.$$map[a.$$keys[b].key_hash]=h.next:delete a.$$map[a.$$keys[b].key_hash];break}m=h;h=h.next}a.$$keys[b].key_hash=g;if(f.call(a.$$map,g)){h=a.$$map[g];for(m=c;h;){if(h===a.$$keys[b]){m=c;break}m=h;h=h.next}m&&(m.next=a.$$keys[b])}else a.$$map[g]=a.$$keys[b]}};b.hash=function(){var a=arguments.length,c,d,g,h,m;if(1===a&&arguments[0].$$is_hash)return arguments[0];c=new b.Hash.$$alloc;b.hash_init(c);
if(1===a&&arguments[0].$$is_array){a=arguments[0];g=a.length;for(d=0;d<g;d++){if(2!==a[d].length)throw b.ArgumentError.$new("value not of length 2: "+a[d].$inspect());h=a[d][0];m=a[d][1];b.hash_put(c,h,m)}return c}if(1===a){a=arguments[0];for(h in a)f.call(a,h)&&(m=a[h],b.hash_put(c,h,m));return c}if(0!==a%2)throw b.ArgumentError.$new("odd number of arguments for Hash");for(d=0;d<a;d+=2)h=arguments[d],m=arguments[d+1],b.hash_put(c,h,m);return c};b.hash2=function(a,c){var d=new b.Hash.$$alloc;d.$$smap=
c;d.$$map=Object.create(null);d.$$keys=a;return d};b.range=function(a,c,d){var g=new b.Range.$$alloc;g.begin=a;g.end=c;g.excl=d;return g};b.ivar=function(a){return"constructor"===a||"displayName"===a||"__count__"===a||"__noSuchMethod__"===a||"__parent__"===a||"__proto__"===a||"hasOwnProperty"===a||"valueOf"===a?a+"$":a};b.escape_regexp=function(a){return a.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")};b.global_regexp=
function(a){if(a.global)return a;null==a.$$g?a.$$g=new RegExp(a.source,(a.multiline?"gm":"g")+(a.ignoreCase?"i":"")):a.$$g.lastIndex=null;return a.$$g};b.global_multiline_regexp=function(a){if(a.multiline){if(a.global)return a;a=null!=a.$$g?a.$$g:a.$$g=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""))}else a=null!=a.$$gm?a.$$gm:a.$$gm=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));a.lastIndex=null;return a};b.modules={};b.loaded_features=["corelib/runtime"];b.current_dir=".";b.require_table={"corelib/runtime":!0};
b.normalize=function(a){var c,d=[];"."!==b.current_dir&&(a=b.current_dir.replace(/\/*$/,"/")+a);a=a.replace(/^\.\//,"");a=a.replace(/\.(rb|opal|js)$/,"");a=a.split("/");for(var g=0,f=a.length;g<f;g++)c=a[g],""!==c&&(".."===c?d.pop():d.push(c));return d.join("/")};b.loaded=function(a){var c,d,g;c=0;for(d=a.length;c<d;c++)g=b.normalize(a[c]),b.require_table[g]||(b.loaded_features.push(g),b.require_table[g]=!0)};b.load=function(a){a=b.normalize(a);b.loaded([a]);var c=b.modules[a];if(c)c(b);else{c=b.config.missing_require_severity;
a="cannot load such file -- "+a;if("error"===c){if(b.LoadError)throw b.LoadError.$new(a);throw a;}"warning"===c&&g.warn("WARNING: LoadError: "+a)}return!0};b.require=function(a){a=b.normalize(a);return b.require_table[a]?!1:b.load(a)};b.boot_class_alloc("BasicObject",z);b.boot_class_alloc("Object",E,z);b.boot_class_alloc("Module",r,E);b.boot_class_alloc("Class",u,r);b.BasicObject=t=b.setup_class_object("BasicObject",z,"Class",u);b.Object=B=b.setup_class_object("Object",E,"BasicObject",t.constructor);
b.Module=y=b.setup_class_object("Module",r,"Object",B.constructor);b.Class=h=b.setup_class_object("Class",u,"Module",y.constructor);t.$$const.BasicObject=t;b.const_set(B,"BasicObject",t);b.const_set(B,"Object",B);b.const_set(B,"Module",y);b.const_set(B,"Class",h);t.$$class=h;B.$$class=h;y.$$class=h;h.$$class=h;t.$$super=null;B.$$super=t;y.$$super=B;h.$$super=y;t.$$parent=null;B.$$parent=t;y.$$parent=B;h.$$parent=y;B.$$proto.toString=function(){var a=this.$to_s();return a.$$is_string&&"object"===typeof a?
a.valueOf():a};B.$$proto.$require=b.require;b.$$=B.$$;b.top=new B.$$alloc;b.top.$to_s=b.top.$inspect=function(){return"main"};b.klass(B,B,"NilClass",p);F=b.nil=new p;F.$$id=4;F.call=F.apply=function(){throw b.LocalJumpError.$new("no block given");};b.breaker=Error("unexpected break (old)");b.returner=Error("unexpected return");TypeError.$$super=Error}.call(this),Opal.loaded(["corelib/runtime.js"]),Opal.modules["corelib/helpers"]=function(c){var z=[],E=c.nil,u=c.const_get_relative,r=c.module,p=c.truthy;
c.add_stubs("$new $class $=== $respond_to? $raise $type_error $__send__ $coerce_to $nil? $<=> $coerce_to! $!= $[] $upcase".split(" "));return function(k,A){var v=r(k,"Opal"),x=[v].concat(A),a,g,F,t,B,y,h,b,d,f,m,S,l,e;c.defs(v,"$bridge",a=function(a,b){return c.bridge(a,b)},a.$$arity=2);c.defs(v,"$type_error",g=function(a,c,b,d){var g;null==b&&(b=E);null==d&&(d=E);return p(p(g=b)?d:g)?u(x,"TypeError").$new("can't convert "+a.$class()+" into "+c+" ("+a.$class()+"#"+b+" gives "+d.$class()+")"):u(x,
"TypeError").$new("no implicit conversion of "+a.$class()+" into "+c)},g.$$arity=-3);c.defs(v,"$coerce_to",F=function(a,c,b){if(p(c["$==="](a)))return a;p(a["$respond_to?"](b))||this.$raise(this.$type_error(a,c));return a.$__send__(b)},F.$$arity=3);c.defs(v,"$coerce_to!",t=function(a,c,b){var d=E,d=this.$coerce_to(a,c,b);p(c["$==="](d))||this.$raise(this.$type_error(a,c,b,d));return d},t.$$arity=3);c.defs(v,"$coerce_to?",B=function(a,c,b){var d=E;if(!p(a["$respond_to?"](b)))return E;d=this.$coerce_to(a,
c,b);if(p(d["$nil?"]()))return E;p(c["$==="](d))||this.$raise(this.$type_error(a,c,b,d));return d},B.$$arity=3);c.defs(v,"$try_convert",y=function(a,c,b){return p(c["$==="](a))?a:p(a["$respond_to?"](b))?a.$__send__(b):E},y.$$arity=3);c.defs(v,"$compare",h=function(a,c){var b=E,b=a["$<=>"](c);p(b===E)&&this.$raise(u(x,"ArgumentError"),"comparison of "+a.$class()+" with "+c.$class()+" failed");return b},h.$$arity=2);c.defs(v,"$destructure",b=function(a){if(1==a.length)return a[0];if(a.$$is_array)return a;
for(var c=Array(a.length),b=0,d=c.length;b<d;b++)c[b]=a[b];return c},b.$$arity=1);c.defs(v,"$respond_to?",d=function(a,c,b){null==b&&(b=!1);return null!=a&&a.$$class?a["$respond_to?"](c,b):!1},d.$$arity=-3);c.defs(v,"$inspect_obj",f=function(a){return c.inspect(a)},f.$$arity=1);c.defs(v,"$instance_variable_name!",m=function(a){a=u(x,"Opal")["$coerce_to!"](a,u(x,"String"),"to_str");p(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(a))||this.$raise(u(x,"NameError").$new("'"+a+"' is not allowed as an instance variable name",
a));return a},m.$$arity=1);c.defs(v,"$class_variable_name!",S=function(a){a=u(x,"Opal")["$coerce_to!"](a,u(x,"String"),"to_str");p(3>a.length||"@@"!==a.slice(0,2))&&this.$raise(u(x,"NameError").$new("`"+a+"' is not allowed as a class variable name",a));return a},S.$$arity=1);c.defs(v,"$const_name!",l=function(a){a=u(x,"Opal")["$coerce_to!"](a,u(x,"String"),"to_str");p(a["$[]"](0)["$!="](a["$[]"](0).$upcase()))&&this.$raise(u(x,"NameError"),"wrong constant name "+a);return a},l.$$arity=1);c.defs(v,
"$pristine",e=function(a,c){var b,d=arguments.length;b=d-1;0>b&&(b=0);b=Array(b);for(var g=1;g<d;g++)b[g-1]=arguments[g];for(d=b.length-1;0<=d;d--)g=b[d],(g=a.$$proto["$"+g])&&!g.$$stub&&(g.$$pristine=!0);return E},e.$$arity=-2)}(z[0],z)},Opal.modules["corelib/module"]=function(c){function z(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}var E=[],u=c.nil,r=c.const_get_qualified,p=c.const_get_relative,k=c.klass,A=c.truthy,v=c.send,x=c.lambda,a=c.range,g=c.hash2;c.add_stubs("$=== $raise $equal? $< $> $nil? $attr_reader $attr_writer $class_variable_name! $new $const_name! $=~ $inject $split $const_get $== $!~ $start_with? $to_proc $bind $call $class $append_features $included $name $cover? $size $merge $compile $proc $any? $to_s $__id__ $constants $include? $copy_class_variables $copy_constants".split(" "));
return function(F,$super,B){function y(){}F=y=k(F,$super,"Module",y);var h=[F].concat(B),b,d,f,m,S,l,e,q,n,Ma,ka,C,da,L,ta,W,J,I,w,fa,Q,ea,N,O,X,R,P,ja,Z,H,ba,T,ga,ca,aa,sa,E,ma,ha,pa,Y,qa,na,ia,xa,ra,wa,ua,va,ya,Aa,Ea,Ba,Ca,Da;c.defs(F,"$allocate",b=function(){return c.module_allocate(this)},b.$$arity=0);c.def(F,"$initialize",d=function(){var a=d.$$p,b=a||u;a&&(d.$$p=null);return c.module_initialize(this,b)},d.$$arity=0);c.def(F,"$===",f=function(a){return A(null==a)?!1:c.is_a(a,this)},f.$$arity=
1);c.def(F,"$<",m=function(a){A(p(h,"Module")["$==="](a))||this.$raise(p(h,"TypeError"),"compared with non class/module");var b,d,g;if(this===a)return!1;d=0;b=c.ancestors(this);for(g=b.length;d<g;d++)if(b[d]===a)return!0;d=0;b=c.ancestors(a);for(g=b.length;d<g;d++)if(b[d]===this)return!1;return u},m.$$arity=1);c.def(F,"$<=",S=function(a){var c;return A(c=this["$equal?"](a))?c:z(this,a)},S.$$arity=1);c.def(F,"$>",l=function(a){A(p(h,"Module")["$==="](a))||this.$raise(p(h,"TypeError"),"compared with non class/module");
return z(a,this)},l.$$arity=1);c.def(F,"$>=",e=function(a){var c;return A(c=this["$equal?"](a))?c:"number"===typeof this&&"number"===typeof a?this>a:this["$>"](a)},e.$$arity=1);c.def(F,"$<=>",q=function(a){var c=u;if(this===a)return 0;if(!A(p(h,"Module")["$==="](a)))return u;c=z(this,a);return A(c["$nil?"]())?u:A(c)?-1:1},q.$$arity=1);c.def(F,"$alias_method",n=function(a,b){c.alias(this,a,b);return this},n.$$arity=2);c.def(F,"$alias_native",Ma=function(a,b){null==b&&(b=a);c.alias_native(this,a,b);
return this},Ma.$$arity=-2);c.def(F,"$ancestors",ka=function(){return c.ancestors(this)},ka.$$arity=0);c.def(F,"$append_features",C=function(a){c.append_features(this,a);return this},C.$$arity=1);c.def(F,"$attr_accessor",da=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var g=0;g<d;g++)b[g-0]=arguments[g];v(this,"attr_reader",c.to_a(b));return v(this,"attr_writer",c.to_a(b))},da.$$arity=-1);c.alias(F,"attr","attr_accessor");c.def(F,"$attr_reader",L=function(a){var b,d=arguments.length;
b=d-0;0>b&&(b=0);b=Array(b);for(var g=0;g<d;g++)b[g-0]=arguments[g];d=this.$$proto;for(g=b.length-1;0<=g;g--){var e=b[g],f="$"+e,e=c.ivar(e),h=function(a){return function(){return null==this[a]?u:this[a]}}(e);d[e]=u;h.$$parameters=[];h.$$arity=0;this.$$is_singleton?d.constructor.prototype[f]=h:c.defn(this,f,h)}return u},L.$$arity=-1);c.def(F,"$attr_writer",ta=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var g=0;g<d;g++)b[g-0]=arguments[g];d=this.$$proto;for(g=b.length-1;0<=
g;g--){var e=b[g],f="$"+e+"=",e=c.ivar(e),h=function(a){return function(c){return this[a]=c}}(e);h.$$parameters=[["req"]];h.$$arity=1;d[e]=u;this.$$is_singleton?d.constructor.prototype[f]=h:c.defn(this,f,h)}return u},ta.$$arity=-1);c.def(F,"$autoload",W=function(a,b){null==this.$$autoload&&(this.$$autoload={});c.const_cache_version++;this.$$autoload[a]=b;return u},W.$$arity=2);c.def(F,"$class_variables",J=function(){return Object.keys(c.class_variables(this))},J.$$arity=0);c.def(F,"$class_variable_get",
I=function(a){a=p(h,"Opal")["$class_variable_name!"](a);var b=c.class_variables(this)[a];null==b&&this.$raise(p(h,"NameError").$new("uninitialized class variable "+a+" in "+this,a));return b},I.$$arity=1);c.def(F,"$class_variable_set",w=function(a,b){a=p(h,"Opal")["$class_variable_name!"](a);return c.class_variable_set(this,a,b)},w.$$arity=2);c.def(F,"$class_variable_defined?",fa=function(a){a=p(h,"Opal")["$class_variable_name!"](a);return c.class_variables(this).hasOwnProperty(a)},fa.$$arity=1);
c.def(F,"$remove_class_variable",Q=function(a){a=p(h,"Opal")["$class_variable_name!"](a);if(c.hasOwnProperty.call(this.$$cvars,a)){var b=this.$$cvars[a];delete this.$$cvars[a];return b}this.$raise(p(h,"NameError"),"cannot remove "+a+" for "+this)},Q.$$arity=1);c.def(F,"$constants",ea=function(a){null==a&&(a=!0);return c.constants(this,a)},ea.$$arity=-1);c.defs(F,"$constants",N=function(a){if(null==a){a=(this.$$nesting||[]).concat(c.Object);var b,d={},g,e;g=0;for(e=a.length;g<e;g++)for(b in a[g].$$const)d[b]=
!0;return Object.keys(d)}return c.constants(this,a)},N.$$arity=-1);c.defs(F,"$nesting",O=function(){return this.$$nesting||[]},O.$$arity=0);c.def(F,"$const_defined?",X=function(a,b){null==b&&(b=!0);a=p(h,"Opal")["$const_name!"](a);A(a["$=~"](r(p(h,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(p(h,"NameError").$new("wrong constant name "+a,a));var d,g=[this],e,f;b&&(g=g.concat(c.ancestors(this)),this.$$is_module&&(g=g.concat([c.Object]).concat(c.ancestors(c.Object))));e=0;for(f=g.length;e<f;e++)if(d=
g[e],null!=d.$$const[a])return!0;return!1},X.$$arity=-2);c.def(F,"$const_get",R=function(a,b){var d;null==b&&(b=!0);a=p(h,"Opal")["$const_name!"](a);0===a.indexOf("::")&&"::"!==a&&(a=a.slice(2));if(A(-1!=a.indexOf("::")&&"::"!=a))return v(a.$split("::"),"inject",[this],(d=function(a,c){null==a&&(a=u);null==c&&(c=u);return a.$const_get(c)},d.$$s=this,d.$$arity=2,d));A(a["$=~"](r(p(h,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(p(h,"NameError").$new("wrong constant name "+a,a));return b?p([this],a):
c.const_get_local(this,a)},R.$$arity=-2);c.def(F,"$const_missing",P=function(a){var c=u;if(this.$$autoload&&(c=this.$$autoload[a]))return this.$require(c),this.$const_get(a);c=this["$=="](p(h,"Object"))?a:""+this+"::"+a;return this.$raise(p(h,"NameError").$new("uninitialized constant "+c,a))},P.$$arity=1);c.def(F,"$const_set",ja=function(a,b){var d;a=p(h,"Opal")["$const_name!"](a);A(A(d=a["$!~"](r(p(h,"Opal"),"CONST_NAME_REGEXP")))?d:a["$start_with?"]("::"))&&this.$raise(p(h,"NameError").$new("wrong constant name "+
a,a));c.const_set(this,a,b);return b},ja.$$arity=2);c.def(F,"$public_constant",Z=function(a){return u},Z.$$arity=1);c.def(F,"$define_method",H=function(a,b){var d,g,e=this,f=H.$$p,n=f||u,l=u;f&&(H.$$p=null);A(void 0===b&&n===u)&&e.$raise(p(h,"ArgumentError"),"tried to create a Proc object without a block");n=A(d=n)?d:function(){l=b;return p(h,"Proc")["$==="](l)?b:p(h,"Method")["$==="](l)?b.$to_proc().$$unbound:p(h,"UnboundMethod")["$==="](l)?x((g=function(a){var d=g.$$s||this,e,f=u,f=arguments.length;
e=f-0;0>e&&(e=0);e=Array(e);for(var h=0;h<f;h++)e[h-0]=arguments[h];f=b.$bind(d);return v(f,"call",c.to_a(e))},g.$$s=e,g.$$arity=-1,g)):e.$raise(p(h,"TypeError"),"wrong argument type "+n.$class()+" (expected Proc/Method)")}();n.$$jsid=a;n.$$s=null;n.$$def=n;n.$$define_meth=!0;c.defn(e,"$"+a,n);return a},H.$$arity=-2);c.def(F,"$remove_method",ba=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var g=0;g<d;g++)b[g-0]=arguments[g];d=0;for(g=b.length;d<g;d++)c.rdef(this,"$"+b[d]);
return this},ba.$$arity=-1);c.def(F,"$singleton_class?",T=function(){return!!this.$$is_singleton},T.$$arity=0);c.def(F,"$include",ga=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];for(b=c.length-1;0<=b;b--)d=c[b],d.$$is_module||this.$raise(p(h,"TypeError"),"wrong argument type "+d.$class()+" (expected Module)"),d.$append_features(this),d.$included(this);return this},ga.$$arity=-1);c.def(F,"$included_modules",ca=function(){var a,c=function(a){for(var b=
[],d=0,g=a.$$inc.length;d<g;d++){var e=a.$$inc[d];b.push(e);b=b.concat(c(e))}return b};a=c(this);if(this.$$is_class)for(var b=this;b;b=b.$$super)a=a.concat(c(b));return a},ca.$$arity=0);c.def(F,"$include?",aa=function(a){a.$$is_module||this.$raise(p(h,"TypeError"),"wrong argument type "+a.$class()+" (expected Module)");var b,d,g,e=c.ancestors(this);b=0;for(d=e.length;b<d;b++)if(g=e[b],g===a&&g!==this)return!0;return!1},aa.$$arity=1);c.def(F,"$instance_method",sa=function(a){var c=this.$$proto["$"+
a];c&&!c.$$stub||this.$raise(p(h,"NameError").$new("undefined method `"+a+"' for class `"+this.$name()+"'",a));return p(h,"UnboundMethod").$new(this,c.$$owner||this,c,a)},sa.$$arity=1);c.def(F,"$instance_methods",E=function(a){null==a&&(a=!0);var b,d=[],g=this.$$proto,e;for(e in g)if("$"===e.charAt(0)&&"$"!==e.charAt(1)&&(b=g[e],"function"===typeof b&&!b.$$stub)){if(!this.$$is_module){if(this!==c.BasicObject&&b===c.BasicObject.$$proto[e])continue;if(!a&&!g.hasOwnProperty(e))continue;if(!a&&b.$$donated)continue}d.push(e.substr(1))}return d},
E.$$arity=-1);c.def(F,"$included",ma=function(a){return u},ma.$$arity=1);c.def(F,"$extended",ha=function(a){return u},ha.$$arity=1);c.def(F,"$extend_object",pa=function(a){return u},pa.$$arity=1);c.def(F,"$method_added",Y=function(a){return u},Y.$$arity=-1);c.def(F,"$method_removed",qa=function(a){return u},qa.$$arity=-1);c.def(F,"$method_undefined",na=function(a){return u},na.$$arity=-1);c.def(F,"$module_eval",ia=function(b){var d,e,f,n=ia.$$p,l=n||u,m=u,q=f=f=f=u,m=arguments.length;f=m-0;0>f&&(f=
0);f=Array(f);for(var D=0;D<m;D++)f[D-0]=arguments[D];n&&(ia.$$p=null);A(A(d=l["$nil?"]())?!!c.compile:d)?(A(a(1,3,!1)["$cover?"](f.$size()))||p(h,"Kernel").$raise(p(h,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),d=[].concat(c.to_a(f)),m=null==d[0]?u:d[0],f=null==d[1]?u:d[1],d,f=g(["file","eval"],{file:A(d=f)?d:"(eval)",eval:!0}),f=c.hash({arity_check:!1}).$merge(f),q=p(h,"Opal").$compile(m,f),l=v(p(h,"Kernel"),"proc",[],(e=function(){return function(a){return eval(q)}(e.$$s||this)},
e.$$s=this,e.$$arity=0,e))):A(f["$any?"]())&&p(h,"Kernel").$raise(p(h,"ArgumentError"),""+("wrong number of arguments ("+f.$size()+" for 0)")+"\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");d=l.$$s;l.$$s=null;n=l.apply(this,[this]);l.$$s=d;return n},ia.$$arity=-1);c.alias(F,"class_eval","module_eval");c.def(F,"$module_exec",xa=function(a){var c,b=xa.$$p,d=b||u,g=arguments.length;c=g-0;0>c&&(c=0);c=Array(c);for(var e=0;e<g;e++)c[e-
0]=arguments[e];b&&(xa.$$p=null);d===u&&this.$raise(p(h,"LocalJumpError"),"no block given");b=d.$$s;d.$$s=null;c=d.apply(this,c);d.$$s=b;return c},xa.$$arity=-1);c.alias(F,"class_exec","module_exec");c.def(F,"$method_defined?",ra=function(a){a=this.$$proto["$"+a];return!!a&&!a.$$stub},ra.$$arity=1);c.def(F,"$module_function",wa=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var g=0;g<d;g++)b[g-0]=arguments[g];if(0===b.length)this.$$module_function=!0;else for(d=0,g=b.length;d<
g;d++){var e="$"+b[d];c.defs(this,e,this.$$proto[e])}return this},wa.$$arity=-1);c.def(F,"$name",ua=function(){if(this.$$full_name)return this.$$full_name;for(var a=[],b=this;b;){if(b.$$name===u||null==b.$$name)return u;a.unshift(b.$$name);b=b.$$base_module;if(b===c.Object)break}return 0===a.length?u:this.$$full_name=a.join("::")},ua.$$arity=0);c.def(F,"$remove_const",va=function(a){return c.const_remove(this,a)},va.$$arity=1);c.def(F,"$to_s",ya=function(){var a;return A(a=c.Module.$name.call(this))?
a:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},ya.$$arity=0);c.def(F,"$undef_method",Aa=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var g=0;g<d;g++)b[g-0]=arguments[g];d=0;for(g=b.length;d<g;d++)c.udef(this,"$"+b[d]);return this},Aa.$$arity=-1);c.def(F,"$instance_variables",Ea=function(){var a=u,a=(c.Module.$$nesting=h,this.$constants()),b=[],d;for(d in this)this.hasOwnProperty(d)&&"$"!==d.charAt(0)&&"constructor"!==d&&!a["$include?"](d)&&b.push("@"+
d);return b},Ea.$$arity=0);c.def(F,"$dup",Ba=function(){var a=Ba.$$p,b=u,d=b=u,g=u;a&&(Ba.$$p=null);d=0;g=arguments.length;for(b=Array(g);d<g;d++)b[d]=arguments[d];b=v(this,c.find_super_dispatcher(this,"dup",Ba,!1),b,a);b.$copy_class_variables(this);b.$copy_constants(this);return b},Ba.$$arity=0);c.def(F,"$copy_class_variables",Ca=function(a){for(var c in a.$$cvars)this.$$cvars[c]=a.$$cvars[c]},Ca.$$arity=1);return(c.def(F,"$copy_constants",Da=function(a){var b;a=a.$$const;for(b in a)c.const_set(this,
b,a[b])},Da.$$arity=1),u)&&"copy_constants"}(E[0],null,E)},Opal.modules["corelib/class"]=function(c){var z=c.top,E=[],u=c.nil,r=c.const_get_relative,p=c.klass,k=c.send;c.add_stubs(["$require","$initialize_copy","$allocate","$name","$to_s"]);z.$require("corelib/module");return function(A,$super,x){function a(){}A=a=p(A,$super,"Class",a);var g=[A].concat(x),F,t,B,y,h,b,d;c.defs(A,"$new",F=function(a){var b=F.$$p,d=b||u;null==a&&(a=r(g,"Object"));b&&(F.$$p=null);if(!a.$$is_class)throw c.TypeError.$new("superclass must be a Class");
b=c.boot_class_alloc(null,function(){},a);b=c.setup_class_object(null,b,a.$$name,a.constructor);b.$$super=a;b.$$parent=a;a.$inherited(b);c.module_initialize(b,d);return b},F.$$arity=-1);c.def(A,"$allocate",t=function(){var a=new this.$$alloc;a.$$id=c.uid();return a},t.$$arity=0);c.def(A,"$inherited",B=function(a){return u},B.$$arity=1);c.def(A,"$initialize_dup",y=function(a){this.$initialize_copy(a);this.$$full_name=this.$$name=null},y.$$arity=1);c.def(A,"$new",h=function(a){var b,d=h.$$p,g=d||u,
e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var q=0;q<e;q++)b[q-0]=arguments[q];d&&(h.$$p=null);d=this.$allocate();c.send(d,d.$initialize,b,g);return d},h.$$arity=-1);c.def(A,"$superclass",b=function(){return this.$$super||u},b.$$arity=0);return(c.def(A,"$to_s",d=function(){d.$$p&&(d.$$p=null);var a=this.$$singleton_of;return a&&(a.$$is_class||a.$$is_module)?"#<Class:"+a.$name()+">":a?"#<Class:#<"+a.$$class.$name()+":0x"+c.id(a).$to_s(16)+">>":k(this,c.find_super_dispatcher(this,"to_s",d,!1),
[],null)},d.$$arity=0),u)&&"to_s"}(E[0],null,E)},Opal.modules["corelib/basic_object"]=function(c){var z=[],E=c.nil,u=c.const_get_qualified,r=c.klass,p=c.truthy,k=c.range,A=c.hash2,v=c.send;c.add_stubs("$== $! $nil? $cover? $size $raise $merge $compile $proc $any? $inspect $new".split(" "));return function(x,$super,g){function F(){}x=F=r(x,$super,"BasicObject",F);[x].concat(g);var t,B,y,h,b,d,f,m,S,l,e,q,n;c.def(x,"$initialize",t=function(c){return E},t.$$arity=-1);c.def(x,"$==",B=function(c){return this===
c},B.$$arity=1);c.def(x,"$eql?",y=function(c){return this["$=="](c)},y.$$arity=1);c.alias(x,"equal?","==");c.def(x,"$__id__",h=function(){return this.$$id||(this.$$id=c.uid())},h.$$arity=0);c.def(x,"$__send__",b=function(c,d){var g,e=b.$$p,f=e||E,h=arguments.length;g=h-1;0>g&&(g=0);g=Array(g);for(var n=1;n<h;n++)g[n-1]=arguments[n];e&&(b.$$p=null);if(e=this["$"+c])return f!==E&&(e.$$p=f),e.apply(this,g);f!==E&&(this.$method_missing.$$p=f);return this.$method_missing.apply(this,[c].concat(g))},b.$$arity=
-2);c.def(x,"$!",d=function(){return!1},d.$$arity=0);c.def(x,"$!=",f=function(c){return this["$=="](c)["$!"]()},f.$$arity=1);c.def(x,"$instance_eval",m=function(b){var d,g,e,f=m.$$p,h=f||E,n=E,l=e=e=e=E,n=arguments.length;e=n-0;0>e&&(e=0);e=Array(e);for(var q=0;q<n;q++)e[q-0]=arguments[q];f&&(m.$$p=null);p(p(d=h["$nil?"]())?!!c.compile:d)?(p(k(1,3,!1)["$cover?"](e.$size()))||u("::","Kernel").$raise(u("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),d=[].concat(c.to_a(e)),n=null==d[0]?
E:d[0],e=null==d[1]?E:d[1],d,e=A(["file","eval"],{file:p(d=e)?d:"(eval)",eval:!0}),e=c.hash({arity_check:!1}).$merge(e),l=u("::","Opal").$compile(n,e),h=v(u("::","Kernel"),"proc",[],(g=function(){return function(c){return eval(l)}(g.$$s||this)},g.$$s=this,g.$$arity=0,g))):p(e["$any?"]())&&u("::","Kernel").$raise(u("::","ArgumentError"),"wrong number of arguments ("+e.$size()+" for 0)");d=h.$$s;var t;h.$$s=null;if(this.$$is_class||this.$$is_module){this.$$eval=!0;try{t=h.call(this,this)}finally{this.$$eval=
!1}}else t=h.call(this,this);h.$$s=d;return t},m.$$arity=-1);c.def(x,"$instance_exec",S=function(c){var b,d=S.$$p,g=d||E,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var f=0;f<e;f++)b[f-0]=arguments[f];d&&(S.$$p=null);p(g)||u("::","Kernel").$raise(u("::","ArgumentError"),"no block given");var d=g.$$s,h;g.$$s=null;if(this.$$is_class||this.$$is_module){this.$$eval=!0;try{h=g.apply(this,b)}finally{this.$$eval=!1}}else h=g.apply(this,b);g.$$s=d;return h},S.$$arity=-1);c.def(x,"$singleton_method_added",
l=function(c){return E},l.$$arity=-1);c.def(x,"$singleton_method_removed",e=function(c){return E},e.$$arity=-1);c.def(x,"$singleton_method_undefined",q=function(c){return E},q.$$arity=-1);return(c.def(x,"$method_missing",n=function(c,b){var d,g=n.$$p,e=E,e=arguments.length;d=e-1;0>d&&(d=0);d=Array(d);for(var f=1;f<e;f++)d[f-1]=arguments[f];g&&(n.$$p=null);e=p(this.$inspect&&!this.$inspect.$$stub)?"undefined method `"+c+"' for "+this.$inspect()+":"+this.$$class:"undefined method `"+c+"' for "+this.$$class;
return u("::","Kernel").$raise(u("::","NoMethodError").$new(e,c))},n.$$arity=-2),E)&&"method_missing"}(z[0],null,z)},Opal.modules["corelib/kernel"]=function(c){function z(a,c){return"number"===typeof a&&"number"===typeof c?a<=c:a["$<="](c)}var E=[],u=c.nil,r=c.const_get_qualified,p=c.const_get_relative,k=c.module,A=c.truthy,v=c.gvars,x=c.hash2,a=c.send,g=c.klass;c.add_stubs("$raise $new $inspect $! $=~ $== $object_id $class $coerce_to? $<< $allocate $copy_instance_variables $copy_singleton_methods $initialize_clone $initialize_copy $define_method $singleton_class $to_proc $initialize_dup $for $empty? $pop $call $append_features $extend_object $extended $length $respond_to? $[] $nil? $to_a $to_int $fetch $Integer $Float $to_ary $to_str $coerce_to $to_s $__id__ $instance_variable_name! $coerce_to! $=== $enum_for $result $any? $print $format $puts $each $<= $exception $is_a? $rand $respond_to_missing? $try_convert! $expand_path $join $start_with? $srand $new_seed $sym $arg $open $include".split(" "));
(function(g,t){var B=k(g,"Kernel"),y=[B].concat(t),h,b,d,f,m,S,l,e,q,n,Ma,ka,C,da,L,ta,W,J,I,w,fa,Q,ea,N,O,X,R,P,ja,Z,H,ba,T,ga,ca,aa,E,la,ma,ha,pa,Y,qa,na,ia,xa,ra,wa,ua,va,ya,Aa,Ea,Ba,Ca,Da,Ha,Ia,M,Ka,oa,Fa,Ja,Ga,D;c.def(B,"$method_missing",h=function(a,c){var b,d=h.$$p,g=arguments.length;b=g-1;0>b&&(b=0);b=Array(b);for(var e=1;e<g;e++)b[e-1]=arguments[e];d&&(h.$$p=null);return this.$raise(p(y,"NoMethodError").$new("undefined method `"+a+"' for "+this.$inspect(),a,b))},h.$$arity=-2);c.def(B,"$=~",
b=function(a){return!1},b.$$arity=1);c.def(B,"$!~",d=function(a){return this["$=~"](a)["$!"]()},d.$$arity=1);c.def(B,"$===",f=function(a){var c;return A(c=this.$object_id()["$=="](a.$object_id()))?c:this["$=="](a)},f.$$arity=1);c.def(B,"$<=>",m=function(a){this.$$comparable=!0;return(a=this["$=="](a))&&a!==u?0:u},m.$$arity=1);c.def(B,"$method",S=function(a){var c=this["$"+a];c&&!c.$$stub||this.$raise(p(y,"NameError").$new("undefined method `"+a+"' for class `"+this.$class()+"'",a));return p(y,"Method").$new(this,
c.$$owner||this.$class(),c,a)},S.$$arity=1);c.def(B,"$methods",l=function(a){null==a&&(a=!0);var b=[],d;for(d in this)"$"==d[0]&&"function"===typeof this[d]&&(0!=a&&a!==u||c.hasOwnProperty.call(this,d))&&void 0===this[d].$$stub&&b.push(d.substr(1));return b},l.$$arity=-1);c.alias(B,"public_methods","methods");c.def(B,"$Array",e=function(a){var c;if(a===u)return[];if(a.$$is_array)return a;c=p(y,"Opal")["$coerce_to?"](a,p(y,"Array"),"to_ary");if(c!==u)return c;c=p(y,"Opal")["$coerce_to?"](a,p(y,"Array"),
"to_a");return c!==u?c:[a]},e.$$arity=1);c.def(B,"$at_exit",q=function(){var a,c=q.$$p,b=c||u;null==v.__at_exit__&&(v.__at_exit__=u);c&&(q.$$p=null);v.__at_exit__=A(a=v.__at_exit__)?a:[];return v.__at_exit__["$<<"](b)},q.$$arity=0);c.def(B,"$caller",n=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];return[]},n.$$arity=-1);c.def(B,"$class",Ma=function(){return this.$$class},Ma.$$arity=0);c.def(B,"$copy_instance_variables",ka=function(a){var c=
Object.keys(a),b,d,g;b=0;for(d=c.length;b<d;b++)g=c[b],"$"!==g.charAt(0)&&a.hasOwnProperty(g)&&(this[g]=a[g])},ka.$$arity=1);c.def(B,"$copy_singleton_methods",C=function(a){var b;if(a.hasOwnProperty("$$meta")){var d=c.get_singleton_class(a).$$proto,g=c.get_singleton_class(this).$$proto;for(b in d)"$"===b.charAt(0)&&d.hasOwnProperty(b)&&(g[b]=d[b])}for(b in a)"$"===b.charAt(0)&&"$"!==b.charAt(1)&&a.hasOwnProperty(b)&&(this[b]=a[b])},C.$$arity=1);c.def(B,"$clone",da=function(a){var b=u;if(null==a||
!a.$$is_hash)if(null==a)x([],{});else throw c.ArgumentError.$new("expected kwargs");b=this.$class().$allocate();b.$copy_instance_variables(this);b.$copy_singleton_methods(this);b.$initialize_clone(this);return b},da.$$arity=-1);c.def(B,"$initialize_clone",L=function(a){return this.$initialize_copy(a)},L.$$arity=1);c.def(B,"$define_singleton_method",ta=function(c,b){var d=ta.$$p,g=d||u;d&&(ta.$$p=null);return a(this.$singleton_class(),"define_method",[c,b],g.$to_proc())},ta.$$arity=-2);c.def(B,"$dup",
W=function(){var a=u,a=this.$class().$allocate();a.$copy_instance_variables(this);a.$initialize_dup(this);return a},W.$$arity=0);c.def(B,"$initialize_dup",J=function(a){return this.$initialize_copy(a)},J.$$arity=1);c.def(B,"$enum_for",I=function(b,d){var g,e=I.$$p,f=e||u;null==b&&(b="each");var D=arguments.length;g=D-1;0>g&&(g=0);g=Array(g);for(var h=1;h<D;h++)g[h-1]=arguments[h];e&&(I.$$p=null);return a(p(y,"Enumerator"),"for",[this,b].concat(c.to_a(g)),f.$to_proc())},I.$$arity=-1);c.alias(B,"to_enum",
"enum_for");c.def(B,"$equal?",w=function(a){return this===a},w.$$arity=1);c.def(B,"$exit",fa=function(a){var b,d=u;null==v.__at_exit__&&(v.__at_exit__=u);null==a&&(a=!0);for(v.__at_exit__=A(b=v.__at_exit__)?b:[];!A(v.__at_exit__["$empty?"]());)d=v.__at_exit__.$pop(),d.$call();a=null==a?0:a.$$is_boolean?a?0:1:a.$$is_number?a.$to_i():0;c.exit(a);return u},fa.$$arity=-1);c.def(B,"$extend",Q=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];b=this.$singleton_class();
for(d=c.length-1;0<=d;d--){var g=c[d];g.$$is_module||this.$raise(p(y,"TypeError"),"wrong argument type "+g.$class()+" (expected Module)");g.$append_features(b);g.$extend_object(this);g.$extended(this)}return this},Q.$$arity=-1);c.def(B,"$format",ea=function(a,c){function b(){M&32&&l.$raise(p(y,"ArgumentError"),"flag after width");M&128&&l.$raise(p(y,"ArgumentError"),"flag after precision")}function d(){M&32&&l.$raise(p(y,"ArgumentError"),"width given twice");M&128&&l.$raise(p(y,"ArgumentError"),"width after precision")}
function g(a){a>=m.length&&l.$raise(p(y,"ArgumentError"),"too few arguments");return m[a]}function e(){switch(O){case -1:l.$raise(p(y,"ArgumentError"),"unnumbered("+Ga+") mixed with numbered");case -2:l.$raise(p(y,"ArgumentError"),"unnumbered("+Ga+") mixed with named")}O=Ga++;return g(O-1)}function f(a){0<O&&l.$raise(p(y,"ArgumentError"),"numbered("+a+") after unnumbered("+O+")");-2===O&&l.$raise(p(y,"ArgumentError"),"numbered("+a+") after named");1>a&&l.$raise(p(y,"ArgumentError"),"invalid index - "+
a+"$");O=-1;return g(a-1)}function D(){return void 0===Z?e():Z}function h(c){var b;for(b="";;C++){C===F&&l.$raise(p(y,"ArgumentError"),"malformed format string - %*[0-9]");if(48>a.charCodeAt(C)||57<a.charCodeAt(C))return C--,b=parseInt(b,10)||0,2147483647<b&&l.$raise(p(y,"ArgumentError"),""+c+" too big"),b;b+=a.charAt(C)}}function n(c){c=h(c);"$"===a.charAt(C+1)?(C++,c=f(c)):c=e();return c.$to_int()}var l=this,m,q=u;null==v.DEBUG&&(v.DEBUG=u);var q=arguments.length,t=q-1;0>t&&(t=0);m=Array(t);for(t=
1;t<q;t++)m[t-1]=arguments[t];A(m.$length()["$=="](1)?m["$[]"](0)["$respond_to?"]("to_ary"):m.$length()["$=="](1))&&(q=p(y,"Opal")["$coerce_to?"](m["$[]"](0),p(y,"Array"),"to_ary"),A(q["$nil?"]())||(m=q.$to_a()));var q="",t=0,B,C,F=a.length,k,w,Da,I,N,S,J,L,x,Z,Ga=1,O=0,M;for(C=a.indexOf("%");-1!==C;C=a.indexOf("%",C)){w=void 0;M=0;N=I=-1;Z=void 0;B=C;C++;switch(a.charAt(C)){case "%":t=C;case "":case "\n":case "\x00":C++;continue}a:for(;C<F;C++)switch(a.charAt(C)){case " ":b();M|=16;continue a;case "#":b();
M|=1;continue a;case "+":b();M|=4;continue a;case "-":b();M|=2;continue a;case "0":b();M|=8;continue a;case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":k=h("width");if("$"===a.charAt(C+1)){if(C+2===F){w="%";C++;break a}void 0!==Z&&l.$raise(p(y,"ArgumentError"),"value given twice - %"+k+"$");Z=f(k);C++}else d(),M|=32,I=k;continue a;case "<":case "{":for(Da="<"===a.charAt(C)?">":"}",k="",C++;;C++){C===F&&l.$raise(p(y,"ArgumentError"),"malformed name - unmatched parenthesis");
if(a.charAt(C)===Da)if(0<O&&l.$raise(p(y,"ArgumentError"),"named "+k+" after unnumbered("+O+")"),-1===O&&l.$raise(p(y,"ArgumentError"),"named "+k+" after numbered"),O=-2,void 0!==m[0]&&m[0].$$is_hash||l.$raise(p(y,"ArgumentError"),"one hash required"),Z=m[0].$fetch(k),">"===Da)continue a;else{w=Z.toString();-1!==N&&(w=w.slice(0,N));if(M&2)for(;w.length<I;)w+=" ";else for(;w.length<I;)w=" "+w;break a}k+=a.charAt(C)}case "*":C++;d();M|=32;I=n("width");0>I&&(M|=2,I=-I);continue a;case ".":M&128&&l.$raise(p(y,
"ArgumentError"),"precision given twice");M|=192;N=0;C++;if("*"===a.charAt(C)){C++;N=n("precision");0>N&&(M&=-65);continue a}N=h("precision");continue a;case "d":case "i":case "u":k=l.$Integer(D());if(0<=k){for(w=k.toString();w.length<N;)w="0"+w;if(M&2){if(M&4||M&16)w=(M&4?"+":" ")+w;for(;w.length<I;)w+=" "}else if(M&8&&-1===N){for(;w.length<I-(M&4||M&16?1:0);)w="0"+w;if(M&4||M&16)w=(M&4?"+":" ")+w}else{if(M&4||M&16)w=(M&4?"+":" ")+w;for(;w.length<I;)w=" "+w}}else{for(w=(-k).toString();w.length<N;)w=
"0"+w;if(M&2)for(w="-"+w;w.length<I;)w+=" ";else if(M&8&&-1===N){for(;w.length<I-1;)w="0"+w;w="-"+w}else for(w="-"+w;w.length<I;)w=" "+w}break a;case "b":case "B":case "o":case "x":case "X":switch(a.charAt(C)){case "b":case "B":S=2;J="0b";L=/^1+/;x="1";break;case "o":S=8;J="0";L=/^3?7+/;x="7";break;case "x":case "X":S=16,J="0x",L=/^f+/,x="f"}k=l.$Integer(D());if(0<=k){for(w=k.toString(S);w.length<N;)w="0"+w;if(M&2){if(M&4||M&16)w=(M&4?"+":" ")+w;for(M&1&&0!==k&&(w=J+w);w.length<I;)w+=" "}else if(M&
8&&-1===N){for(;w.length<I-(M&4||M&16?1:0)-(M&1&&0!==k?J.length:0);)w="0"+w;M&1&&0!==k&&(w=J+w);if(M&4||M&16)w=(M&4?"+":" ")+w}else{M&1&&0!==k&&(w=J+w);if(M&4||M&16)w=(M&4?"+":" ")+w;for(;w.length<I;)w=" "+w}}else if(M&4||M&16){for(w=(-k).toString(S);w.length<N;)w="0"+w;if(M&2)for(M&1&&(w=J+w),w="-"+w;w.length<I;)w+=" ";else if(M&8&&-1===N){for(;w.length<I-1-(M&1?2:0);)w="0"+w;M&1&&(w=J+w);w="-"+w}else for(M&1&&(w=J+w),w="-"+w;w.length<I;)w=" "+w}else{for(w=(k>>>0).toString(S).replace(L,x);w.length<
N-2;)w=x+w;if(M&2)for(w=".."+w,M&1&&(w=J+w);w.length<I;)w+=" ";else if(M&8&&-1===N){for(;w.length<I-2-(M&1?J.length:0);)w=x+w;w=".."+w;M&1&&(w=J+w)}else for(w=".."+w,M&1&&(w=J+w);w.length<I;)w=" "+w}a.charAt(C)===a.charAt(C).toUpperCase()&&(w=w.toUpperCase());break a;case "f":case "e":case "E":case "g":case "G":k=l.$Float(D());if(0<=k||isNaN(k)){if(Infinity===k)w="Inf";else switch(a.charAt(C)){case "f":w=k.toFixed(-1===N?6:N);break;case "e":case "E":w=k.toExponential(-1===N?6:N);break;case "g":case "G":w=
k.toExponential(),Da=parseInt(w.split("e")[1],10),-4>Da||Da>=(-1===N?6:N)||(w=k.toPrecision(-1===N?M&1?6:void 0:N))}if(M&2){if(M&4||M&16)w=(M&4?"+":" ")+w;for(;w.length<I;)w+=" "}else if(M&8&&Infinity!==k&&!isNaN(k)){for(;w.length<I-(M&4||M&16?1:0);)w="0"+w;if(M&4||M&16)w=(M&4?"+":" ")+w}else{if(M&4||M&16)w=(M&4?"+":" ")+w;for(;w.length<I;)w=" "+w}}else{if(-Infinity===k)w="Inf";else switch(a.charAt(C)){case "f":w=(-k).toFixed(-1===N?6:N);break;case "e":case "E":w=(-k).toExponential(-1===N?6:N);break;
case "g":case "G":w=(-k).toExponential(),Da=parseInt(w.split("e")[1],10),-4>Da||Da>=(-1===N?6:N)||(w=(-k).toPrecision(-1===N?M&1?6:void 0:N))}if(M&2)for(w="-"+w;w.length<I;)w+=" ";else if(M&8&&-Infinity!==k){for(;w.length<I-1;)w="0"+w;w="-"+w}else for(w="-"+w;w.length<I;)w=" "+w}a.charAt(C)!==a.charAt(C).toUpperCase()||Infinity===k||-Infinity===k||isNaN(k)||(w=w.toUpperCase());w=w.replace(/([eE][-+]?)([0-9])$/,"$10$2");break a;case "a":case "A":l.$raise(p(y,"NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");
case "c":k=D();k["$respond_to?"]("to_ary")&&(k=k.$to_ary()[0]);w=k["$respond_to?"]("to_str")?k.$to_str():String.fromCharCode(p(y,"Opal").$coerce_to(k,p(y,"Integer"),"to_int"));1!==w.length&&l.$raise(p(y,"ArgumentError"),"%c requires a character");if(M&2)for(;w.length<I;)w+=" ";else for(;w.length<I;)w=" "+w;break a;case "p":w=D().$inspect();-1!==N&&(w=w.slice(0,N));if(M&2)for(;w.length<I;)w+=" ";else for(;w.length<I;)w=" "+w;break a;case "s":w=D().$to_s();-1!==N&&(w=w.slice(0,N));if(M&2)for(;w.length<
I;)w+=" ";else for(;w.length<I;)w=" "+w;break a;default:l.$raise(p(y,"ArgumentError"),"malformed format string - %"+a.charAt(C))}void 0===w&&l.$raise(p(y,"ArgumentError"),"malformed format string - %");q+=a.slice(t,B)+w;t=C+1}v.DEBUG&&0<=O&&Ga<m.length&&l.$raise(p(y,"ArgumentError"),"too many arguments for format string");return q+a.slice(t)},ea.$$arity=-2);c.def(B,"$hash",N=function(){return this.$__id__()},N.$$arity=0);c.def(B,"$initialize_copy",O=function(a){return u},O.$$arity=1);c.def(B,"$inspect",
X=function(){return this.$to_s()},X.$$arity=0);c.def(B,"$instance_of?",R=function(a){a.$$is_class||a.$$is_module||this.$raise(p(y,"TypeError"),"class or module required");return this.$$class===a},R.$$arity=1);c.def(B,"$instance_variable_defined?",P=function(a){a=p(y,"Opal")["$instance_variable_name!"](a);return c.hasOwnProperty.call(this,a.substr(1))},P.$$arity=1);c.def(B,"$instance_variable_get",ja=function(a){a=p(y,"Opal")["$instance_variable_name!"](a);a=this[c.ivar(a.substr(1))];return null==
a?u:a},ja.$$arity=1);c.def(B,"$instance_variable_set",Z=function(a,b){a=p(y,"Opal")["$instance_variable_name!"](a);return this[c.ivar(a.substr(1))]=b},Z.$$arity=2);c.def(B,"$remove_instance_variable",H=function(a){a=p(y,"Opal")["$instance_variable_name!"](a);var b=c.ivar(a.substr(1));return this.hasOwnProperty(b)?(a=this[b],delete this[b],a):this.$raise(p(y,"NameError"),"instance variable "+a+" not defined")},H.$$arity=1);c.def(B,"$instance_variables",ba=function(){var a=[],c,b;for(b in this)this.hasOwnProperty(b)&&
"$"!==b.charAt(0)&&(c="$"===b.substr(-1)?b.slice(0,b.length-1):b,a.push("@"+c));return a},ba.$$arity=0);c.def(B,"$Integer",T=function(a,c){var b=this,d,g;if(!a.$$is_string)return void 0!==c&&b.$raise(p(y,"ArgumentError"),"base specified for non string value"),a===u&&b.$raise(p(y,"TypeError"),"can't convert nil into Integer"),a.$$is_number?((Infinity===a||-Infinity===a||isNaN(a))&&b.$raise(p(y,"FloatDomainError"),a),Math.floor(a)):a["$respond_to?"]("to_int")&&(d=a.$to_int(),d!==u)?d:p(y,"Opal")["$coerce_to!"](a,
p(y,"Integer"),"to_i");if("0"===a)return 0;void 0===c?c=0:(c=p(y,"Opal").$coerce_to(c,p(y,"Integer"),"to_int"),(1===c||0>c||36<c)&&b.$raise(p(y,"ArgumentError"),"invalid radix "+c));d=a.toLowerCase();d=d.replace(/(\d)_(?=\d)/g,"$1");d=d.replace(/^(\s*[+-]?)(0[bodx]?)/,function(d,g,e){switch(e){case "0b":if(0===c||2===c)return c=2,g;case "0":case "0o":if(0===c||8===c)return c=8,g;case "0d":if(0===c||10===c)return c=10,g;case "0x":if(0===c||16===c)return c=16,g}b.$raise(p(y,"ArgumentError"),'invalid value for Integer(): "'+
a+'"')});c=0===c?10:c;g="0-"+(10>=c?c-1:"9a-"+String.fromCharCode(97+(c-11)));(new RegExp("^\\s*[+-]?["+g+"]+\\s*$")).test(d)||b.$raise(p(y,"ArgumentError"),'invalid value for Integer(): "'+a+'"');d=parseInt(d,c);isNaN(d)&&b.$raise(p(y,"ArgumentError"),'invalid value for Integer(): "'+a+'"');return d},T.$$arity=-2);c.def(B,"$Float",ga=function(a){var c;a===u&&this.$raise(p(y,"TypeError"),"can't convert nil into Float");if(a.$$is_string){c=a.toString();c=c.replace(/(\d)_(?=\d)/g,"$1");if(/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(c))return this.$Integer(c);
/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(c)||this.$raise(p(y,"ArgumentError"),'invalid value for Float(): "'+a+'"');return parseFloat(c)}return p(y,"Opal")["$coerce_to!"](a,p(y,"Float"),"to_f")},ga.$$arity=1);c.def(B,"$Hash",ca=function(a){var c;return A(A(c=a["$nil?"]())?c:a["$=="]([]))?x([],{}):A(p(y,"Hash")["$==="](a))?a:p(y,"Opal")["$coerce_to!"](a,p(y,"Hash"),"to_hash")},ca.$$arity=1);c.def(B,"$is_a?",aa=function(a){a.$$is_class||a.$$is_module||this.$raise(p(y,"TypeError"),"class or module required");
return c.is_a(this,a)},aa.$$arity=1);c.def(B,"$itself",E=function(){return this},E.$$arity=0);c.alias(B,"kind_of?","is_a?");c.def(B,"$lambda",la=function(){var a=la.$$p,b=a||u;a&&(la.$$p=null);return c.lambda(b)},la.$$arity=0);c.def(B,"$load",ma=function(a){a=p(y,"Opal")["$coerce_to!"](a,p(y,"String"),"to_str");return c.load(a)},ma.$$arity=1);c.def(B,"$loop",ha=function(){var b,d=ha.$$p,g=d||u,e=u;d&&(ha.$$p=null);if(g===u)return a(this,"enum_for",["loop"],(b=function(){return r(p(y,"Float"),"INFINITY")},
b.$$s=this,b.$$arity=0,b));for(;A(!0);)try{c.yieldX(g,[])}catch(f){if(c.rescue(f,[p(y,"StopIteration")])){e=f;try{return e.$result()}finally{c.pop_exception()}}else throw f;}return this},ha.$$arity=0);c.def(B,"$nil?",pa=function(){return!1},pa.$$arity=0);c.alias(B,"object_id","__id__");c.def(B,"$printf",Y=function(b){var d,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];A(d["$any?"]())&&this.$print(a(this,"format",c.to_a(d)));return u},Y.$$arity=-1);c.def(B,
"$proc",qa=function(){var a=qa.$$p,c=a||u;a&&(qa.$$p=null);A(c)||this.$raise(p(y,"ArgumentError"),"tried to create Proc object without a block");c.$$is_lambda=!1;return c},qa.$$arity=0);c.def(B,"$puts",na=function(b){var d;null==v.stdout&&(v.stdout=u);var g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];return a(v.stdout,"puts",c.to_a(d))},na.$$arity=-1);c.def(B,"$p",ia=function(c){var b,d,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var e=0;e<g;e++)d[e-
0]=arguments[e];a(d,"each",[],(b=function(a){null==v.stdout&&(v.stdout=u);null==a&&(a=u);return v.stdout.$puts(a.$inspect())},b.$$s=this,b.$$arity=1,b));return A(z(d.$length(),1))?d["$[]"](0):d},ia.$$arity=-1);c.def(B,"$print",xa=function(b){var d;null==v.stdout&&(v.stdout=u);var g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];return a(v.stdout,"print",c.to_a(d))},xa.$$arity=-1);c.def(B,"$warn",ra=function(b){var d,g;null==v.VERBOSE&&(v.VERBOSE=u);null==v.stderr&&
(v.stderr=u);var e=arguments.length;g=e-0;0>g&&(g=0);g=Array(g);for(var f=0;f<e;f++)g[f-0]=arguments[f];return A(A(d=v.VERBOSE["$nil?"]())?d:g["$empty?"]())?u:a(v.stderr,"puts",c.to_a(g))},ra.$$arity=-1);c.def(B,"$raise",wa=function(a,b,d){null==v["!"]&&(v["!"]=u);null==b&&(b=u);if(null==a&&v["!"]!==u)throw v["!"];null==a?a=p(y,"RuntimeError").$new():a.$$is_string?a=p(y,"RuntimeError").$new(a):a.$$is_class&&a["$respond_to?"]("exception")?a=a.$exception(b):a["$is_a?"](p(y,"Exception"))||(a=p(y,"TypeError").$new("exception class/object expected"));
v["!"]!==u&&c.exceptions.push(v["!"]);v["!"]=a;throw a;},wa.$$arity=-1);c.alias(B,"fail","raise");c.def(B,"$rand",ua=function(a){if(void 0===a)return r(p(y,"Random"),"DEFAULT").$rand();a.$$is_number&&(0>a&&(a=Math.abs(a)),0!==a%1&&(a=a.$to_i()),0===a&&(a=void 0));return r(p(y,"Random"),"DEFAULT").$rand(a)},ua.$$arity=-1);c.def(B,"$respond_to?",va=function(a,c){null==c&&(c=!1);if(A(this["$respond_to_missing?"](a,c)))return!0;var b=this["$"+a];return"function"!==typeof b||b.$$stub?!1:!0},va.$$arity=
-2);c.def(B,"$respond_to_missing?",ya=function(a,c){return!1},ya.$$arity=-2);c.def(B,"$require",Aa=function(a){a=p(y,"Opal")["$coerce_to!"](a,p(y,"String"),"to_str");return c.require(a)},Aa.$$arity=1);c.def(B,"$require_relative",Ea=function(a){p(y,"Opal")["$try_convert!"](a,p(y,"String"),"to_str");a=p(y,"File").$expand_path(p(y,"File").$join(c.current_file,"..",a));return c.require(a)},Ea.$$arity=1);c.def(B,"$require_tree",Ba=function(a){var b=[];a=p(y,"File").$expand_path(a);a=c.normalize(a);"."===
a&&(a="");for(var d in c.modules)d["$start_with?"](a)&&b.push([d,c.require(d)]);return b},Ba.$$arity=1);c.alias(B,"send","__send__");c.alias(B,"public_send","__send__");c.def(B,"$singleton_class",Ca=function(){return c.get_singleton_class(this)},Ca.$$arity=0);c.def(B,"$sleep",Da=function(a){null==a&&(a=u);a===u&&this.$raise(p(y,"TypeError"),"can't convert NilClass into time interval");a.$$is_number||this.$raise(p(y,"TypeError"),"can't convert "+a.$class()+" into time interval");0>a&&this.$raise(p(y,
"ArgumentError"),"time interval must be positive");for(var b=c.global.performance?function(){return performance.now()}:function(){return new Date},d=b();b()-d<=1E3*a;);return a},Da.$$arity=-1);c.alias(B,"sprintf","format");c.def(B,"$srand",Ha=function(a){null==a&&(a=p(y,"Random").$new_seed());return p(y,"Random").$srand(a)},Ha.$$arity=-1);c.def(B,"$String",Ia=function(a){var c;return A(c=p(y,"Opal")["$coerce_to?"](a,p(y,"String"),"to_str"))?c:p(y,"Opal")["$coerce_to!"](a,p(y,"String"),"to_s")},Ia.$$arity=
1);c.def(B,"$tap",M=function(){var a=M.$$p,b=a||u;a&&(M.$$p=null);c.yield1(b,this);return this},M.$$arity=0);c.def(B,"$to_proc",Ka=function(){return this},Ka.$$arity=0);c.def(B,"$to_s",oa=function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"},oa.$$arity=0);c.def(B,"$catch",Fa=function(a){var b=Fa.$$p,d=b||u,g=u;b&&(Fa.$$p=null);try{return c.yieldX(d,[])}catch(e){if(c.rescue(e,[p(y,"UncaughtThrowError")])){g=e;try{return g.$sym()["$=="](a)?g.$arg():this.$raise()}finally{c.pop_exception()}}else throw e;
}},Fa.$$arity=1);c.def(B,"$throw",Ja=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];return this.$raise(p(y,"UncaughtThrowError"),c)},Ja.$$arity=-1);c.def(B,"$open",Ga=function(b){var d,g=Ga.$$p,e=g||u,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var D=0;D<f;D++)d[D-0]=arguments[D];g&&(Ga.$$p=null);return a(p(y,"File"),"open",c.to_a(d),e.$to_proc())},Ga.$$arity=-1);c.def(B,"$yield_self",D=function(){var b,d=D.$$p,g=d||u;d&&(D.$$p=null);
return g===u?a(this,"enum_for",["yield_self"],(b=function(){return 1},b.$$s=this,b.$$arity=0,b)):c.yield1(g,this)},D.$$arity=0)})(E[0],E);return function(a,$super,c){function y(){}a=y=g(a,$super,"Object",y);c=[a].concat(c);return a.$include(p(c,"Kernel"))}(E[0],null,E)},Opal.modules["corelib/error"]=function(c){var z=[],E=c.nil,u=c.const_get_relative,r=c.klass,p=c.send,k=c.truthy,A=c.module,v=c.hash2;c.add_stubs("$new $clone $to_s $empty? $class $raise $+ $attr_reader $[] $> $length $inspect".split(" "));
(function(x,$super,g){function F(){}x=F=r(x,$super,"Exception",F);var t=x.$$proto,B=[x].concat(g),y,h,b,d,f,m,S,l,e;t.message=E;var q;c.defs(x,"$new",y=function(b){var d,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];g=0<d.length?d[0]:E;e=new this.$$alloc(g);e.name=this.$$name;e.message=g;c.send(e,e.$initialize,d);c.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(e,q);return e},y.$$arity=-1);q=x.$new;c.defs(x,"$exception",h=function(b){var d,
g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];return p(this,"new",c.to_a(d))},h.$$arity=-1);c.def(x,"$initialize",b=function(c){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var g=0;g<d;g++)b[g-0]=arguments[g];return this.message=0<b.length?b[0]:E},b.$$arity=-1);c.def(x,"$backtrace",d=function(){if(this.backtrace)return this.backtrace;var c=this.stack;return"string"===typeof c?c.split("\n").slice(0,15):c?c.slice(0,15):[]},d.$$arity=0);c.def(x,"$exception",
f=function(c){null==c&&(c=E);if(c===E||this===c)return this;var b=this.$clone();b.message=c;return b},f.$$arity=-1);c.def(x,"$message",m=function(){return this.$to_s()},m.$$arity=0);c.def(x,"$inspect",S=function(){var c=E,c=this.$to_s();return k(c["$empty?"]())?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"},S.$$arity=0);c.def(x,"$set_backtrace",l=function(c){var b=!0,d,g;if(c===E)this.backtrace=E;else if(c.$$is_string)this.backtrace=[c];else{if(c.$$is_array)for(d=0,g=c.length;d<
g;d++){if(!c[d].$$is_string){b=!1;break}}else b=!1;!1===b&&this.$raise(u(B,"TypeError"),"backtrace must be Array of String");this.backtrace=c}return c},l.$$arity=1);return(c.def(x,"$to_s",e=function(){var c,b;return k(c=k(b=this.message)?this.message.$to_s():b)?c:this.$class().$to_s()},e.$$arity=0),E)&&"to_s"})(z[0],Error,z);(function(c,$super,g){function k(){}[k=r(c,$super,"ScriptError",k)].concat(g);return E})(z[0],u(z,"Exception"),z);(function(c,$super,g){function k(){}[k=r(c,$super,"SyntaxError",
k)].concat(g);return E})(z[0],u(z,"ScriptError"),z);(function(c,$super,g){function k(){}[k=r(c,$super,"LoadError",k)].concat(g);return E})(z[0],u(z,"ScriptError"),z);(function(c,$super,g){function k(){}[k=r(c,$super,"NotImplementedError",k)].concat(g);return E})(z[0],u(z,"ScriptError"),z);(function(c,$super,g){function k(){}[k=r(c,$super,"SystemExit",k)].concat(g);return E})(z[0],u(z,"Exception"),z);(function(c,$super,g){function k(){}[k=r(c,$super,"NoMemoryError",k)].concat(g);return E})(z[0],u(z,
"Exception"),z);(function(c,$super,g){function k(){}[k=r(c,$super,"SignalException",k)].concat(g);return E})(z[0],u(z,"Exception"),z);(function(c,$super,g){function k(){}[k=r(c,$super,"Interrupt",k)].concat(g);return E})(z[0],u(z,"Exception"),z);(function(c,$super,g){function k(){}[k=r(c,$super,"SecurityError",k)].concat(g);return E})(z[0],u(z,"Exception"),z);(function(c,$super,g){function k(){}[k=r(c,$super,"StandardError",k)].concat(g);return E})(z[0],u(z,"Exception"),z);(function(c,$super,g){function k(){}
[k=r(c,$super,"EncodingError",k)].concat(g);return E})(z[0],u(z,"StandardError"),z);(function(c,$super,g){function k(){}[k=r(c,$super,"ZeroDivisionError",k)].concat(g);return E})(z[0],u(z,"StandardError"),z);(function(c,$super,g){function k(){}[k=r(c,$super,"NameError",k)].concat(g);return E})(z[0],u(z,"StandardError"),z);(function(c,$super,g){function k(){}[k=r(c,$super,"NoMethodError",k)].concat(g);return E})(z[0],u(z,"NameError"),z);(function(c,$super,g){function k(){}[k=r(c,$super,"RuntimeError",
k)].concat(g);return E})(z[0],u(z,"StandardError"),z);(function(c,$super,g){function k(){}[k=r(c,$super,"FrozenError",k)].concat(g);return E})(z[0],u(z,"RuntimeError"),z);(function(c,$super,g){function k(){}[k=r(c,$super,"LocalJumpError",k)].concat(g);return E})(z[0],u(z,"StandardError"),z);(function(c,$super,g){function k(){}[k=r(c,$super,"TypeError",k)].concat(g);return E})(z[0],u(z,"StandardError"),z);(function(c,$super,g){function k(){}[k=r(c,$super,"ArgumentError",k)].concat(g);return E})(z[0],
u(z,"StandardError"),z);(function(c,$super,g){function k(){}[k=r(c,$super,"IndexError",k)].concat(g);return E})(z[0],u(z,"StandardError"),z);(function(c,$super,g){function k(){}[k=r(c,$super,"StopIteration",k)].concat(g);return E})(z[0],u(z,"IndexError"),z);(function(c,$super,g){function k(){}[k=r(c,$super,"KeyError",k)].concat(g);return E})(z[0],u(z,"IndexError"),z);(function(c,$super,g){function k(){}[k=r(c,$super,"RangeError",k)].concat(g);return E})(z[0],u(z,"StandardError"),z);(function(c,$super,
g){function k(){}[k=r(c,$super,"FloatDomainError",k)].concat(g);return E})(z[0],u(z,"RangeError"),z);(function(c,$super,g){function k(){}[k=r(c,$super,"IOError",k)].concat(g);return E})(z[0],u(z,"StandardError"),z);(function(c,$super,g){function k(){}[k=r(c,$super,"SystemCallError",k)].concat(g);return E})(z[0],u(z,"StandardError"),z);(function(x,a){var g=[A(x,"Errno")].concat(a);(function(a,$super,g){function y(){}a=y=r(a,$super,"EINVAL",y);[a].concat(g);var h;return(c.defs(a,"$new",h=function(a){var d=
h.$$p,g=E;null==a&&(a=E);d&&(h.$$p=null);g="Invalid argument";k(a)&&(a=" - "+a,g="number"===typeof g&&"number"===typeof a?g+a:g["$+"](a));return p(this,c.find_super_dispatcher(this,"new",h,!1,y),[g],null)},h.$$arity=-1),E)&&"new"})(g[0],u(g,"SystemCallError"),g)})(z[0],z);(function(x,$super,g){function F(){}x=F=r(x,$super,"UncaughtThrowError",F);var t=x.$$proto;[x].concat(g);var B;t.sym=E;x.$attr_reader("sym","arg");return(c.def(x,"$initialize",B=function(g){B.$$p&&(B.$$p=null);this.sym=g["$[]"](0);
var h;h=g.$length();h="number"===typeof h?1<h:h["$>"](1);k(h)&&(this.arg=g["$[]"](1));return p(this,c.find_super_dispatcher(this,"initialize",B,!1),["uncaught throw "+this.sym.$inspect()],null)},B.$$arity=1),E)&&"initialize"})(z[0],u(z,"ArgumentError"),z);(function(k,$super,g){function F(){}k=F=r(k,$super,"NameError",F);[k].concat(g);var t;k.$attr_reader("name");return(c.def(k,"$initialize",t=function(g,k){var h=t.$$p;null==k&&(k=E);h&&(t.$$p=null);p(this,c.find_super_dispatcher(this,"initialize",
t,!1),[g],null);return this.name=k},t.$$arity=-2),E)&&"initialize"})(z[0],null,z);(function(k,$super,g){function F(){}k=F=r(k,$super,"NoMethodError",F);[k].concat(g);var t;k.$attr_reader("args");return(c.def(k,"$initialize",t=function(g,k,h){var b=t.$$p;null==k&&(k=E);null==h&&(h=[]);b&&(t.$$p=null);p(this,c.find_super_dispatcher(this,"initialize",t,!1),[g,k],null);return this.args=h},t.$$arity=-2),E)&&"initialize"})(z[0],null,z);(function(c,$super,g){function k(){}c=k=r(c,$super,"StopIteration",
k);[c].concat(g);return c.$attr_reader("result")})(z[0],null,z);(function(x,$super,g){function F(){}x=F=r(x,$super,"KeyError",F);var t=x.$$proto,B=[x].concat(g),y,h,b;t.receiver=t.key=E;c.def(x,"$initialize",y=function(b,g){var h,t,l=y.$$p;if(null==g||!g.$$is_hash)if(null==g)g=v([],{});else throw c.ArgumentError.$new("expected kwargs");h=g.$$smap.receiver;null==h&&(h=E);t=g.$$smap.key;null==t&&(t=E);l&&(y.$$p=null);p(this,c.find_super_dispatcher(this,"initialize",y,!1),[b],null);this.receiver=h;return this.key=
t},y.$$arity=-2);c.def(x,"$receiver",h=function(){var c;return k(c=this.receiver)?c:this.$raise(u(B,"ArgumentError"),"no receiver is available")},h.$$arity=0);return(c.def(x,"$key",b=function(){var c;return k(c=this.key)?c:this.$raise(u(B,"ArgumentError"),"no key is available")},b.$$arity=0),E)&&"key"})(z[0],null,z);return function(c,a){var g=[A(c,"JS")].concat(a);(function(a,$super,c){function g(){}[g=r(a,$super,"Error",g)].concat(c);return E})(g[0],null,g)}(z[0],z)},Opal.modules["corelib/constants"]=
function(c){var z=[],E=c.const_get_relative;c.const_set(z[0],"RUBY_PLATFORM","opal");c.const_set(z[0],"RUBY_ENGINE","opal");c.const_set(z[0],"RUBY_VERSION","2.5.0");c.const_set(z[0],"RUBY_ENGINE_VERSION","0.11.1.dev");c.const_set(z[0],"RUBY_RELEASE_DATE","2018-03-06");c.const_set(z[0],"RUBY_PATCHLEVEL",0);c.const_set(z[0],"RUBY_REVISION",0);c.const_set(z[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon");return c.const_set(z[0],"RUBY_DESCRIPTION","opal "+E(z,"RUBY_ENGINE_VERSION")+
" ("+E(z,"RUBY_RELEASE_DATE")+" revision "+E(z,"RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(c){var z=c.top;c.add_stubs(["$require"]);z.$require("corelib/runtime");z.$require("corelib/helpers");z.$require("corelib/module");z.$require("corelib/class");z.$require("corelib/basic_object");z.$require("corelib/kernel");z.$require("corelib/error");return z.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(c){var z=[],E=c.nil,u=c.const_get_relative,r=c.klass,p=c.hash2,k=c.truthy;
c.add_stubs("$raise $name $new $> $length $Rational".split(" "));(function(A,$super,x){function a(){}A=a=r(A,$super,"NilClass",a);var g=A.$$proto,F=[A].concat(x),t,B,y,h,b,d,f,m,S,l,e,q,n,Ma,ka,C,da,L;g.$$meta=A;(function(a,b){var d=[a].concat(b),g;c.def(a,"$allocate",g=function(){return this.$raise(u(d,"TypeError"),"allocator undefined for "+this.$name())},g.$$arity=0);c.udef(a,"$new");return E})(c.get_singleton_class(A),F);c.def(A,"$!",t=function(){return!0},t.$$arity=0);c.def(A,"$&",B=function(a){return!1},
B.$$arity=1);c.def(A,"$|",y=function(a){return!1!==a&&a!==E},y.$$arity=1);c.def(A,"$^",h=function(a){return!1!==a&&a!==E},h.$$arity=1);c.def(A,"$==",b=function(a){return a===E},b.$$arity=1);c.def(A,"$dup",d=function(){return E},d.$$arity=0);c.def(A,"$clone",f=function(a){if(null==a||!a.$$is_hash)if(null==a)p([],{});else throw c.ArgumentError.$new("expected kwargs");return E},f.$$arity=-1);c.def(A,"$inspect",m=function(){return"nil"},m.$$arity=0);c.def(A,"$nil?",S=function(){return!0},S.$$arity=0);
c.def(A,"$singleton_class",l=function(){return u(F,"NilClass")},l.$$arity=0);c.def(A,"$to_a",e=function(){return[]},e.$$arity=0);c.def(A,"$to_h",q=function(){return c.hash()},q.$$arity=0);c.def(A,"$to_i",n=function(){return 0},n.$$arity=0);c.alias(A,"to_f","to_i");c.def(A,"$to_s",Ma=function(){return""},Ma.$$arity=0);c.def(A,"$to_c",ka=function(){return u(F,"Complex").$new(0,0)},ka.$$arity=0);c.def(A,"$rationalize",C=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-
0]=arguments[d];b=c.$length();b="number"===typeof b?1<b:b["$>"](1);k(b)&&this.$raise(u(F,"ArgumentError"));return this.$Rational(0,1)},C.$$arity=-1);c.def(A,"$to_r",da=function(){return this.$Rational(0,1)},da.$$arity=0);return(c.def(A,"$instance_variables",L=function(){return[]},L.$$arity=0),E)&&"instance_variables"})(z[0],null,z);return c.const_set(z[0],"NIL",E)},Opal.modules["corelib/boolean"]=function(c){var z=[],E=c.nil,u=c.const_get_relative,r=c.klass,p=c.hash2;c.add_stubs(["$raise","$name"]);
(function(k,$super,v){function x(){}k=x=r(k,$super,"Boolean",x);var a=k.$$proto,g=[k].concat(v),F,t,B,y,h,b,d,f,m,S;a.$$is_boolean=!0;a.$$meta=k;(function(a,b){var d=[a].concat(b),g;c.def(a,"$allocate",g=function(){return this.$raise(u(d,"TypeError"),"allocator undefined for "+this.$name())},g.$$arity=0);c.udef(a,"$new");return E})(c.get_singleton_class(k),g);c.def(k,"$__id__",F=function(){return this.valueOf()?2:0},F.$$arity=0);c.alias(k,"object_id","__id__");c.def(k,"$!",t=function(){return 1!=
this},t.$$arity=0);c.def(k,"$&",B=function(a){return 1==this?!1!==a&&a!==E:!1},B.$$arity=1);c.def(k,"$|",y=function(a){return 1==this?!0:!1!==a&&a!==E},y.$$arity=1);c.def(k,"$^",h=function(a){return 1==this?!1===a||a===E:!1!==a&&a!==E},h.$$arity=1);c.def(k,"$==",b=function(a){return 1==this===a.valueOf()},b.$$arity=1);c.alias(k,"equal?","==");c.alias(k,"eql?","==");c.def(k,"$singleton_class",d=function(){return u(g,"Boolean")},d.$$arity=0);c.def(k,"$to_s",f=function(){return 1==this?"true":"false"},
f.$$arity=0);c.def(k,"$dup",m=function(){return this},m.$$arity=0);return(c.def(k,"$clone",S=function(a){if(null==a||!a.$$is_hash)if(null==a)p([],{});else throw c.ArgumentError.$new("expected kwargs");return this},S.$$arity=-1),E)&&"clone"})(z[0],Boolean,z);c.const_set(z[0],"TrueClass",u(z,"Boolean"));c.const_set(z[0],"FalseClass",u(z,"Boolean"));c.const_set(z[0],"TRUE",!0);return c.const_set(z[0],"FALSE",!1)},Opal.modules["corelib/comparable"]=function(c){function z(c,k){return"number"===typeof c&&
"number"===typeof k?c>k:c["$>"](k)}function E(c,k){return"number"===typeof c&&"number"===typeof k?c<k:c["$<"](k)}var u=[],r=c.nil,p=c.const_get_relative,k=c.module,A=c.truthy;c.add_stubs("$=== $> $< $equal? $<=> $normalize $raise $class".split(" "));return function(v,x){var a=k(v,"Comparable"),g=[a].concat(x),F,t,B,y,h,b,d,f;c.defs(a,"$normalize",F=function(a){return A(p(g,"Integer")["$==="](a))?a:A(z(a,0))?1:A(E(a,0))?-1:0},F.$$arity=1);c.def(a,"$==",t=function(a){var b=r;try{return A(this["$equal?"](a))?
!0:this["$<=>"]==c.Kernel["$<=>"]?!1:this.$$comparable?(delete this.$$comparable,!1):A(b=this["$<=>"](a))?0==p(g,"Comparable").$normalize(b):!1}catch(d){if(c.rescue(d,[p(g,"StandardError")]))try{return!1}finally{c.pop_exception()}else throw d;}},t.$$arity=1);c.def(a,"$>",B=function(a){var c=r;A(c=this["$<=>"](a))||this.$raise(p(g,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0<p(g,"Comparable").$normalize(c)},B.$$arity=1);c.def(a,"$>=",y=function(a){var c=r;
A(c=this["$<=>"](a))||this.$raise(p(g,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0<=p(g,"Comparable").$normalize(c)},y.$$arity=1);c.def(a,"$<",h=function(a){var c=r;A(c=this["$<=>"](a))||this.$raise(p(g,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0>p(g,"Comparable").$normalize(c)},h.$$arity=1);c.def(a,"$<=",b=function(a){var c=r;A(c=this["$<=>"](a))||this.$raise(p(g,"ArgumentError"),"comparison of "+this.$class()+
" with "+a.$class()+" failed");return 0>=p(g,"Comparable").$normalize(c)},b.$$arity=1);c.def(a,"$between?",d=function(a,c){return E(this,a)||z(this,c)?!1:!0},d.$$arity=2);c.def(a,"$clamp",f=function(a,c){var b=r,b=a["$<=>"](c);A(b)||this.$raise(p(g,"ArgumentError"),"comparison of "+a.$class()+" with "+c.$class()+" failed");A(z(p(g,"Comparable").$normalize(b),0))&&this.$raise(p(g,"ArgumentError"),"min argument must be smaller than max argument");return A(E(p(g,"Comparable").$normalize(this["$<=>"](a)),
0))?a:A(z(p(g,"Comparable").$normalize(this["$<=>"](c)),0))?c:this},f.$$arity=2)}(u[0],u)},Opal.modules["corelib/regexp"]=function(c){var z=[],E=c.nil,u=c.const_get_relative,r=c.klass,p=c.send,k=c.truthy,A=c.gvars;c.add_stubs("$nil? $[] $raise $escape $options $to_str $new $join $coerce_to! $! $match $coerce_to? $begin $coerce_to $=~ $attr_reader $=== $inspect $to_a".split(" "));(function(c,$super,a){function g(){}[g=r(c,$super,"RegexpError",g)].concat(a);return E})(z[0],u(z,"StandardError"),z);(function(v,
$super,a){function g(){}v=g=r(v,$super,"Regexp",g);var F=v.$$proto,t=[v].concat(a),B,y,h,b,d,f,m,S,l,e;c.const_set(t[0],"IGNORECASE",1);c.const_set(t[0],"EXTENDED",2);c.const_set(t[0],"MULTILINE",4);F.$$is_regexp=!0;(function(a,b){var d=[a].concat(b),g,e,f,h,l;c.def(a,"$allocate",g=function(){var a=g.$$p,b=E,d=b=E,e=E;a&&(g.$$p=null);d=0;e=arguments.length;for(b=Array(e);d<e;d++)b[d]=arguments[d];b=p(this,c.find_super_dispatcher(this,"allocate",g,!1),b,a);b.uninitialized=!0;return b},g.$$arity=0);
c.def(a,"$escape",e=function(a){return c.escape_regexp(a)},e.$$arity=1);c.def(a,"$last_match",f=function(a){null==A["~"]&&(A["~"]=E);null==a&&(a=E);return k(a["$nil?"]())?A["~"]:A["~"]["$[]"](a)},f.$$arity=-1);c.alias(a,"quote","escape");c.def(a,"$union",h=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var g=0;g<b;g++)c[g-0]=arguments[g];var e,f;if(0==c.length)return/(?!)/;if(1==c.length&&c[0].$$is_regexp)return c[0];b=c[0].$$is_array;1<c.length&&b&&this.$raise(u(d,"TypeError"),
"no implicit conversion of Array into String");b&&(c=c[0]);e=void 0;for(var b=[],h=0;h<c.length;h++)g=c[h],g.$$is_string?b.push(this.$escape(g)):g.$$is_regexp?(f=g.$options(),void 0!=e&&e!=f&&this.$raise(u(d,"TypeError"),"All expressions must use the same options"),e=f,b.push("("+g.source+")")):b.push(this.$escape(g.$to_str()));return this.$new(b.$join("|"),e)},h.$$arity=-1);return(c.def(a,"$new",l=function(a,c){if(a.$$is_regexp)return new RegExp(a);a=u(d,"Opal")["$coerce_to!"](a,u(d,"String"),"to_str");
"\\"===a.charAt(a.length-1)&&"\\"!==a.charAt(a.length-2)&&this.$raise(u(d,"RegexpError"),"too short escape sequence: /"+a+"/");if(void 0===c||c["$!"]())return new RegExp(a);if(c.$$is_number){var b="";u(d,"IGNORECASE")&c&&(b+="i");u(d,"MULTILINE")&c&&(b+="m");c=b}else c="i";return new RegExp(a,c)},l.$$arity=-2),E)&&"new"})(c.get_singleton_class(v),t);c.def(v,"$==",B=function(a){return a.constructor==RegExp&&this.toString()===a.toString()},B.$$arity=1);c.def(v,"$===",y=function(a){return this.$match(u(t,
"Opal")["$coerce_to?"](a,u(t,"String"),"to_str"))!==E},y.$$arity=1);c.def(v,"$=~",h=function(a){var c;null==A["~"]&&(A["~"]=E);return k(c=this.$match(a))?A["~"].$begin(0):c},h.$$arity=1);c.alias(v,"eql?","==");c.def(v,"$inspect",b=function(){var a=this.toString(),c=/^\/(.*)\/([^\/]*)$/.exec(a);if(c){for(var a=c[2],c=c[1].split(""),b=c.length,d=!1,g="",e=0;e<b;e++){var f=c[e];d||"/"!=f||(g=g.concat("\\"));g=g.concat(f);d="\\"==f?d?!1:!0:!1}return"/"+g+"/"+a}return a},b.$$arity=0);c.def(v,"$match",
d=function(a,b){var g=d.$$p,e=g||E;null==A["~"]&&(A["~"]=E);g&&(d.$$p=null);this.uninitialized&&this.$raise(u(t,"TypeError"),"uninitialized Regexp");if(void 0===b)return a===E?A["~"]=E:(g=this.exec(u(t,"Opal").$coerce_to(a,u(t,"String"),"to_str")))?(A["~"]=u(t,"MatchData").$new(this,g),e===E?A["~"]:c.yield1(e,A["~"])):A["~"]=E;b=u(t,"Opal").$coerce_to(b,u(t,"Integer"),"to_int");if(a===E)return A["~"]=E;a=u(t,"Opal").$coerce_to(a,u(t,"String"),"to_str");if(0>b&&(b+=a.length,0>b))return A["~"]=E;for(var f=
c.global_regexp(this);;){g=f.exec(a);if(null===g)return A["~"]=E;if(g.index>=b)return A["~"]=u(t,"MatchData").$new(f,g),e===E?A["~"]:c.yield1(e,A["~"]);f.lastIndex=g.index+1}},d.$$arity=-2);c.def(v,"$match?",f=function(a,b){this.uninitialized&&this.$raise(u(t,"TypeError"),"uninitialized Regexp");if(void 0===b)return a===E?!1:this.test(u(t,"Opal").$coerce_to(a,u(t,"String"),"to_str"));b=u(t,"Opal").$coerce_to(b,u(t,"Integer"),"to_int");if(a===E)return!1;a=u(t,"Opal").$coerce_to(a,u(t,"String"),"to_str");
if(0>b&&(b+=a.length,0>b))return!1;var d;d=c.global_regexp(this).exec(a);return null===d||d.index<b?!1:!0},f.$$arity=-2);c.def(v,"$~",m=function(){null==A._&&(A._=E);return this["$=~"](A._)},m.$$arity=0);c.def(v,"$source",S=function(){return this.source},S.$$arity=0);c.def(v,"$options",l=function(){this.uninitialized&&this.$raise(u(t,"TypeError"),"uninitialized Regexp");var a=0;this.multiline&&(a|=u(t,"MULTILINE"));this.ignoreCase&&(a|=u(t,"IGNORECASE"));return a},l.$$arity=0);c.def(v,"$casefold?",
e=function(){return this.ignoreCase},e.$$arity=0);return c.alias(v,"to_s","source")})(z[0],RegExp,z);return function(v,$super,a){function g(){}v=g=r(v,$super,"MatchData",g);var F=v.$$proto,t=[v].concat(a),B,y,h,b,d,f,m,S,l,e,q,n;F.matches=E;v.$attr_reader("post_match","pre_match","regexp","string");c.def(v,"$initialize",B=function(a,c){A["~"]=this;this.regexp=a;this.begin=c.index;this.string=c.input;this.pre_match=c.input.slice(0,c.index);this.post_match=c.input.slice(c.index+c[0].length);this.matches=
[];for(var b=0,d=c.length;b<d;b++){var g=c[b];null==g?this.matches.push(E):this.matches.push(g)}},B.$$arity=2);c.def(v,"$[]",y=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var g=0;g<d;g++)b[g-0]=arguments[g];return p(this.matches,"[]",c.to_a(b))},y.$$arity=-1);c.def(v,"$offset",h=function(a){0!==a&&this.$raise(u(t,"ArgumentError"),"MatchData#offset only supports 0th element");return[this.begin,this.begin+this.matches[a].length]},h.$$arity=1);c.def(v,"$==",b=function(a){var c,
b,d,g;return k(u(t,"MatchData")["$==="](a))?k(c=k(b=k(d=k(g=this.string==a.string)?this.regexp.toString()==a.regexp.toString():g)?this.pre_match==a.pre_match:d)?this.post_match==a.post_match:b)?this.begin==a.begin:c:!1},b.$$arity=1);c.alias(v,"eql?","==");c.def(v,"$begin",d=function(a){0!==a&&this.$raise(u(t,"ArgumentError"),"MatchData#begin only supports 0th element");return this.begin},d.$$arity=1);c.def(v,"$end",f=function(a){0!==a&&this.$raise(u(t,"ArgumentError"),"MatchData#end only supports 0th element");
return this.begin+this.matches[a].length},f.$$arity=1);c.def(v,"$captures",m=function(){return this.matches.slice(1)},m.$$arity=0);c.def(v,"$inspect",S=function(){for(var a="#<MatchData "+this.matches[0].$inspect(),c=1,b=this.matches.length;c<b;c++)a+=" "+c+":"+this.matches[c].$inspect();return a+">"},S.$$arity=0);c.def(v,"$length",l=function(){return this.matches.length},l.$$arity=0);c.alias(v,"size","length");c.def(v,"$to_a",e=function(){return this.matches},e.$$arity=0);c.def(v,"$to_s",q=function(){return this.matches[0]},
q.$$arity=0);return(c.def(v,"$values_at",n=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];for(var g,d=[],b=0;b<c.length;b++){c[b].$$is_range&&(g=c[b].$to_a(),g.unshift(b,1),Array.prototype.splice.apply(c,g));g=u(t,"Opal")["$coerce_to!"](c[b],u(t,"Integer"),"to_int");if(0>g&&(g+=this.matches.length,0>g)){d.push(E);continue}d.push(this.matches[g])}return d},n.$$arity=-1),E)&&"values_at"}(z[0],null,z)},Opal.modules["corelib/string"]=function(c){function z(a,
c){return"number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)}function E(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var u=c.top,r=[],p=c.nil,k=c.const_get_relative,A=c.klass,v=c.truthy,x=c.send,a=c.gvars;c.add_stubs("$require $include $coerce_to? $coerce_to $raise $=== $format $to_s $respond_to? $to_str $<=> $== $=~ $new $force_encoding $casecmp $empty? $ljust $ceil $/ $+ $rjust $floor $to_a $each_char $to_proc $coerce_to! $copy_singleton_methods $initialize_clone $initialize_dup $enum_for $size $chomp $[] $to_i $each_line $class $match $captures $proc $succ $escape".split(" "));
u.$require("corelib/comparable");u.$require("corelib/regexp");(function(g,$super,t){function B(){}function y(a){function c(a){var d="",g,e=a.length,f,D;for(g=0;g<e;g++)if(f=a.charAt(g),"-"===f&&0<g&&g<e-1&&!D){D=a.charCodeAt(g-1);f=a.charCodeAt(g+1);D>f&&h.$raise(k(b,"ArgumentError"),'invalid range "'+D+"-"+f+'" in string transliteration');for(D+=1;D<f+1;D++)d+=String.fromCharCode(D);D=!0;g++}else D="\\"===f,d+=f;return d}function d(a,c){if(0===a.length)return c;var b="",g,e=a.length,f;for(g=0;g<
e;g++)f=a.charAt(g),-1!==c.indexOf(f)&&(b+=f);return b}var g,e,f,D,l="",n="";g=0;for(e=a.length;g<e;g++)f=k(b,"Opal").$coerce_to(a[g],k(b,"String"),"to_str"),D="^"===f.charAt(0)&&1<f.length,f=c(D?f.slice(1):f),D?n=d(n,f):l=d(l,f);if(0<l.length&&0<n.length){f="";g=0;for(e=l.length;g<e;g++)a=l.charAt(g),-1===n.indexOf(a)&&(f+=a);l=f;n=""}return 0<l.length?"["+k(b,"Regexp").$escape(l)+"]":0<n.length?"[^"+k(b,"Regexp").$escape(n)+"]":null}var h=B=A(g,$super,"String",B);g=h.$$proto;var b=[h].concat(t),
d,f,m,S,l,e,q,n,r,ka,C,da,L,u,W,J,I,w,fa,Q,ea,N,O,X,R,P,ja,Z,H,ba,T,ga,ca,aa,sa,la,ma,ha,pa,Y,qa,na,ia,xa,ra,wa,ua,va,ya,Aa,Ea,Ba,Ca,Da,Ha,Ia,M,Ka,oa,Fa,Ja,Ga,D,V,za,U,La,K,Pa,Na,Oa,Qa,G;g.length=p;h.$include(k(b,"Comparable"));g.$$is_string=!0;c.def(h,"$__id__",d=function(){return this.toString()},d.$$arity=0);c.alias(h,"object_id","__id__");c.defs(h,"$try_convert",f=function(a){return k(b,"Opal")["$coerce_to?"](a,k(b,"String"),"to_str")},f.$$arity=1);c.defs(h,"$new",m=function(a){null==a&&(a="");
a=k(b,"Opal").$coerce_to(a,k(b,"String"),"to_str");return new String(a)},m.$$arity=-1);c.def(h,"$initialize",S=function(a){return void 0===a?this:this.$raise(k(b,"NotImplementedError"),"Mutable strings are not supported in Opal.")},S.$$arity=-1);c.def(h,"$%",l=function(a){return v(k(b,"Array")["$==="](a))?x(this,"format",[this].concat(c.to_a(a))):this.$format(this,a)},l.$$arity=1);c.def(h,"$*",e=function(a){a=k(b,"Opal").$coerce_to(a,k(b,"Integer"),"to_int");0>a&&this.$raise(k(b,"ArgumentError"),
"negative argument");if(0===a)return"";var c="",d=this.toString();for(268435456<=d.length*a&&this.$raise(k(b,"RangeError"),"multiply count must not overflow maximum string size");;){1===(a&1)&&(c+=d);a>>>=1;if(0===a)break;d+=d}return c},e.$$arity=1);c.def(h,"$+",q=function(a){a=k(b,"Opal").$coerce_to(a,k(b,"String"),"to_str");return this+a.$to_s()},q.$$arity=1);c.def(h,"$<=>",n=function(a){if(v(a["$respond_to?"]("to_str")))return a=a.$to_str().$to_s(),this>a?1:this<a?-1:0;a=a["$<=>"](this);return a===
p?p:0<a?-1:0>a?1:0},n.$$arity=1);c.def(h,"$==",r=function(a){return a.$$is_string?this.toString()===a.toString():k(b,"Opal")["$respond_to?"](a,"to_str")?a["$=="](this):!1},r.$$arity=1);c.alias(h,"eql?","==");c.alias(h,"===","==");c.def(h,"$=~",ka=function(a){a.$$is_string&&this.$raise(k(b,"TypeError"),"type mismatch: String given");return a["$=~"](this)},ka.$$arity=1);c.def(h,"$[]",C=function(c,d){var g=this.length,e;if(c.$$is_range){e=c.excl;d=k(b,"Opal").$coerce_to(c.end,k(b,"Integer"),"to_int");
c=k(b,"Opal").$coerce_to(c.begin,k(b,"Integer"),"to_int");if(Math.abs(c)>g)return p;0>c&&(c+=g);0>d&&(d+=g);e||(d+=1);d-=c;0>d&&(d=0);return this.substr(c,d)}if(c.$$is_string)return null!=d&&this.$raise(k(b,"TypeError")),-1!==this.indexOf(c)?c:p;if(c.$$is_regexp){g=this.match(c);if(null===g)return a["~"]=p;a["~"]=k(b,"MatchData").$new(c,g);if(null==d)return g[0];d=k(b,"Opal").$coerce_to(d,k(b,"Integer"),"to_int");return 0>d&&-d<g.length?g[d+g.length]:0<=d&&d<g.length?g[d]:p}c=k(b,"Opal").$coerce_to(c,
k(b,"Integer"),"to_int");0>c&&(c+=g);if(null==d)return c>=g||0>c?p:this.substr(c,1);d=k(b,"Opal").$coerce_to(d,k(b,"Integer"),"to_int");return 0>d||c>g||0>c?p:this.substr(c,d)},C.$$arity=-2);c.alias(h,"byteslice","[]");c.def(h,"$b",da=function(){return this.$force_encoding("binary")},da.$$arity=0);c.def(h,"$capitalize",L=function(){return this.charAt(0).toUpperCase()+this.substr(1).toLowerCase()},L.$$arity=0);c.def(h,"$casecmp",u=function(a){var c=this;if(!v(a["$respond_to?"]("to_str")))return p;
a=k(b,"Opal").$coerce_to(a,k(b,"String"),"to_str").$to_s();var d=/^[\x00-\x7F]*$/;d.test(c)&&d.test(a)&&(c=c.toLowerCase(),a=a.toLowerCase());return c["$<=>"](a)},u.$$arity=1);c.def(h,"$casecmp?",W=function(a){a=this.$casecmp(a);return a===p?p:0===a},W.$$arity=1);c.def(h,"$center",J=function(a,c){null==c&&(c=" ");a=k(b,"Opal").$coerce_to(a,k(b,"Integer"),"to_int");c=k(b,"Opal").$coerce_to(c,k(b,"String"),"to_str").$to_s();v(c["$empty?"]())&&this.$raise(k(b,"ArgumentError"),"zero width padding");if(v(a<=
this.length))return this;var d=this.$ljust(z(E(a,this.length),2).$ceil(),c);return this.$rjust(z(E(a,this.length),2).$floor(),c)+d.slice(this.length)},J.$$arity=-2);c.def(h,"$chars",I=function(){var a=I.$$p,c=a||p;a&&(I.$$p=null);return v(c)?x(this,"each_char",[],c.$to_proc()):this.$each_char().$to_a()},I.$$arity=0);c.def(h,"$chomp",w=function(c){null==a["/"]&&(a["/"]=p);null==c&&(c=a["/"]);if(v(c===p||0===this.length))return this;c=k(b,"Opal")["$coerce_to!"](c,k(b,"String"),"to_str").$to_s();return"\n"===
c?this.replace(/\r?\n?$/,""):""===c?this.replace(/(\r?\n)+$/,""):this.length>c.length&&this.substr(this.length-c.length,c.length)===c?this.substr(0,this.length-c.length):this},w.$$arity=-1);c.def(h,"$chop",fa=function(){var a=this.length;return 1>=a?"":"\n"===this.charAt(a-1)&&"\r"===this.charAt(a-2)?this.substr(0,a-2):this.substr(0,a-1)},fa.$$arity=0);c.def(h,"$chr",Q=function(){return this.charAt(0)},Q.$$arity=0);c.def(h,"$clone",ea=function(){var a=p,a=this.slice();a.$copy_singleton_methods(this);
a.$initialize_clone(this);return a},ea.$$arity=0);c.def(h,"$dup",N=function(){var a=p,a=this.slice();a.$initialize_dup(this);return a},N.$$arity=0);c.def(h,"$count",O=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var g=0;g<d;g++)c[g-0]=arguments[g];0===c.length&&this.$raise(k(b,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");d=y(c);return null===d?0:this.length-this.replace(new RegExp(d,"g"),"").length},O.$$arity=-1);c.def(h,"$delete",X=function(a){var c,
d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var g=0;g<d;g++)c[g-0]=arguments[g];0===c.length&&this.$raise(k(b,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");d=y(c);return null===d?this:this.replace(new RegExp(d,"g"),"")},X.$$arity=-1);c.def(h,"$delete_prefix",R=function(a){a.$$is_string||(a=k(b,"Opal").$coerce_to(a,k(b,"String"),"to_str"));return this.slice(0,a.length)===a?this.slice(a.length):this},R.$$arity=1);c.def(h,"$delete_suffix",P=function(a){a.$$is_string||
(a=k(b,"Opal").$coerce_to(a,k(b,"String"),"to_str"));return this.slice(this.length-a.length)===a?this.slice(0,this.length-a.length):this},P.$$arity=1);c.def(h,"$downcase",ja=function(){return this.toLowerCase()},ja.$$arity=0);c.def(h,"$each_char",Z=function(){var a,b=Z.$$p,d=b||p;b&&(Z.$$p=null);if(d===p)return x(this,"enum_for",["each_char"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=0,g=this.length;b<g;b++)c.yield1(d,this.charAt(b));return this},Z.$$arity=0);
c.def(h,"$each_line",H=function(d){var g=H.$$p,e=g||p;null==a["/"]&&(a["/"]=p);null==d&&(d=a["/"]);g&&(H.$$p=null);if(e===p)return this.$enum_for("each_line",d);if(d===p)return c.yield1(e,this),this;d=k(b,"Opal").$coerce_to(d,k(b,"String"),"to_str");var f,D,h;if(0===d.length){d=this.split(/(\n{2,})/);g=0;for(f=d.length;g<f;g+=2)(d[g]||d[g+1])&&c.yield1(e,(d[g]||"")+(d[g+1]||""));return this}g=this.$chomp(d);f=this.length!=g.length;h=g.split(d);g=0;for(D=h.length;g<D;g++)g<D-1||f?c.yield1(e,h[g]+d):
c.yield1(e,h[g]);return this},H.$$arity=-1);c.def(h,"$empty?",ba=function(){return 0===this.length},ba.$$arity=0);c.def(h,"$end_with?",T=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var g=0;g<d;g++)c[g-0]=arguments[g];d=0;for(g=c.length;d<g;d++){var e=k(b,"Opal").$coerce_to(c[d],k(b,"String"),"to_str").$to_s();if(this.length>=e.length&&this.substr(this.length-e.length,e.length)==e)return!0}return!1},T.$$arity=-1);c.alias(h,"equal?","===");c.def(h,"$gsub",ga=function(d,g){var e=
this,f=ga.$$p,D=f||p;f&&(ga.$$p=null);if(void 0===g&&D===p)return e.$enum_for("gsub",d);var f="",h=p,l=0,n,m;d.$$is_regexp?d=c.global_multiline_regexp(d):(d=k(b,"Opal").$coerce_to(d,k(b,"String"),"to_str"),d=new RegExp(d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;;){n=d.exec(e);if(null===n){a["~"]=p;f+=e.slice(l);break}h=k(b,"MatchData").$new(d,n);void 0===g?m=D(n[0]):g.$$is_hash?m=g["$[]"](n[0]).$to_s():(g.$$is_string||(g=k(b,"Opal").$coerce_to(g,k(b,"String"),"to_str")),m=g.replace(/([\\]+)([0-9+&`'])/g,
function(a,c,b){if(0===c.length%2)return a;switch(b){case "+":for(a=n.length-1;0<a;a--)if(void 0!==n[a])return c.slice(1)+n[a];return"";case "&":return c.slice(1)+n[0];case "`":return c.slice(1)+e.slice(0,n.index);case "'":return c.slice(1)+e.slice(n.index+n[0].length);default:return c.slice(1)+(n[b]||"")}}).replace(/\\\\/g,"\\"));d.lastIndex===n.index?(f+=m+e.slice(l,n.index+1),d.lastIndex+=1):f+=e.slice(l,n.index)+m;l=d.lastIndex}a["~"]=h;return f},ga.$$arity=-2);c.def(h,"$hash",ca=function(){return this.toString()},
ca.$$arity=0);c.def(h,"$hex",aa=function(){return this.$to_i(16)},aa.$$arity=0);c.def(h,"$include?",sa=function(a){a.$$is_string||(a=k(b,"Opal").$coerce_to(a,k(b,"String"),"to_str"));return-1!==this.indexOf(a)},sa.$$arity=1);c.def(h,"$index",la=function(d,g){var e,f;if(void 0===g)g=0;else if(g=k(b,"Opal").$coerce_to(g,k(b,"Integer"),"to_int"),0>g&&(g+=this.length,0>g))return p;if(d.$$is_regexp)for(f=c.global_multiline_regexp(d);;){e=f.exec(this);if(null===e){a["~"]=p;e=-1;break}if(e.index>=g){a["~"]=
k(b,"MatchData").$new(f,e);e=e.index;break}f.lastIndex=e.index+1}else d=k(b,"Opal").$coerce_to(d,k(b,"String"),"to_str"),e=0===d.length&&g>this.length?-1:this.indexOf(d,g);return-1===e?p:e},la.$$arity=-2);c.def(h,"$inspect",ma=function(){var a={"\u0007":"\\a","\u001b":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
function(c){return a[c]||"\\u"+("0000"+c.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+'"'},ma.$$arity=0);c.def(h,"$intern",ha=function(){return this},ha.$$arity=0);c.def(h,"$lines",pa=function(c){var b=pa.$$p,d=b||p,g=p;null==a["/"]&&(a["/"]=p);null==c&&(c=a["/"]);b&&(pa.$$p=null);g=x(this,"each_line",[c],d.$to_proc());return v(d)?this:g.$to_a()},pa.$$arity=-1);c.def(h,"$length",Y=function(){return this.length},Y.$$arity=0);c.def(h,"$ljust",qa=function(a,c){null==
c&&(c=" ");a=k(b,"Opal").$coerce_to(a,k(b,"Integer"),"to_int");c=k(b,"Opal").$coerce_to(c,k(b,"String"),"to_str").$to_s();v(c["$empty?"]())&&this.$raise(k(b,"ArgumentError"),"zero width padding");if(v(a<=this.length))return this;var d=-1,g="";for(a-=this.length;++d<a;)g+=c;return this+g.slice(0,a)},qa.$$arity=-2);c.def(h,"$lstrip",na=function(){return this.replace(/^\s*/,"")},na.$$arity=0);c.def(h,"$ascii_only?",ia=function(){return this.match(/[ -~\n]*/)[0]===this},ia.$$arity=0);c.def(h,"$match",
xa=function(a,c){var d,g=xa.$$p,e=g||p;g&&(xa.$$p=null);v(v(d=k(b,"String")["$==="](a))?d:a["$respond_to?"]("to_str"))&&(a=k(b,"Regexp").$new(a.$to_str()));v(k(b,"Regexp")["$==="](a))||this.$raise(k(b,"TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)");return x(a,"match",[this,c],e.$to_proc())},xa.$$arity=-2);c.def(h,"$next",ra=function(){var a=this.length;if(0===a)return"";for(var c=this,b=this.search(/[a-zA-Z0-9]/),d=!1,g;a--;){g=this.charCodeAt(a);if(48<=g&&57>=g||65<=g&&90>=g||
97<=g&&122>=g)switch(g){case 57:d=!0;g=48;break;case 90:d=!0;g=65;break;case 122:d=!0;g=97;break;default:d=!1,g+=1}else-1===b?255===g?(d=!0,g=0):(d=!1,g+=1):d=!0;c=c.slice(0,a)+String.fromCharCode(g)+c.slice(a+1);if(d&&(0===a||a===b)){switch(g){case 65:break;case 97:break;default:g+=1}c=0===a?String.fromCharCode(g)+c:c.slice(0,a)+String.fromCharCode(g)+c.slice(a);d=!1}if(!d)break}return c},ra.$$arity=0);c.def(h,"$oct",wa=function(){var a;a=this;var c=8;if(/^\s*_/.test(a))return 0;a=a.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,
function(a,b,d,g){switch(g.charAt(0)){case "+":case "-":return a;case "0":if("x"===g.charAt(1)&&"0x"===d)return a}switch(d){case "0b":c=2;break;case "0":case "0o":c=8;break;case "0d":c=10;break;case "0x":c=16}return b+g});a=parseInt(a.replace(/_(?!_)/g,""),c);return isNaN(a)?0:a},wa.$$arity=0);c.def(h,"$ord",ua=function(){return this.charCodeAt(0)},ua.$$arity=0);c.def(h,"$partition",va=function(a){var c;a.$$is_regexp?(c=a.exec(this),null===c?c=-1:(k(b,"MatchData").$new(a,c),a=c[0],c=c.index)):(a=
k(b,"Opal").$coerce_to(a,k(b,"String"),"to_str"),c=this.indexOf(a));return-1===c?[this,"",""]:[this.slice(0,c),this.slice(c,c+a.length),this.slice(c+a.length)]},va.$$arity=1);c.def(h,"$reverse",ya=function(){return this.split("").reverse().join("")},ya.$$arity=0);c.def(h,"$rindex",Aa=function(d,g){var e,f,D;if(void 0===g)g=this.length;else if(g=k(b,"Opal").$coerce_to(g,k(b,"Integer"),"to_int"),0>g&&(g+=this.length,0>g))return p;if(d.$$is_regexp){e=null;for(f=c.global_multiline_regexp(d);;){D=f.exec(this);
if(null===D||D.index>g)break;e=D;f.lastIndex=e.index+1}null===e?(a["~"]=p,e=-1):(k(b,"MatchData").$new(f,e),e=e.index)}else d=k(b,"Opal").$coerce_to(d,k(b,"String"),"to_str"),e=this.lastIndexOf(d,g);return-1===e?p:e},Aa.$$arity=-2);c.def(h,"$rjust",Ea=function(a,c){null==c&&(c=" ");a=k(b,"Opal").$coerce_to(a,k(b,"Integer"),"to_int");c=k(b,"Opal").$coerce_to(c,k(b,"String"),"to_str").$to_s();v(c["$empty?"]())&&this.$raise(k(b,"ArgumentError"),"zero width padding");if(v(a<=this.length))return this;
var d=Math.floor(a-this.length),g=Array(Math.floor(d/c.length)+1).join(c);return g+c.slice(0,d-g.length)+this},Ea.$$arity=-2);c.def(h,"$rpartition",Ba=function(a){var d,g,e;if(a.$$is_regexp){d=null;for(g=c.global_multiline_regexp(a);;){e=g.exec(this);if(null===e)break;d=e;g.lastIndex=d.index+1}null===d?d=-1:(k(b,"MatchData").$new(g,d),a=d[0],d=d.index)}else a=k(b,"Opal").$coerce_to(a,k(b,"String"),"to_str"),d=this.lastIndexOf(a);return-1===d?["","",this]:[this.slice(0,d),this.slice(d,d+a.length),
this.slice(d+a.length)]},Ba.$$arity=1);c.def(h,"$rstrip",Ca=function(){return this.replace(/[\s\u0000]*$/,"")},Ca.$$arity=0);c.def(h,"$scan",Da=function(d){var g=Da.$$p,e=g||p;g&&(Da.$$p=null);var g=[],f=p,D;d.$$is_regexp?d=c.global_multiline_regexp(d):(d=k(b,"Opal").$coerce_to(d,k(b,"String"),"to_str"),d=new RegExp(d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;null!=(D=d.exec(this));)f=k(b,"MatchData").$new(d,D),e===p?1==D.length?g.push(D[0]):g.push(f.$captures()):1==D.length?e(D[0]):e.call(this,
f.$captures()),d.lastIndex===D.index&&(d.lastIndex+=1);a["~"]=f;return e!==p?this:g},Da.$$arity=1);c.alias(h,"size","length");c.alias(h,"slice","[]");c.def(h,"$split",Ha=function(d,g){var e;null==a[";"]&&(a[";"]=p);if(0===this.length)return[];if(void 0===g)g=0;else if(g=k(b,"Opal")["$coerce_to!"](g,k(b,"Integer"),"to_int"),1===g)return[this];if(void 0===d||d===p)d=v(e=a[";"])?e:" ";e=[];var f=this.toString(),D=0,h,l;d.$$is_regexp?d=c.global_multiline_regexp(d):(d=k(b,"Opal").$coerce_to(d,k(b,"String"),
"to_str").$to_s()," "===d?(d=/\s+/gm,f=f.replace(/^\s+/,"")):d=new RegExp(d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));e=f.split(d);if(1===e.length&&e[0]===f)return e;for(;-1!==(l=e.indexOf(void 0));)e.splice(l,1);if(0===g){for(;""===e[e.length-1];)--e.length;return e}h=d.exec(f);if(0>g){if(null!==h&&""===h[0]&&-1===d.source.indexOf("(?="))for(l=0,f=h.length;l<f;l++)e.push("");return e}if(null!==h&&""===h[0])return e.splice(g-1,e.length-1,e.slice(g-1).join("")),e;if(g>=e.length)return e;for(l=0;null!==
h;){l++;D=d.lastIndex;if(l+1===g)break;h=d.exec(f)}e.splice(g-1,e.length-1,f.slice(D));return e},Ha.$$arity=-1);c.def(h,"$squeeze",Ia=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];if(0===c.length)return this.replace(/(.)\1+/g,"$1");b=y(c);return null===b?this:this.replace(new RegExp("("+b+")\\1+","g"),"$1")},Ia.$$arity=-1);c.def(h,"$start_with?",M=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var g=0;g<d;g++)c[g-0]=
arguments[g];d=0;for(g=c.length;d<g;d++){var e=k(b,"Opal").$coerce_to(c[d],k(b,"String"),"to_str").$to_s();if(0===this.indexOf(e))return!0}return!1},M.$$arity=-1);c.def(h,"$strip",Ka=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},Ka.$$arity=0);c.def(h,"$sub",oa=function(c,d){var g=this,e=oa.$$p,f=e||p;e&&(oa.$$p=null);c.$$is_regexp||(c=k(b,"Opal").$coerce_to(c,k(b,"String"),"to_str"),c=new RegExp(c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var D=c.exec(g);if(null===D)return a["~"]=
p,g.toString();k(b,"MatchData").$new(c,D);if(void 0===d)return f===p&&g.$raise(k(b,"ArgumentError"),"wrong number of arguments (1 for 2)"),g.slice(0,D.index)+f(D[0])+g.slice(D.index+D[0].length);if(d.$$is_hash)return g.slice(0,D.index)+d["$[]"](D[0]).$to_s()+g.slice(D.index+D[0].length);d=k(b,"Opal").$coerce_to(d,k(b,"String"),"to_str");d=d.replace(/([\\]+)([0-9+&`'])/g,function(a,c,b){if(0===c.length%2)return a;switch(b){case "+":for(a=D.length-1;0<a;a--)if(void 0!==D[a])return c.slice(1)+D[a];return"";
case "&":return c.slice(1)+D[0];case "`":return c.slice(1)+g.slice(0,D.index);case "'":return c.slice(1)+g.slice(D.index+D[0].length);default:return c.slice(1)+(D[b]||"")}}).replace(/\\\\/g,"\\");return g.slice(0,D.index)+d+g.slice(D.index+D[0].length)},oa.$$arity=-2);c.alias(h,"succ","next");c.def(h,"$sum",Fa=function(a){null==a&&(a=16);a=k(b,"Opal").$coerce_to(a,k(b,"Integer"),"to_int");for(var c=0,d=this.length,g=0;g<d;g++)c+=this.charCodeAt(g);return 0>=a?c:c&Math.pow(2,a)-1},Fa.$$arity=-1);c.def(h,
"$swapcase",Ja=function(){var a=this.replace(/([a-z]+)|([A-Z]+)/g,function(a,c,b){return c?a.toUpperCase():a.toLowerCase()});return this.constructor===String?a:this.$class().$new(a)},Ja.$$arity=0);c.def(h,"$to_f",Ga=function(){if("_"===this.charAt(0))return 0;var a=parseFloat(this.replace(/_/g,""));return isNaN(a)||Infinity==a||-Infinity==a?0:a},Ga.$$arity=0);c.def(h,"$to_i",D=function(a){null==a&&(a=10);var c=this.toLowerCase(),d=k(b,"Opal").$coerce_to(a,k(b,"Integer"),"to_int");(1===d||0>d||36<
d)&&this.$raise(k(b,"ArgumentError"),"invalid radix "+d);if(/^\s*_/.test(c))return 0;c=c.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(a,c,b,g){switch(g.charAt(0)){case "+":case "-":return a;case "0":if("x"===g.charAt(1)&&"0x"===b&&(0===d||16===d))return a}switch(b){case "0b":if(0===d||2===d)return d=2,c+g;break;case "0":case "0o":if(0===d||8===d)return d=8,c+g;break;case "0d":if(0===d||10===d)return d=10,c+g;break;case "0x":if(0===d||16===d)return d=16,c+g}return a});a=parseInt(c.replace(/_(?!_)/g,
""),d);return isNaN(a)?0:a},D.$$arity=-1);c.def(h,"$to_proc",V=function(){var a,d=p,d=this.valueOf();return x(this,"proc",[],(a=function(g){var e=a.$$s||this,f,D;if(f=a.$$p||p)a.$$p=null;var h=arguments.length;D=h-0;0>D&&(D=0);D=Array(D);for(var l=0;l<h;l++)D[l-0]=arguments[l];0===D.length&&e.$raise(k(b,"ArgumentError"),"no receiver given");e=D.shift();null==e&&(e=p);return c.send(e,d,D,f)},a.$$s=this,a.$$arity=-1,a))},V.$$arity=0);c.def(h,"$to_s",za=function(){return this.toString()},za.$$arity=
0);c.alias(h,"to_str","to_s");c.alias(h,"to_sym","intern");c.def(h,"$tr",U=function(a,c){a=k(b,"Opal").$coerce_to(a,k(b,"String"),"to_str").$to_s();c=k(b,"Opal").$coerce_to(c,k(b,"String"),"to_str").$to_s();if(0==a.length||a===c)return this;var d,g,e,f,D,h={};D=a.split("");var l=D.length,n=c.split(""),m=n.length,U=!1,V=null;"^"===D[0]&&1<D.length&&(U=!0,D.shift(),V=n[m-1],--l);var q=[];e=null;g=!1;for(d=0;d<l;d++)if(f=D[d],null==e)e=f,q.push(f);else if("-"===f)"-"===e?(q.push("-"),q.push("-")):d==
l-1?q.push("-"):g=!0;else if(g){e=e.charCodeAt(0);g=f.charCodeAt(0);e>g&&this.$raise(k(b,"ArgumentError"),'invalid range "'+String.fromCharCode(e)+"-"+String.fromCharCode(g)+'" in string transliteration');for(e+=1;e<g;e++)q.push(String.fromCharCode(e));q.push(f);e=g=null}else q.push(f);D=q;l=D.length;if(U)for(d=0;d<l;d++)h[D[d]]=!0;else{if(0<m){q=[];e=null;g=!1;for(d=0;d<m;d++)if(f=n[d],null==e)e=f,q.push(f);else if("-"===f)"-"===e?(q.push("-"),q.push("-")):d==m-1?q.push("-"):g=!0;else if(g){e=e.charCodeAt(0);
g=f.charCodeAt(0);e>g&&this.$raise(k(b,"ArgumentError"),'invalid range "'+String.fromCharCode(e)+"-"+String.fromCharCode(g)+'" in string transliteration');for(e+=1;e<g;e++)q.push(String.fromCharCode(e));q.push(f);e=g=null}else q.push(f);n=q;m=n.length}f=l-m;if(0<f)for(m=0<m?n[m-1]:"",d=0;d<f;d++)n.push(m);for(d=0;d<l;d++)h[D[d]]=n[d]}l="";d=0;for(D=this.length;d<D;d++)f=this.charAt(d),n=h[f],l=U?l+(null==n?V:f):l+(null!=n?n:f);return l},U.$$arity=2);c.def(h,"$tr_s",La=function(a,c){a=k(b,"Opal").$coerce_to(a,
k(b,"String"),"to_str").$to_s();c=k(b,"Opal").$coerce_to(c,k(b,"String"),"to_str").$to_s();if(0==a.length)return this;var d,g,e,f,D,h={};D=a.split("");var l=D.length,n=c.split(""),m=n.length,U=!1,V=null;"^"===D[0]&&1<D.length&&(U=!0,D.shift(),V=n[m-1],--l);var q=[];e=null;g=!1;for(d=0;d<l;d++)if(f=D[d],null==e)e=f,q.push(f);else if("-"===f)"-"===e?(q.push("-"),q.push("-")):d==l-1?q.push("-"):g=!0;else if(g){e=e.charCodeAt(0);g=f.charCodeAt(0);e>g&&this.$raise(k(b,"ArgumentError"),'invalid range "'+
String.fromCharCode(e)+"-"+String.fromCharCode(g)+'" in string transliteration');for(e+=1;e<g;e++)q.push(String.fromCharCode(e));q.push(f);e=g=null}else q.push(f);D=q;l=D.length;if(U)for(d=0;d<l;d++)h[D[d]]=!0;else{if(0<m){q=[];g=!1;for(d=0;d<m;d++)if(f=n[d],null==e)e=f,q.push(f);else if("-"===f)d==m-1?q.push("-"):g=!0;else if(g){e=e.charCodeAt(0);g=f.charCodeAt(0);e>g&&this.$raise(k(b,"ArgumentError"),'invalid range "'+String.fromCharCode(e)+"-"+String.fromCharCode(g)+'" in string transliteration');
for(e+=1;e<g;e++)q.push(String.fromCharCode(e));q.push(f);e=g=null}else q.push(f);n=q;m=n.length}f=l-m;if(0<f)for(m=0<m?n[m-1]:"",d=0;d<f;d++)n.push(m);for(d=0;d<l;d++)h[D[d]]=n[d]}l="";n=null;d=0;for(D=this.length;d<D;d++)if(f=this.charAt(d),m=h[f],U)null==m?null==n&&(l+=V,n=!0):(l+=f,n=null);else if(null!=m){if(null==n||n!==m)l+=m,n=m}else l+=f,n=null;return l},La.$$arity=2);c.def(h,"$upcase",K=function(){return this.toUpperCase()},K.$$arity=0);c.def(h,"$upto",Pa=function(a,c){var d=Pa.$$p,g=d||
p;null==c&&(c=!1);d&&(Pa.$$p=null);if(g===p)return this.$enum_for("upto",a,c);a=k(b,"Opal").$coerce_to(a,k(b,"String"),"to_str");var e,d=this.toString();if(1===d.length&&1===a.length)for(d=d.charCodeAt(0),e=a.charCodeAt(0);d<=e&&(!c||d!==e);)g(String.fromCharCode(d)),d+=1;else if(parseInt(d,10).toString()===d&&parseInt(a,10).toString()===a)for(d=parseInt(d,10),e=parseInt(a,10);d<=e&&(!c||d!==e);)g(d.toString()),d+=1;else for(;d.length<=a.length&&d<=a&&(!c||d!==a);)g(d),d=d.$succ();return this},Pa.$$arity=
-2);c.def(h,"$instance_variables",Na=function(){return[]},Na.$$arity=0);c.defs(h,"$_load",Oa=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var g=0;g<d;g++)b[g-0]=arguments[g];return x(this,"new",c.to_a(b))},Oa.$$arity=-1);c.def(h,"$unpack",Qa=function(a){return this.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},Qa.$$arity=1);return(c.def(h,"$unpack1",G=function(a){return this.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},
G.$$arity=1),p)&&"unpack1"})(r[0],String,r);return c.const_set(r[0],"Symbol",k(r,"String"))},Opal.modules["corelib/enumerable"]=function(c){function z(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function E(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function u(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function r(a,c){return"number"===typeof a&&"number"===typeof c?a<=c:a["$<="](c)}var p=[],k=c.nil,A=c.const_get_qualified,v=c.const_get_relative,
x=c.module,a=c.truthy,g=c.send,F=c.falsy,t=c.hash2,B=c.lambda;c.add_stubs("$each $public_send $destructure $to_enum $enumerator_size $new $yield $raise $slice_when $! $enum_for $flatten $map $warn $proc $== $nil? $respond_to? $coerce_to! $> $* $coerce_to $try_convert $< $+ $- $ceil $/ $size $__send__ $length $<= $[] $push $<< $[]= $=== $inspect $<=> $first $reverse $sort $to_proc $compare $call $dup $to_a $sort! $map! $key? $values $zip".split(" "));return function(y,h){function b(a){0===a.length&&
(a=[k]);1<a.length&&(a=[a]);return a}var d=x(y,"Enumerable"),f=[d].concat(h),m,S,l,e,q,n,p,ka,C,da,L,ta,W,J,I,w,fa,Q,ea,N,O,X,R,P,ja,Z,H,ba,T,ga,ca,aa,sa,la,ma,ha,pa,Y,qa,na,ia,xa,ra,wa,ua,va,ya,Aa;c.def(d,"$all?",m=function(d){try{var e,h,l,n=m.$$p,q=n||k;n&&(m.$$p=null);a(void 0!==d)?g(this,"each",[],(e=function(e){var f,h=k,h=arguments.length;f=h-0;0>f&&(f=0);f=Array(f);for(var l=0;l<h;l++)f[l-0]=arguments[l];h=b(f);if(a(g(d,"public_send",["==="].concat(c.to_a(h)))))return k;c.ret(!1)},e.$$s=this,
e.$$arity=-1,e)):q!==k?g(this,"each",[],(h=function(b){var d,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];if(a(c.yieldX(q,c.to_a(d))))return k;c.ret(!1)},h.$$s=this,h.$$arity=-1,h)):g(this,"each",[],(l=function(b){var d,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];if(a(v(f,"Opal").$destructure(d)))return k;c.ret(!1)},l.$$s=this,l.$$arity=-1,l));return!0}catch(t){if(t===c.returner)return t.$v;throw t;}},m.$$arity=-1);
c.def(d,"$any?",S=function(d){try{var e,h,l,n=S.$$p,m=n||k;n&&(S.$$p=null);a(void 0!==d)?g(this,"each",[],(e=function(e){var f,h=k,h=arguments.length;f=h-0;0>f&&(f=0);f=Array(f);for(var l=0;l<h;l++)f[l-0]=arguments[l];h=b(f);if(a(g(d,"public_send",["==="].concat(c.to_a(h)))))c.ret(!0);else return k},e.$$s=this,e.$$arity=-1,e)):m!==k?g(this,"each",[],(h=function(b){var d,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];if(a(c.yieldX(m,c.to_a(d))))c.ret(!0);else return k},
h.$$s=this,h.$$arity=-1,h)):g(this,"each",[],(l=function(b){var d,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];if(a(v(f,"Opal").$destructure(d)))c.ret(!0);else return k},l.$$s=this,l.$$arity=-1,l));return!1}catch(q){if(q===c.returner)return q.$v;throw q;}},S.$$arity=-1);c.def(d,"$chunk",l=function(){var a,b,d=l.$$p,e=d||k;d&&(l.$$p=null);return e===k?g(this,"to_enum",["chunk"],(a=function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a)):
g(A("::","Enumerator"),"new",[],(b=function(a){function d(){0<h.length&&a.$yield(f,h)}var g=b.$$s||this;null==a&&(a=k);var f=k,h=[];g.$each.$$p=function(a){var b=c.yield1(e,a);b===k?(d(),h=[],f=k):(f===k||f===b?h.push(a):(d(),h=[a]),f=b)};g.$each();d()},b.$$s=this,b.$$arity=1,b))},l.$$arity=0);c.def(d,"$chunk_while",e=function(){var a,b=e.$$p,d=b||k;b&&(e.$$p=null);d===k&&this.$raise(v(f,"ArgumentError"),"no block given");return g(this,"slice_when",[],(a=function(a,b){null==a&&(a=k);null==b&&(b=k);
return c.yieldX(d,[a,b])["$!"]()},a.$$s=this,a.$$arity=2,a))},e.$$arity=0);c.def(d,"$collect",q=function(){var a,b=q.$$p,d=b||k;b&&(q.$$p=null);if(d===k)return g(this,"enum_for",["collect"],(a=function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a));var e=[];this.$each.$$p=function(){var a=c.yieldX(d,arguments);e.push(a)};this.$each();return e},q.$$arity=0);c.def(d,"$collect_concat",n=function(){var a,b,d=n.$$p,e=d||k;d&&(n.$$p=null);return e===k?g(this,"enum_for",["collect_concat"],
(a=function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a)):g(this,"map",[],(b=function(a){null==a&&(a=k);return c.yield1(e,a)},b.$$s=this,b.$$arity=1,b)).$flatten(1)},n.$$arity=0);c.def(d,"$count",p=function(b){var d,e,h,l=p.$$p,n=l||k,m=k;l&&(p.$$p=null);m=0;null!=b&&n!==k&&this.$warn("warning: given block not used");a(null!=b)?n=g(this,"proc",[],(d=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var g=0;g<d;g++)c[g-0]=arguments[g];return v(f,"Opal").$destructure(c)["$=="](b)},
d.$$s=this,d.$$arity=-1,d)):a(n["$nil?"]())&&(n=g(this,"proc",[],(e=function(){return!0},e.$$s=this,e.$$arity=0,e)));g(this,"each",[],(h=function(b){var d,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];return a(c.yieldX(n,d))?m++:k},h.$$s=this,h.$$arity=-1,h));return m},p.$$arity=-1);c.def(d,"$cycle",ka=function(b){var d,e=ka.$$p,h=e||k;null==b&&(b=k);e&&(ka.$$p=null);if(h===k)return g(this,"enum_for",["cycle",b],(d=function(){var c=d.$$s||this;if(a(b["$nil?"]()))return a(c["$respond_to?"]("size"))?
A(v(f,"Float"),"INFINITY"):k;b=v(f,"Opal")["$coerce_to!"](b,v(f,"Integer"),"to_int");return a(z(b,0))?(c=c.$enumerator_size(),"number"===typeof c&&"number"===typeof b?c*b:c["$*"](b)):0},d.$$s=this,d.$$arity=0,d));if(!a(b["$nil?"]())&&(b=v(f,"Opal")["$coerce_to!"](b,v(f,"Integer"),"to_int"),a(0>=b)))return k;var l=[],n;this.$each.$$p=function(){var a=v(f,"Opal").$destructure(arguments);c.yield1(h,a);l.push(a)};this.$each();if(0===l.length)return k;if(b===k)for(;;)for(e=0,n=l.length;e<n;e++)c.yield1(h,
l[e]);else for(;1<b;){e=0;for(n=l.length;e<n;e++)c.yield1(h,l[e]);b--}},ka.$$arity=-1);c.def(d,"$detect",C=function(b){try{var d,e=C.$$p,h=e||k;e&&(C.$$p=null);if(h===k)return this.$enum_for("detect",b);g(this,"each",[],(d=function(b){var d,g=k,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];g=v(f,"Opal").$destructure(d);if(a(c.yield1(h,g)))c.ret(g);else return k},d.$$s=this,d.$$arity=-1,d));return void 0!==b?"function"===typeof b?b():b:k}catch(l){if(l===c.returner)return l.$v;
throw l;}},C.$$arity=-1);c.def(d,"$drop",da=function(c){c=v(f,"Opal").$coerce_to(c,v(f,"Integer"),"to_int");a(0>c)&&this.$raise(v(f,"ArgumentError"),"attempt to drop negative size");var b=[],d=0;this.$each.$$p=function(){c<=d&&b.push(v(f,"Opal").$destructure(arguments));d++};this.$each();return b},da.$$arity=1);c.def(d,"$drop_while",L=function(){var a=L.$$p,b=a||k;a&&(L.$$p=null);if(b===k)return this.$enum_for("drop_while");var d=[],g=!0;this.$each.$$p=function(){var a=v(f,"Opal").$destructure(arguments);
if(g){var e=c.yield1(b,a);F(e)&&(g=!1,d.push(a))}else d.push(a)};this.$each();return d},L.$$arity=0);c.def(d,"$each_cons",ta=function(b){var d,e=ta.$$p,h=e||k;e&&(ta.$$p=null);a(1!=arguments.length)&&this.$raise(v(f,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)");b=v(f,"Opal").$try_convert(b,v(f,"Integer"),"to_int");a(0>=b)&&this.$raise(v(f,"ArgumentError"),"invalid size");if(h===k)return g(this,"enum_for",["each_cons",b],(d=function(){var c,g=k,g=(d.$$s||this).$enumerator_size();
return a(g["$nil?"]())?k:a(a(c=g["$=="](0))?c:"number"===typeof g&&"number"===typeof b?g<b:g["$<"](b))?0:E(u(g,b),1)},d.$$s=this,d.$$arity=0,d));var l=[];this.$each.$$p=function(){var a=v(f,"Opal").$destructure(arguments);l.push(a);l.length>b&&l.shift();l.length==b&&c.yield1(h,l.slice(0,b))};this.$each();return k},ta.$$arity=1);c.def(d,"$each_entry",W=function(a){var b,d,e=W.$$p,h=e||k,l=arguments.length;d=l-0;0>d&&(d=0);d=Array(d);for(var n=0;n<l;n++)d[n-0]=arguments[n];e&&(W.$$p=null);if(h===k)return g(this,
"to_enum",["each_entry"].concat(c.to_a(d)),(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b.$$arity=0,b));this.$each.$$p=function(){var a=v(f,"Opal").$destructure(arguments);c.yield1(h,a)};this.$each.apply(this,d);return this},W.$$arity=-1);c.def(d,"$each_slice",J=function(b){var d,e=J.$$p,h=e||k;e&&(J.$$p=null);b=v(f,"Opal").$coerce_to(b,v(f,"Integer"),"to_int");a(0>=b)&&this.$raise(v(f,"ArgumentError"),"invalid slice size");if(h===k)return g(this,"enum_for",["each_slice",b],(d=
function(){var c=d.$$s||this;return a(c["$respond_to?"]("size"))?(c=c.$size(),("number"===typeof c&&"number"===typeof b?c/b:c["$/"](b)).$ceil()):k},d.$$s=this,d.$$arity=0,d));var l=[];this.$each.$$p=function(){var a=v(f,"Opal").$destructure(arguments);l.push(a);l.length===b&&(c.yield1(h,l),l=[])};this.$each();0<l.length&&c.yield1(h,l);return k},J.$$arity=1);c.def(d,"$each_with_index",I=function(a){var b,d,e=I.$$p,h=e||k,l=arguments.length;d=l-0;0>d&&(d=0);d=Array(d);for(var n=0;n<l;n++)d[n-0]=arguments[n];
e&&(I.$$p=null);if(h===k)return g(this,"enum_for",["each_with_index"].concat(c.to_a(d)),(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b.$$arity=0,b));var m=0;this.$each.$$p=function(){var a=v(f,"Opal").$destructure(arguments);h(a,m);m++};this.$each.apply(this,d);return this},I.$$arity=-1);c.def(d,"$each_with_object",w=function(a){var c,b=w.$$p,d=b||k;b&&(w.$$p=null);if(d===k)return g(this,"enum_for",["each_with_object",a],(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=
this,c.$$arity=0,c));this.$each.$$p=function(){var c=v(f,"Opal").$destructure(arguments);d(c,a)};this.$each();return a},w.$$arity=1);c.def(d,"$entries",fa=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];var g=[];this.$each.$$p=function(){g.push(v(f,"Opal").$destructure(arguments))};this.$each.apply(this,c);return g},fa.$$arity=-1);c.alias(d,"find","detect");c.def(d,"$find_all",Q=function(){var b,d=Q.$$p,e=d||k;d&&(Q.$$p=null);if(e===k)return g(this,
"enum_for",["find_all"],(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b.$$arity=0,b));var h=[];this.$each.$$p=function(){var b=v(f,"Opal").$destructure(arguments),d=c.yield1(e,b);a(d)&&h.push(b)};this.$each();return h},Q.$$arity=0);c.def(d,"$find_index",ea=function(b){try{var d,e,h=ea.$$p,l=h||k,n=k;h&&(ea.$$p=null);if(a(void 0===b&&l===k))return this.$enum_for("find_index");null!=b&&l!==k&&this.$warn("warning: given block not used");n=0;a(null!=b)?g(this,"each",[],(d=function(a){var d,
g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];v(f,"Opal").$destructure(d)["$=="](b)&&c.ret(n);return n+=1},d.$$s=this,d.$$arity=-1,d)):g(this,"each",[],(e=function(b){var d,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];a(c.yieldX(l,c.to_a(d)))&&c.ret(n);return n+=1},e.$$s=this,e.$$arity=-1,e));return k}catch(m){if(m===c.returner)return m.$v;throw m;}},ea.$$arity=-1);c.def(d,"$first",N=function(b){try{var d,e,h=k,l=k;
if(a(void 0===b))return g(this,"each",[],(d=function(a){null==a&&(a=k);c.ret(a)},d.$$s=this,d.$$arity=1,d));h=[];b=v(f,"Opal").$coerce_to(b,v(f,"Integer"),"to_int");a(0>b)&&this.$raise(v(f,"ArgumentError"),"attempt to take negative size");if(a(0==b))return[];l=0;g(this,"each",[],(e=function(d){var g,e=arguments.length;g=e-0;0>g&&(g=0);g=Array(g);for(var n=0;n<e;n++)g[n-0]=arguments[n];h.push(v(f,"Opal").$destructure(g));if(a(b<=++l))c.ret(h);else return k},e.$$s=this,e.$$arity=-1,e));return h}catch(n){if(n===
c.returner)return n.$v;throw n;}},N.$$arity=-1);c.alias(d,"flat_map","collect_concat");c.def(d,"$grep",O=function(d){var e,f=O.$$p,h=f||k,l=k;f&&(O.$$p=null);l=[];g(this,"each",[],(e=function(e){var f,n=k,n=arguments.length;f=n-0;0>f&&(f=0);f=Array(f);for(var m=0;m<n;m++)f[m-0]=arguments[m];n=b(f);if(!a(g(d,"__send__",["==="].concat(c.to_a(n)))))return k;h!==k?(a(z(f.$length(),1))&&(f=[f]),f=c.yieldX(h,c.to_a(f))):a(r(f.$length(),1))&&(f=f["$[]"](0));return l.$push(f)},e.$$s=this,e.$$arity=-1,e));
return l},O.$$arity=1);c.def(d,"$grep_v",X=function(d){var e,f=X.$$p,h=f||k,l=k;f&&(X.$$p=null);l=[];g(this,"each",[],(e=function(e){var f,n=k,n=arguments.length;f=n-0;0>f&&(f=0);f=Array(f);for(var m=0;m<n;m++)f[m-0]=arguments[m];n=b(f);if(a(g(d,"__send__",["==="].concat(c.to_a(n)))))return k;h!==k?(a(z(f.$length(),1))&&(f=[f]),f=c.yieldX(h,c.to_a(f))):a(r(f.$length(),1))&&(f=f["$[]"](0));return l.$push(f)},e.$$s=this,e.$$arity=-1,e));return l},X.$$arity=1);c.def(d,"$group_by",R=function(){var b,
d,e=R.$$p,h=e||k,l=k,n=k;e&&(R.$$p=null);if(h===k)return g(this,"enum_for",["group_by"],(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b.$$arity=0,b));l=t([],{});this.$each.$$p=function(){var b=v(f,"Opal").$destructure(arguments),e=c.yield1(h,b);(a(d=l["$[]"](e))?d:(n=[e,[]],g(l,"[]=",c.to_a(n)),n[u(n.length,1)]))["$<<"](b)};this.$each();return l},R.$$arity=0);c.def(d,"$include?",P=function(a){try{var b;g(this,"each",[],(b=function(b){var d,g=arguments.length;d=g-0;0>d&&(d=0);d=
Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];if(v(f,"Opal").$destructure(d)["$=="](a))c.ret(!0);else return k},b.$$s=this,b.$$arity=-1,b));return!1}catch(d){if(d===c.returner)return d.$v;throw d;}},P.$$arity=1);c.def(d,"$inject",ja=function(a,b){var d=ja.$$p,g=d||k;d&&(ja.$$p=null);var e=a;g!==k&&void 0===b?this.$each.$$p=function(){var a=v(f,"Opal").$destructure(arguments);void 0!==e&&(a=c.yieldX(g,[e,a]));e=a}:(void 0===b&&(v(f,"Symbol")["$==="](a)||this.$raise(v(f,"TypeError"),""+a.$inspect()+
" is not a Symbol"),b=a,e=void 0),this.$each.$$p=function(){var a=v(f,"Opal").$destructure(arguments);e=void 0===e?a:e.$__send__(b,a)});this.$each();return void 0==e?k:e},ja.$$arity=-1);c.def(d,"$lazy",Z=function(){var a;return g(A(v(f,"Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],(a=function(a,b){var d,e=arguments.length;d=e-1;0>d&&(d=0);d=Array(d);for(var f=1;f<e;f++)d[f-1]=arguments[f];null==a&&(a=k);return g(a,"yield",c.to_a(d))},a.$$s=this,a.$$arity=-2,a))},Z.$$arity=0);c.def(d,
"$enumerator_size",H=function(){return a(this["$respond_to?"]("size"))?this.$size():k},H.$$arity=0);c.alias(d,"map","collect");c.def(d,"$max",ba=function(a){var b=this,d=ba.$$p,e=d||k;d&&(ba.$$p=null);if(void 0===a||a===k){var h,l;b.$each.$$p=function(){var a=v(f,"Opal").$destructure(arguments);void 0===h?h=a:(l=e!==k?c.yieldX(e,[a,h]):a["$<=>"](h),l===k&&b.$raise(v(f,"ArgumentError"),"comparison failed"),0<l&&(h=a))};b.$each();return void 0===h?k:h}a=v(f,"Opal").$coerce_to(a,v(f,"Integer"),"to_int");
return g(b,"sort",[],e.$to_proc()).$reverse().$first(a)},ba.$$arity=-1);c.def(d,"$max_by",T=function(){var b,d=T.$$p,e=d||k;d&&(T.$$p=null);if(!a(e))return g(this,"enum_for",["max_by"],(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b.$$arity=0,b));var h,l;this.$each.$$p=function(){var a=v(f,"Opal").$destructure(arguments),b=c.yield1(e,a);void 0===h?(h=a,l=b):0<b["$<=>"](l)&&(h=a,l=b)};this.$each();return void 0===h?k:h},T.$$arity=0);c.alias(d,"member?","include?");c.def(d,"$min",
ga=function(){var a=this,c=ga.$$p,b=c||k;c&&(ga.$$p=null);var d;a.$each.$$p=b!==k?function(){var c=v(f,"Opal").$destructure(arguments);if(void 0===d)d=c;else{var g=b(c,d);g===k&&a.$raise(v(f,"ArgumentError"),"comparison failed");0>g&&(d=c)}}:function(){var a=v(f,"Opal").$destructure(arguments);void 0===d?d=a:0>v(f,"Opal").$compare(a,d)&&(d=a)};a.$each();return void 0===d?k:d},ga.$$arity=0);c.def(d,"$min_by",ca=function(){var b,d=ca.$$p,e=d||k;d&&(ca.$$p=null);if(!a(e))return g(this,"enum_for",["min_by"],
(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b.$$arity=0,b));var h,l;this.$each.$$p=function(){var a=v(f,"Opal").$destructure(arguments),b=c.yield1(e,a);void 0===h?(h=a,l=b):0>b["$<=>"](l)&&(h=a,l=b)};this.$each();return void 0===h?k:h},ca.$$arity=0);c.def(d,"$minmax",aa=function(){var c,b,d=this,e=aa.$$p,h=e||k;e&&(aa.$$p=null);var h=a(c=h)?c:g(d,"proc",[],(b=function(a,c){null==a&&(a=k);null==c&&(c=k);return a["$<=>"](c)},b.$$s=d,b.$$arity=2,b)),l=k,n=k,m=!0;d.$each.$$p=function(){var a=
v(f,"Opal").$destructure(arguments);if(m)l=n=a,m=!1;else{var c=h.$call(l,a);c===k?d.$raise(v(f,"ArgumentError"),"comparison failed"):0<c&&(l=a);c=h.$call(n,a);c===k?d.$raise(v(f,"ArgumentError"),"comparison failed"):0>c&&(n=a)}};d.$each();return[l,n]},aa.$$arity=0);c.def(d,"$minmax_by",sa=function(){sa.$$p&&(sa.$$p=null);return this.$raise(v(f,"NotImplementedError"))},sa.$$arity=0);c.def(d,"$none?",la=function(d){try{var e,h,l,n=la.$$p,m=n||k;n&&(la.$$p=null);a(void 0!==d)?g(this,"each",[],(e=function(e){var f,
h=k,h=arguments.length;f=h-0;0>f&&(f=0);f=Array(f);for(var l=0;l<h;l++)f[l-0]=arguments[l];h=b(f);if(a(g(d,"public_send",["==="].concat(c.to_a(h)))))c.ret(!1);else return k},e.$$s=this,e.$$arity=-1,e)):m!==k?g(this,"each",[],(h=function(b){var d,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];if(a(c.yieldX(m,c.to_a(d))))c.ret(!1);else return k},h.$$s=this,h.$$arity=-1,h)):g(this,"each",[],(l=function(b){var d,g=k,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);
for(var e=0;e<g;e++)d[e-0]=arguments[e];g=v(f,"Opal").$destructure(d);if(a(g))c.ret(!1);else return k},l.$$s=this,l.$$arity=-1,l));return!0}catch(q){if(q===c.returner)return q.$v;throw q;}},la.$$arity=-1);c.def(d,"$one?",ma=function(d){try{var e,h,l,n=ma.$$p,m=n||k,q=k;n&&(ma.$$p=null);q=0;a(void 0!==d)?g(this,"each",[],(e=function(e){var f,h=k,h=arguments.length;f=h-0;0>f&&(f=0);f=Array(f);for(var l=0;l<h;l++)f[l-0]=arguments[l];h=b(f);if(a(g(d,"public_send",["==="].concat(c.to_a(h)))))if(q=E(q,
1),a(z(q,1)))c.ret(!1);else return k;else return k},e.$$s=this,e.$$arity=-1,e)):m!==k?g(this,"each",[],(h=function(b){var d,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];if(!a(c.yieldX(m,c.to_a(d))))return k;q=E(q,1);if(a(z(q,1)))c.ret(!1);else return k},h.$$s=this,h.$$arity=-1,h)):g(this,"each",[],(l=function(b){var d,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];if(!a(v(f,"Opal").$destructure(d)))return k;q=E(q,1);
if(a(z(q,1)))c.ret(!1);else return k},l.$$s=this,l.$$arity=-1,l));return q["$=="](1)}catch(t){if(t===c.returner)return t.$v;throw t;}},ma.$$arity=-1);c.def(d,"$partition",ha=function(){var b,d=ha.$$p,e=d||k;d&&(ha.$$p=null);if(e===k)return g(this,"enum_for",["partition"],(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b.$$arity=0,b));var h=[],l=[];this.$each.$$p=function(){var b=v(f,"Opal").$destructure(arguments),d=c.yield1(e,b);a(d)?h.push(b):l.push(b)};this.$each();return[h,l]},
ha.$$arity=0);c.alias(d,"reduce","inject");c.def(d,"$reject",pa=function(){var a,b=pa.$$p,d=b||k;b&&(pa.$$p=null);if(d===k)return g(this,"enum_for",["reject"],(a=function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a));var e=[];this.$each.$$p=function(){var a=v(f,"Opal").$destructure(arguments),b=c.yield1(d,a);F(b)&&e.push(a)};this.$each();return e},pa.$$arity=0);c.def(d,"$reverse_each",Y=function(){var a,b=Y.$$p,d=b||k;b&&(Y.$$p=null);if(d===k)return g(this,"enum_for",["reverse_each"],
(a=function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a));var e=[];this.$each.$$p=function(){e.push(arguments)};this.$each();for(b=e.length-1;0<=b;b--)c.yieldX(d,e[b]);return e},Y.$$arity=0);c.alias(d,"select","find_all");c.def(d,"$slice_before",qa=function(b){var d,e=qa.$$p,h=e||k;e&&(qa.$$p=null);a(void 0===b&&h===k)&&this.$raise(v(f,"ArgumentError"),"both pattern and block are given");a(void 0!==b&&h!==k||1<arguments.length)&&this.$raise(v(f,"ArgumentError"),"wrong number of arguments ("+
arguments.length+" expected 1)");return g(v(f,"Enumerator"),"new",[],(d=function(g){var e=d.$$s||this;null==g&&(g=k);var l=[];e.$each.$$p=h!==k?void 0===b?function(){var b=v(f,"Opal").$destructure(arguments),d=c.yield1(h,b);a(d)&&0<l.length&&(g["$<<"](l),l=[]);l.push(b)}:function(){var c=v(f,"Opal").$destructure(arguments),d=h(c,b.$dup());a(d)&&0<l.length&&(g["$<<"](l),l=[]);l.push(c)}:function(){var c=v(f,"Opal").$destructure(arguments),d=b["$==="](c);a(d)&&0<l.length&&(g["$<<"](l),l=[]);l.push(c)};
e.$each();if(0<l.length)g["$<<"](l)},d.$$s=this,d.$$arity=1,d))},qa.$$arity=-1);c.def(d,"$slice_after",na=function(b){var d,e,h=na.$$p,l=h||k;h&&(na.$$p=null);a(void 0===b&&l===k)&&this.$raise(v(f,"ArgumentError"),"both pattern and block are given");a(void 0!==b&&l!==k||1<arguments.length)&&this.$raise(v(f,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");a(void 0!==b)&&(l=g(this,"proc",[],(d=function(a){null==a&&(a=k);return b["$==="](a)},d.$$s=this,d.$$arity=1,d)));
return g(v(f,"Enumerator"),"new",[],(e=function(b){var d=e.$$s||this;null==b&&(b=k);var g;d.$each.$$p=function(){var d=v(f,"Opal").$destructure(arguments),e=c.yield1(l,d);null==g&&(g=[]);a(e)?(g.push(d),b.$yield(g),g=null):g.push(d)};d.$each();null!=g&&b.$yield(g)},e.$$s=this,e.$$arity=1,e))},na.$$arity=-1);c.def(d,"$slice_when",ia=function(){var b,d=ia.$$p,e=d||k;d&&(ia.$$p=null);e===k&&this.$raise(v(f,"ArgumentError"),"wrong number of arguments (0 for 1)");return g(v(f,"Enumerator"),"new",[],(b=
function(d){var g=b.$$s||this;null==d&&(d=k);var h=k,l=k;g.$each_cons.$$p=function(){var b=v(f,"Opal").$destructure(arguments),g=b[0],b=b[1],n=c.yieldX(e,[g,b]);l=b;h===k&&(h=[]);a(n)?(h.push(g),d.$yield(h),h=[]):h.push(g)};g.$each_cons(2);h!==k&&(h.push(l),d.$yield(h))},b.$$s=this,b.$$arity=1,b))},ia.$$arity=0);c.def(d,"$sort",xa=function(){var a,c=xa.$$p,b=c||k,d=k;c&&(xa.$$p=null);d=this.$to_a();b===k&&(b=B((a=function(a,c){null==a&&(a=k);null==c&&(c=k);return a["$<=>"](c)},a.$$s=this,a.$$arity=
2,a)));return g(d,"sort",[],b.$to_proc())},xa.$$arity=0);c.def(d,"$sort_by",ra=function(){var a,b,d,e,h=ra.$$p,l=h||k,n=k;h&&(ra.$$p=null);if(l===k)return g(this,"enum_for",["sort_by"],(a=function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a));n=g(this,"map",[],(b=function(){var a=k,a=v(f,"Opal").$destructure(arguments);return[c.yield1(l,a),a]},b.$$s=this,b.$$arity=0,b));g(n,"sort!",[],(d=function(a,c){null==a&&(a=k);null==c&&(c=k);return a[0]["$<=>"](c[0])},d.$$s=this,d.$$arity=
2,d));return g(n,"map!",[],(e=function(a){null==a&&(a=k);return a[1]},e.$$s=this,e.$$arity=1,e))},ra.$$arity=0);c.def(d,"$sum",wa=function(a){var b,d=wa.$$p,e=d||k,h=k;null==a&&(a=0);d&&(wa.$$p=null);h=a;g(this,"each",[],(b=function(a){var b,d=k,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var g=0;g<d;g++)b[g-0]=arguments[g];d=e!==k?c.yieldX(e,c.to_a(b)):v(f,"Opal").$destructure(b);return h=E(h,d)},b.$$s=this,b.$$arity=-1,b));return h},wa.$$arity=-1);c.def(d,"$take",ua=function(a){return this.$first(a)},
ua.$$arity=1);c.def(d,"$take_while",va=function(){try{var b,d=va.$$p,e=d||k,h=k;d&&(va.$$p=null);if(!a(e))return this.$enum_for("take_while");h=[];return g(this,"each",[],(b=function(b){var d,g=k,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var l=0;l<g;l++)d[l-0]=arguments[l];g=v(f,"Opal").$destructure(d);a(c.yield1(e,g))||c.ret(h);return h.push(g)},b.$$s=this,b.$$arity=-1,b))}catch(l){if(l===c.returner)return l.$v;throw l;}},va.$$arity=0);c.def(d,"$uniq",ya=function(){var b,d=ya.$$p,e=d||k,
h=k;d&&(ya.$$p=null);h=t([],{});g(this,"each",[],(b=function(b){var d,l=k,l=d=k,l=arguments.length;d=l-0;0>d&&(d=0);d=Array(d);for(var n=0;n<l;n++)d[n-0]=arguments[n];l=v(f,"Opal").$destructure(d);d=e!==k?c.yield1(e,l):l;if(a(h["$key?"](d)))return k;l=[d,l];g(h,"[]=",c.to_a(l));return l[u(l.length,1)]},b.$$s=this,b.$$arity=-1,b));return h.$values()},ya.$$arity=0);c.alias(d,"to_a","entries");c.def(d,"$zip",Aa=function(a){var b,d=Aa.$$p,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var f=0;f<e;f++)b[f-
0]=arguments[f];d&&(Aa.$$p=null);return g(this.$to_a(),"zip",c.to_a(b))},Aa.$$arity=-1)}(p[0],p)},Opal.modules["corelib/enumerator"]=function(c){function z(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function E(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}var u=c.top,r=[],p=c.nil,k=c.const_get_relative,A=c.breaker,v=c.slice,x=c.klass,a=c.truthy,g=c.send,F=c.falsy;c.add_stubs("$require $include $allocate $new $to_proc $coerce_to $nil? $empty? $+ $class $__send__ $=== $call $enum_for $size $destructure $inspect $any? $[] $raise $yield $each $enumerator_size $respond_to? $try_convert $< $for".split(" "));
u.$require("corelib/enumerable");return function(t,$super,y){function h(){}t=h=x(t,$super,"Enumerator",h);var b=t.$$proto,d=[t].concat(y),f,m,S,l,e,q;b.size=b.args=b.object=b.method=p;t.$include(k(d,"Enumerable"));b.$$is_enumerator=!0;c.defs(t,"$for",f=function(a,c,b){var d,g=f.$$p,e=g||p;null==c&&(c="each");var h=arguments.length;d=h-2;0>d&&(d=0);d=Array(d);for(var l=2;l<h;l++)d[l-2]=arguments[l];g&&(f.$$p=null);g=this.$allocate();g.object=a;g.size=e;g.method=c;g.args=d;return g},f.$$arity=-2);c.def(t,
"$initialize",m=function(c){var b=m.$$p,e=b||p;b&&(m.$$p=null);if(a(e))return this.object=g(k(d,"Generator"),"new",[],e.$to_proc()),this.method="each",this.args=[],this.size=arguments[0]||p,a(this.size)?this.size=k(d,"Opal").$coerce_to(this.size,k(d,"Integer"),"to_int"):p;this.object=arguments[0];this.method=arguments[1]||"each";this.args=v.call(arguments,2);return this.size=p},m.$$arity=-1);c.def(t,"$each",S=function(b){var d,e,f=S.$$p,h=f||p,l=arguments.length;e=l-0;0>e&&(e=0);e=Array(e);for(var m=
0;m<l;m++)e[m-0]=arguments[m];f&&(S.$$p=null);if(a(a(d=h["$nil?"]())?e["$empty?"]():d))return this;e=z(this.args,e);return a(h["$nil?"]())?g(this.$class(),"new",[this.object,this.method].concat(c.to_a(e))):g(this.object,"__send__",[this.method].concat(c.to_a(e)),h.$to_proc())},S.$$arity=-1);c.def(t,"$size",l=function(){return a(k(d,"Proc")["$==="](this.size))?g(this.size,"call",c.to_a(this.args)):this.size},l.$$arity=0);c.def(t,"$with_index",e=function(c){var b,f=e.$$p,h=f||p;null==c&&(c=0);f&&(e.$$p=
null);c=a(c)?k(d,"Opal").$coerce_to(c,k(d,"Integer"),"to_int"):0;if(!a(h))return g(this,"enum_for",["with_index",c],(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b));var l=c;this.$each.$$p=function(){var a=k(d,"Opal").$destructure(arguments),a=h(a,l);l++;return a};return this.$each()},e.$$arity=-1);c.alias(t,"with_object","each_with_object");c.def(t,"$inspect",q=function(){var c=p,c="#<"+this.$class()+": "+this.object.$inspect()+":"+this.method;a(this.args["$any?"]())&&(c=z(c,
"("+this.args.$inspect()["$[]"](k(d,"Range").$new(1,-2))+")"));return z(c,">")},q.$$arity=0);(function(b,$super,d){function e(){}b=e=x(b,$super,"Generator",e);var f=b.$$proto,h=[b].concat(d),l,m;f.block=p;b.$include(k(h,"Enumerable"));c.def(b,"$initialize",l=function(){var c=l.$$p,b=c||p;c&&(l.$$p=null);a(b)||this.$raise(k(h,"LocalJumpError"),"no block given");return this.block=b},l.$$arity=0);return(c.def(b,"$each",m=function(a){var b,d=m.$$p,e=d||p,f=p,f=arguments.length;b=f-0;0>b&&(b=0);b=Array(b);
for(var l=0;l<f;l++)b[l-0]=arguments[l];d&&(m.$$p=null);f=g(k(h,"Yielder"),"new",[],e.$to_proc());try{b.unshift(f),c.yieldX(this.block,b)}catch(n){if(n===A)return A.$v;throw n;}return this},m.$$arity=-1),p)&&"each"})(d[0],null,d);(function(a,$super,b){function d(){}a=d=x(a,$super,"Yielder",d);var e=a.$$proto;[a].concat(b);var f,h,l;e.block=p;c.def(a,"$initialize",f=function(){var a=f.$$p,c=a||p;a&&(f.$$p=null);return this.block=c},f.$$arity=0);c.def(a,"$yield",h=function(a){var b,d=arguments.length;
b=d-0;0>b&&(b=0);b=Array(b);for(var g=0;g<d;g++)b[g-0]=arguments[g];d=c.yieldX(this.block,b);if(d===A)throw A;return d},h.$$arity=-1);return(c.def(a,"$<<",l=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];g(this,"yield",c.to_a(b));return this},l.$$arity=-1),p)&&"<<"})(d[0],null,d);return function(b,$super,d){function e(){}b=e=x(b,$super,"Lazy",e);var f=b.$$proto,h=[b].concat(d),l,m,q,t,w,y,S,ea,N,O,X,v,r;f.enumerator=p;(function(a,$super,c){function b(){}
[b=x(a,$super,"StopLazyError",b)].concat(c);return p})(h[0],k(h,"Exception"),h);c.def(b,"$initialize",l=function(a,b){var d,e=l.$$p,f=e||p;null==b&&(b=p);e&&(l.$$p=null);f===p&&this.$raise(k(h,"ArgumentError"),"tried to call lazy new without a block");this.enumerator=a;return g(this,c.find_super_dispatcher(this,"initialize",l,!1),[b],(d=function(b,e){var l=d.$$s||this,n,m,q=arguments.length;n=q-1;0>n&&(n=0);n=Array(n);for(var t=1;t<q;t++)n[t-1]=arguments[t];null==b&&(b=p);try{return g(a,"each",c.to_a(n),
(m=function(a){var d,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var e=0;e<g;e++)d[e-0]=arguments[e];d.unshift(b);c.yieldX(f,d)},m.$$s=l,m.$$arity=-1,m))}catch(w){if(c.rescue(w,[k(h,"Exception")]))try{return p}finally{c.pop_exception()}else throw w;}},d.$$s=this,d.$$arity=-2,d))},l.$$arity=-2);c.alias(b,"force","to_a");c.def(b,"$lazy",m=function(){return this},m.$$arity=0);c.def(b,"$collect",q=function(){var b,d=q.$$p,e=d||p;d&&(q.$$p=null);a(e)||this.$raise(k(h,"ArgumentError"),"tried to call lazy map without a block");
return g(k(h,"Lazy"),"new",[this,this.$enumerator_size()],(b=function(a,b){var d,g=arguments.length;d=g-1;0>d&&(d=0);d=Array(d);for(var f=1;f<g;f++)d[f-1]=arguments[f];null==a&&(a=p);g=c.yieldX(e,d);a.$yield(g)},b.$$s=this,b.$$arity=-2,b))},q.$$arity=0);c.def(b,"$collect_concat",t=function(){var b,d=t.$$p,e=d||p;d&&(t.$$p=null);a(e)||this.$raise(k(h,"ArgumentError"),"tried to call lazy map without a block");return g(k(h,"Lazy"),"new",[this,p],(b=function(a,d){var f=b.$$s||this,l,n,m,q=arguments.length;
l=q-1;0>l&&(l=0);l=Array(l);for(var t=1;t<q;t++)l[t-1]=arguments[t];null==a&&(a=p);q=c.yieldX(e,l);q["$respond_to?"]("force")&&q["$respond_to?"]("each")?g(q,"each",[],(n=function(c){null==c&&(c=p);return a.$yield(c)},n.$$s=f,n.$$arity=1,n)):k(h,"Opal").$try_convert(q,k(h,"Array"),"to_ary")===p?a.$yield(q):g(q,"each",[],(m=function(c){null==c&&(c=p);return a.$yield(c)},m.$$s=f,m.$$arity=1,m))},b.$$s=this,b.$$arity=-2,b))},t.$$arity=0);c.def(b,"$drop",w=function(b){var d,e=p,f=e=p;b=k(h,"Opal").$coerce_to(b,
k(h,"Integer"),"to_int");a(E(b,0))&&this.$raise(k(h,"ArgumentError"),"attempt to drop negative size");e=this.$enumerator_size();e=a(k(h,"Integer")["$==="](e))?a(E(b,e))?b:e:e;f=0;return g(k(h,"Lazy"),"new",[this,e],(d=function(d,e){var h,l=arguments.length;h=l-1;0>h&&(h=0);h=Array(h);for(var n=1;n<l;n++)h[n-1]=arguments[n];null==d&&(d=p);return a(E(f,b))?f=z(f,1):g(d,"yield",c.to_a(h))},d.$$s=this,d.$$arity=-2,d))},w.$$arity=1);c.def(b,"$drop_while",y=function(){var b,d=y.$$p,e=d||p,f=p;d&&(y.$$p=
null);a(e)||this.$raise(k(h,"ArgumentError"),"tried to call lazy drop_while without a block");f=!0;return g(k(h,"Lazy"),"new",[this,p],(b=function(b,d){var h,l=arguments.length;h=l-1;0>h&&(h=0);h=Array(h);for(var n=1;n<l;n++)h[n-1]=arguments[n];null==b&&(b=p);if(a(f))l=c.yieldX(e,h),F(l)&&(f=!1,g(b,"yield",c.to_a(h)));else return g(b,"yield",c.to_a(h))},b.$$s=this,b.$$arity=-2,b))},y.$$arity=0);c.def(b,"$enum_for",S=function(a,b){var d,e=S.$$p,f=e||p;null==a&&(a="each");var h=arguments.length;d=h-
1;0>d&&(d=0);d=Array(d);for(var l=1;l<h;l++)d[l-1]=arguments[l];e&&(S.$$p=null);return g(this.$class(),"for",[this,a].concat(c.to_a(d)),f.$to_proc())},S.$$arity=-1);c.def(b,"$find_all",ea=function(){var b,d=ea.$$p,e=d||p;d&&(ea.$$p=null);a(e)||this.$raise(k(h,"ArgumentError"),"tried to call lazy select without a block");return g(k(h,"Lazy"),"new",[this,p],(b=function(b,d){var f,h=arguments.length;f=h-1;0>f&&(f=0);f=Array(f);for(var l=1;l<h;l++)f[l-1]=arguments[l];null==b&&(b=p);h=c.yieldX(e,f);a(h)&&
g(b,"yield",c.to_a(f))},b.$$s=this,b.$$arity=-2,b))},ea.$$arity=0);c.alias(b,"flat_map","collect_concat");c.def(b,"$grep",N=function(b){var d,e,f=N.$$p,l=f||p;f&&(N.$$p=null);return a(l)?g(k(h,"Lazy"),"new",[this,p],(d=function(d,g){var e,f=arguments.length;e=f-1;0>e&&(e=0);e=Array(e);for(var n=1;n<f;n++)e[n-1]=arguments[n];null==d&&(d=p);f=k(h,"Opal").$destructure(e);e=b["$==="](f);a(e)&&(c.yield1(l,f),d.$yield(c.yield1(l,f)))},d.$$s=this,d.$$arity=-2,d)):g(k(h,"Lazy"),"new",[this,p],(e=function(c,
d){var g,e=arguments.length;g=e-1;0>g&&(g=0);g=Array(g);for(var f=1;f<e;f++)g[f-1]=arguments[f];null==c&&(c=p);e=k(h,"Opal").$destructure(g);g=b["$==="](e);a(g)&&c.$yield(e)},e.$$s=this,e.$$arity=-2,e))},N.$$arity=1);c.alias(b,"map","collect");c.alias(b,"select","find_all");c.def(b,"$reject",O=function(){var b,d=O.$$p,e=d||p;d&&(O.$$p=null);a(e)||this.$raise(k(h,"ArgumentError"),"tried to call lazy reject without a block");return g(k(h,"Lazy"),"new",[this,p],(b=function(a,b){var d,f=arguments.length;
d=f-1;0>d&&(d=0);d=Array(d);for(var h=1;h<f;h++)d[h-1]=arguments[h];null==a&&(a=p);f=c.yieldX(e,d);F(f)&&g(a,"yield",c.to_a(d))},b.$$s=this,b.$$arity=-2,b))},O.$$arity=0);c.def(b,"$take",X=function(b){var d,e=p,f=e=p;b=k(h,"Opal").$coerce_to(b,k(h,"Integer"),"to_int");a(E(b,0))&&this.$raise(k(h,"ArgumentError"),"attempt to take negative size");e=this.$enumerator_size();e=a(k(h,"Integer")["$==="](e))?a(E(b,e))?b:e:e;f=0;return g(k(h,"Lazy"),"new",[this,e],(d=function(e,l){var n=d.$$s||this,m,q=arguments.length;
m=q-1;0>m&&(m=0);m=Array(m);for(var t=1;t<q;t++)m[t-1]=arguments[t];null==e&&(e=p);return a(E(f,b))?(g(e,"yield",c.to_a(m)),f=z(f,1)):n.$raise(k(h,"StopLazyError"))},d.$$s=this,d.$$arity=-2,d))},X.$$arity=1);c.def(b,"$take_while",v=function(){var b,d=v.$$p,e=d||p;d&&(v.$$p=null);a(e)||this.$raise(k(h,"ArgumentError"),"tried to call lazy take_while without a block");return g(k(h,"Lazy"),"new",[this,p],(b=function(d,f){var l=b.$$s||this,n,m=arguments.length;n=m-1;0>n&&(n=0);n=Array(n);for(var q=1;q<
m;q++)n[q-1]=arguments[q];null==d&&(d=p);m=c.yieldX(e,n);a(m)?g(d,"yield",c.to_a(n)):l.$raise(k(h,"StopLazyError"))},b.$$s=this,b.$$arity=-2,b))},v.$$arity=0);c.alias(b,"to_enum","enum_for");return(c.def(b,"$inspect",r=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},r.$$arity=0),p)&&"inspect"}(d[0],t,d)}(r[0],null,r)},Opal.modules["corelib/numeric"]=function(c){function z(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function E(a,c){return"number"===typeof a&&
"number"===typeof c?a*c:a["$*"](c)}function u(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function r(a,c){return"number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)}var p=c.top,k=[],A=c.nil,v=c.const_get_qualified,x=c.const_get_relative,a=c.klass,g=c.truthy,F=c.hash2;c.add_stubs("$require $include $instance_of? $class $Float $respond_to? $coerce $__send__ $=== $raise $equal? $- $* $div $< $-@ $ceil $to_f $denominator $to_r $== $floor $/ $% $Complex $zero? $numerator $abs $arg $coerce_to! $round $to_i $truncate $>".split(" "));
p.$require("corelib/comparable");return function(t,$super,k){function h(){}t=h=a(t,$super,"Numeric",h);var b=[t].concat(k),d,f,m,S,l,e,q,n,p,ka,C,da,L,ta,W,J,I,w,fa,Q,ea,N,O,X,R,P,ja,Z,H,ba,T,ga,ca,aa,sa,la,ma;t.$include(x(b,"Comparable"));c.def(t,"$coerce",d=function(a){return g(a["$instance_of?"](this.$class()))?[a,this]:[this.$Float(a),this.$Float(this)]},d.$$arity=1);c.def(t,"$__coerced__",f=function(a,d){var e,f,h=A;f=e=A;if(g(d["$respond_to?"]("coerce")))return f=d.$coerce(this),e=c.to_ary(f),
h=null==e[0]?A:e[0],e=null==e[1]?A:e[1],f,h.$__send__(a,e);f=a;return"+"["$==="](f)||"-"["$==="](f)||"*"["$==="](f)||"/"["$==="](f)||"%"["$==="](f)||"&"["$==="](f)||"|"["$==="](f)||"^"["$==="](f)||"**"["$==="](f)?this.$raise(x(b,"TypeError"),""+d.$class()+" can't be coerced into Numeric"):">"["$==="](f)||">="["$==="](f)||"<"["$==="](f)||"<="["$==="](f)||"<=>"["$==="](f)?this.$raise(x(b,"ArgumentError"),"comparison of "+this.$class()+" with "+d.$class()+" failed"):A},f.$$arity=2);c.def(t,"$<=>",m=
function(a){return g(this["$equal?"](a))?0:A},m.$$arity=1);c.def(t,"$+@",S=function(){return this},S.$$arity=0);c.def(t,"$-@",l=function(){return z(0,this)},l.$$arity=0);c.def(t,"$%",e=function(a){return z(this,E(a,this.$div(a)))},e.$$arity=1);c.def(t,"$abs",q=function(){return u(this,0)?this["$-@"]():this},q.$$arity=0);c.def(t,"$abs2",n=function(){return E(this,this)},n.$$arity=0);c.def(t,"$angle",p=function(){return u(this,0)?v(x(b,"Math"),"PI"):0},p.$$arity=0);c.alias(t,"arg","angle");c.def(t,
"$ceil",ka=function(a){null==a&&(a=0);return this.$to_f().$ceil(a)},ka.$$arity=-1);c.def(t,"$conj",C=function(){return this},C.$$arity=0);c.alias(t,"conjugate","conj");c.def(t,"$denominator",da=function(){return this.$to_r().$denominator()},da.$$arity=0);c.def(t,"$div",L=function(a){a["$=="](0)&&this.$raise(x(b,"ZeroDivisionError"),"divided by o");return r(this,a).$floor()},L.$$arity=1);c.def(t,"$divmod",ta=function(a){return[this.$div(a),this["$%"](a)]},ta.$$arity=1);c.def(t,"$fdiv",W=function(a){return r(this.$to_f(),
a)},W.$$arity=1);c.def(t,"$floor",J=function(a){null==a&&(a=0);return this.$to_f().$floor(a)},J.$$arity=-1);c.def(t,"$i",I=function(){return this.$Complex(0,this)},I.$$arity=0);c.def(t,"$imag",w=function(){return 0},w.$$arity=0);c.alias(t,"imaginary","imag");c.def(t,"$integer?",fa=function(){return!1},fa.$$arity=0);c.alias(t,"magnitude","abs");c.alias(t,"modulo","%");c.def(t,"$nonzero?",Q=function(){return g(this["$zero?"]())?A:this},Q.$$arity=0);c.def(t,"$numerator",ea=function(){return this.$to_r().$numerator()},
ea.$$arity=0);c.alias(t,"phase","arg");c.def(t,"$polar",N=function(){return[this.$abs(),this.$arg()]},N.$$arity=0);c.def(t,"$quo",O=function(a){return r(x(b,"Opal")["$coerce_to!"](this,x(b,"Rational"),"to_r"),a)},O.$$arity=1);c.def(t,"$real",X=function(){return this},X.$$arity=0);c.def(t,"$real?",R=function(){return!0},R.$$arity=0);c.def(t,"$rect",P=function(){return[this,0]},P.$$arity=0);c.alias(t,"rectangular","rect");c.def(t,"$round",ja=function(a){return this.$to_f().$round(a)},ja.$$arity=-1);
c.def(t,"$to_c",Z=function(){return this.$Complex(this,0)},Z.$$arity=0);c.def(t,"$to_int",H=function(){return this.$to_i()},H.$$arity=0);c.def(t,"$truncate",ba=function(a){null==a&&(a=0);return this.$to_f().$truncate(a)},ba.$$arity=-1);c.def(t,"$zero?",T=function(){return this["$=="](0)},T.$$arity=0);c.def(t,"$positive?",ga=function(){return"number"===typeof this?0<this:this["$>"](0)},ga.$$arity=0);c.def(t,"$negative?",ca=function(){return u(this,0)},ca.$$arity=0);c.def(t,"$dup",aa=function(){return this},
aa.$$arity=0);c.def(t,"$clone",sa=function(a){if(null==a||!a.$$is_hash)if(null==a)F([],{});else throw c.ArgumentError.$new("expected kwargs");return this},sa.$$arity=-1);c.def(t,"$finite?",la=function(){return!0},la.$$arity=0);return(c.def(t,"$infinite?",ma=function(){return A},ma.$$arity=0),A)&&"infinite?"}(k[0],null,k)},Opal.modules["corelib/array"]=function(c){function z(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}var E=c.top,u=[],r=c.nil,p=c.const_get_qualified,k=c.const_get_relative,
A=c.klass,v=c.truthy,x=c.hash2,a=c.send,g=c.gvars;c.add_stubs("$require $include $to_a $warn $raise $replace $respond_to? $to_ary $coerce_to $coerce_to? $=== $join $to_str $class $hash $<=> $== $object_id $inspect $enum_for $bsearch_index $to_proc $nil? $coerce_to! $> $* $enumerator_size $empty? $size $map $equal? $dup $each $[] $dig $eql? $length $begin $end $exclude_end? $flatten $__id__ $to_s $new $max $min $! $>= $** $delete_if $reverse $rotate $rand $at $keep_if $shuffle! $< $sort $sort_by $!= $times $[]= $- $<< $values $is_a? $last $first $upto $reject $pristine $singleton_class".split(" "));
E.$require("corelib/enumerable");E.$require("corelib/numeric");return function(F,$super,B){function y(){}function h(a,b){return b.$$name===c.Array?a:b.$allocate().$replace(a.$to_a())}function b(a,b){var d=a.length,g,e,f;g=b.excl;e=c.Opal.$coerce_to(b.begin,c.Integer,"to_int");f=c.Opal.$coerce_to(b.end,c.Integer,"to_int");if(0>e&&(e+=d,0>e)||e>d)return r;if(0>f&&(f+=d,0>f))return[];g||(f+=1);d=a.slice(e,f);return h(d,a.$class())}function d(a,b,d){var g=a.length;b=c.Opal.$coerce_to(b,c.Integer,"to_int");
if(0>b&&(b+=g,0>b))return r;if(void 0===d)return b>=g||0>b?r:a[b];d=c.Opal.$coerce_to(d,c.Integer,"to_int");if(0>d||b>g||0>b)return r;b=a.slice(b,b+d);return h(b,a.$class())}function f(a,c){return a===c||0===c?1:0<c&&a>c?f(a-1,c-1)+f(a-1,c):0}var m=y=A(F,$super,"Array",y),S=m.$$proto,l=[m].concat(B),e,q,n,u,ka,C,da,L,ta,W,J,I,w,fa,Q,ea,N,O,X,R,P,ja,Z,H,ba,T,ga,ca,aa,E,la,ma,ha,pa,Y,qa,na,ia,xa,ra,wa,ua,va,ya,Aa,Ea,Ba,Ca,Da,Ha,Ia,M,Ka,oa,Fa,Ja,Ga,D,V,za,U,La,K,Pa,Na,Oa,Qa,G,Ra,Sa,kb,Xa,Ya,ib,jb,lb,
mb,Za,ab,bb,nb,cb,ob,pb,hb,Va,Ua,fb,gb,Wa,qb,Ta,rb;m.$include(k(l,"Enumerable"));S.$$is_array=!0;c.defs(m,"$[]",e=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];return h(c,this)},e.$$arity=-1);c.def(m,"$initialize",q=function(a,c){var b=q.$$p,d=b||r;null==a&&(a=r);null==c&&(c=r);b&&(q.$$p=null);c!==r&&d!==r&&this.$warn("warning: block supersedes default value argument");a>p(k(l,"Integer"),"MAX")&&this.$raise(k(l,"ArgumentError"),"array size too big");
2<arguments.length&&this.$raise(k(l,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)");if(0===arguments.length)return this.splice(0,this.length),this;if(1===arguments.length){if(a.$$is_array)return this.$replace(a.$to_a()),this;if(a["$respond_to?"]("to_ary"))return this.$replace(a.$to_ary()),this}a=k(l,"Opal").$coerce_to(a,k(l,"Integer"),"to_int");0>a&&this.$raise(k(l,"ArgumentError"),"negative array size");this.splice(0,this.length);var g;if(d===r)for(b=0;b<a;b++)this.push(c);
else for(b=0,g;b<a;b++)g=d(b),this[b]=g;return this},q.$$arity=-1);c.defs(m,"$try_convert",n=function(a){return k(l,"Opal")["$coerce_to?"](a,k(l,"Array"),"to_ary")},n.$$arity=1);c.def(m,"$&",u=function(a){a=v(k(l,"Array")["$==="](a))?a.$to_a():k(l,"Opal").$coerce_to(a,k(l,"Array"),"to_ary").$to_a();var b=[],d=x([],{}),g,e;g=0;for(e=a.length;g<e;g++)c.hash_put(d,a[g],!0);g=0;for(e=this.length;g<e;g++)a=this[g],void 0!==c.hash_delete(d,a)&&b.push(a);return b},u.$$arity=1);c.def(m,"$|",ka=function(a){a=
v(k(l,"Array")["$==="](a))?a.$to_a():k(l,"Opal").$coerce_to(a,k(l,"Array"),"to_ary").$to_a();var b=x([],{}),d,g;d=0;for(g=this.length;d<g;d++)c.hash_put(b,this[d],!0);d=0;for(g=a.length;d<g;d++)c.hash_put(b,a[d],!0);return b.$keys()},ka.$$arity=1);c.def(m,"$*",C=function(a){if(v(a["$respond_to?"]("to_str")))return this.$join(a.$to_str());a=k(l,"Opal").$coerce_to(a,k(l,"Integer"),"to_int");v(0>a)&&this.$raise(k(l,"ArgumentError"),"negative argument");for(var c=[],b=this.$to_a(),d=0;d<a;d++)c=c.concat(b);
return h(c,this.$class())},C.$$arity=1);c.def(m,"$+",da=function(a){a=v(k(l,"Array")["$==="](a))?a.$to_a():k(l,"Opal").$coerce_to(a,k(l,"Array"),"to_ary").$to_a();return this.concat(a)},da.$$arity=1);c.def(m,"$-",L=function(a){a=v(k(l,"Array")["$==="](a))?a.$to_a():k(l,"Opal").$coerce_to(a,k(l,"Array"),"to_ary").$to_a();if(v(0===this.length))return[];if(v(0===a.length))return this.slice();var b=[],d=x([],{}),g,e;g=0;for(e=a.length;g<e;g++)c.hash_put(d,a[g],!0);g=0;for(e=this.length;g<e;g++)a=this[g],
void 0===c.hash_get(d,a)&&b.push(a);return b},L.$$arity=1);c.def(m,"$<<",ta=function(a){this.push(a);return this},ta.$$arity=1);c.def(m,"$<=>",W=function(a){if(v(k(l,"Array")["$==="](a)))a=a.$to_a();else if(v(a["$respond_to?"]("to_ary")))a=a.$to_ary().$to_a();else return r;if(this.$hash()===a.$hash())return 0;for(var c=Math.min(this.length,a.length),b=0;b<c;b++){var d=this[b]["$<=>"](a[b]);if(0!==d)return d}return this.length["$<=>"](a.length)},W.$$arity=1);c.def(m,"$==",J=function(a){function c(a,
d){var g,e,f,h;if(a===d)return!0;if(!d.$$is_array)return k(l,"Opal")["$respond_to?"](d,"to_ary")?d["$=="](a):!1;a.constructor!==Array&&(a=a.$to_a());d.constructor!==Array&&(d=d.$to_a());if(a.length!==d.length)return!1;b[a.$object_id()]=!0;g=0;for(e=a.length;g<e;g++)if(f=a[g],h=d[g],f.$$is_array){if(h.$$is_array&&h.length!==f.length||!b.hasOwnProperty(f.$object_id())&&!c(f,h))return!1}else if(!f["$=="](h))return!1;return!0}var b={};return c(this,a)},J.$$arity=1);c.def(m,"$[]",I=function(a,c){return a.$$is_range?
b(this,a):d(this,a,c)},I.$$arity=-2);c.def(m,"$[]=",w=function(a,c,b){var d=r,g=r,e;e=this.length;if(v(k(l,"Range")["$==="](a))){var d=v(k(l,"Array")["$==="](c))?c.$to_a():v(c["$respond_to?"]("to_ary"))?c.$to_ary().$to_a():[c],f=a.excl;b=k(l,"Opal").$coerce_to(a.begin,k(l,"Integer"),"to_int");g=k(l,"Opal").$coerce_to(a.end,k(l,"Integer"),"to_int");0>b&&(b+=e,0>b&&this.$raise(k(l,"RangeError"),""+a.$inspect()+" out of range"));0>g&&(g+=e);f||(g+=1);if(b>e)for(;e<b;e++)this[e]=r;0>g?this.splice.apply(this,
[b,0].concat(d)):this.splice.apply(this,[b,g-b].concat(d))}else{v(void 0===b)?g=1:(g=c,c=b,d=v(k(l,"Array")["$==="](c))?c.$to_a():v(c["$respond_to?"]("to_ary"))?c.$to_ary().$to_a():[c]);a=k(l,"Opal").$coerce_to(a,k(l,"Integer"),"to_int");g=k(l,"Opal").$coerce_to(g,k(l,"Integer"),"to_int");0>a&&(f=a,a+=e,0>a&&this.$raise(k(l,"IndexError"),"index "+f+" too small for array; minimum "+-this.length));0>g&&this.$raise(k(l,"IndexError"),"negative length ("+g+")");if(a>e)for(;e<a;e++)this[e]=r;void 0===b?
this[a]=c:this.splice.apply(this,[a,g].concat(d))}return c},w.$$arity=-3);c.def(m,"$any?",fa=function(b){var d=fa.$$p,g=r,e=r,f=r;d&&(fa.$$p=null);e=0;f=arguments.length;for(g=Array(f);e<f;e++)g[e]=arguments[e];return 0===this.length?!1:a(this,c.find_super_dispatcher(this,"any?",fa,!1),g,d)},fa.$$arity=-1);c.def(m,"$assoc",Q=function(a){for(var c=0,b=this.length,d;c<b;c++)if(d=this[c],d.length&&d[0]["$=="](a))return d;return r},Q.$$arity=1);c.def(m,"$at",ea=function(a){a=k(l,"Opal").$coerce_to(a,
k(l,"Integer"),"to_int");0>a&&(a+=this.length);return 0>a||a>=this.length?r:this[a]},ea.$$arity=1);c.def(m,"$bsearch_index",N=function(){var a=N.$$p,b=a||r;a&&(N.$$p=null);if(b===r)return this.$enum_for("bsearch_index");for(var a=0,d=this.length,g,e,f=!1,h=r;a<d;){g=a+Math.floor((d-a)/2);e=this[g];e=c.yield1(b,e);if(!0===e)h=g,f=!0;else if(!1===e||e===r)f=!1;else if(e.$$is_number){if(0===e)return g;f=0>e}else this.$raise(k(l,"TypeError"),"wrong argument type "+e.$class()+" (must be numeric, true, false or nil)");
f?d=g:a=g+1}return h},N.$$arity=0);c.def(m,"$bsearch",O=function(){var c=O.$$p,b=c||r,d=r;c&&(O.$$p=null);if(b===r)return this.$enum_for("bsearch");d=a(this,"bsearch_index",[],b.$to_proc());return null!=d&&d.$$is_number?this[d]:d},O.$$arity=0);c.def(m,"$cycle",X=function(b){var d,g,e=X.$$p,f=e||r;null==b&&(b=r);e&&(X.$$p=null);if(f===r)return a(this,"enum_for",["cycle",b],(d=function(){var a=d.$$s||this;if(v(b["$nil?"]()))return p(k(l,"Float"),"INFINITY");b=k(l,"Opal")["$coerce_to!"](b,k(l,"Integer"),
"to_int");return v(z(b,0))?(a=a.$enumerator_size(),"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)):0},d.$$s=this,d.$$arity=0,d));if(v(v(g=this["$empty?"]())?g:b["$=="](0)))return r;if(b===r)for(;;)for(g=0,e=this.length;g<e;g++)c.yield1(f,this[g]);else{b=k(l,"Opal")["$coerce_to!"](b,k(l,"Integer"),"to_int");if(0>=b)return this;for(;0<b;){g=0;for(e=this.length;g<e;g++)c.yield1(f,this[g]);b--}}return this},X.$$arity=-1);c.def(m,"$clear",R=function(){this.splice(0,this.length);return this},R.$$arity=
0);c.def(m,"$count",P=function(b){var d,g=P.$$p,e=g||r,f=r,h=r,l=r;null==b&&(b=r);g&&(P.$$p=null);h=0;l=arguments.length;for(f=Array(l);h<l;h++)f[h]=arguments[h];return v(v(d=b)?d:e)?a(this,c.find_super_dispatcher(this,"count",P,!1),f,g):this.$size()},P.$$arity=-1);c.def(m,"$initialize_copy",ja=function(a){return this.$replace(a)},ja.$$arity=1);c.def(m,"$collect",Z=function(){var b,d=Z.$$p,g=d||r;d&&(Z.$$p=null);if(g===r)return a(this,"enum_for",["collect"],(b=function(){return(b.$$s||this).$size()},
b.$$s=this,b.$$arity=0,b));for(var d=[],e=0,f=this.length;e<f;e++){var h=c.yield1(g,this[e]);d.push(h)}return d},Z.$$arity=0);c.def(m,"$collect!",H=function(){var b,d=H.$$p,g=d||r;d&&(H.$$p=null);if(g===r)return a(this,"enum_for",["collect!"],(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b));for(var d=0,e=this.length;d<e;d++){var f=c.yield1(g,this[d]);this[d]=f}return this},H.$$arity=0);c.def(m,"$combination",ba=function(b){var d,g=ba.$$p,e=g||r,h=r;g&&(ba.$$p=null);h=k(l,"Opal")["$coerce_to!"](b,
k(l,"Integer"),"to_int");if(e===r)return a(this,"enum_for",["combination",h],(d=function(){return f((d.$$s||this).length,h)},d.$$s=this,d.$$arity=0,d));var D,n;if(0===h)c.yield1(e,[]);else if(1===h)for(g=0,b=this.length;g<b;g++)c.yield1(e,[this[g]]);else if(h===this.length)c.yield1(e,this.slice());else if(0<=h&&h<this.length){b=[];for(g=0;g<=h+1;g++)b.push(0);g=[];D=0;n=!1;for(b[0]=-1;!n;){for(g[D]=this[b[D+1]];D<h-1;)D++,n=b[D+1]=b[D]+1,g[D]=this[n];c.yield1(e,g.slice());D++;do n=0===D,b[D]++,D--;
while(b[D+1]+h===this.length+D+1)}}return this},ba.$$arity=1);c.def(m,"$repeated_combination",T=function(b){function d(a,b,g,e){if(g.length==a)a=g.slice(),c.yield1(h,a);else for(;b<e.length;b++)g.push(e[b]),d(a,b,g,e),g.pop()}var g,e=T.$$p,h=e||r,D=r;e&&(T.$$p=null);D=k(l,"Opal")["$coerce_to!"](b,k(l,"Integer"),"to_int");if(h===r)return a(this,"enum_for",["repeated_combination",D],(g=function(){return f((g.$$s||this).length+D-1,D)},g.$$s=this,g.$$arity=0,g));0<=D&&d(D,0,[],this);return this},T.$$arity=
1);c.def(m,"$compact",ga=function(){for(var a=[],b=0,c=this.length,d;b<c;b++)(d=this[b])!==r&&a.push(d);return a},ga.$$arity=0);c.def(m,"$compact!",ca=function(){for(var a=this.length,b=0,c=this.length;b<c;b++)this[b]===r&&(this.splice(b,1),c--,b--);return this.length===a?r:this},ca.$$arity=0);c.def(m,"$concat",aa=function(b){var c,d,g,e=arguments.length;g=e-0;0>g&&(g=0);g=Array(g);for(var f=0;f<e;f++)g[f-0]=arguments[f];g=a(g,"map",[],(c=function(a){var b=c.$$s||this;null==a&&(a=r);a=v(k(l,"Array")["$==="](a))?
a.$to_a():k(l,"Opal").$coerce_to(a,k(l,"Array"),"to_ary").$to_a();v(a["$equal?"](b))&&(a=a.$dup());return a},c.$$s=this,c.$$arity=1,c));a(g,"each",[],(d=function(a){var b=d.$$s||this;null==a&&(a=r);for(var c=0,g=a.length;c<g;c++)b.push(a[c])},d.$$s=this,d.$$arity=1,d));return this},aa.$$arity=-1);c.def(m,"$delete",E=function(a){var b=E.$$p,d=b||r;b&&(E.$$p=null);for(var b=this.length,g=0,e=b;g<e;g++)this[g]["$=="](a)&&(this.splice(g,1),e--,g--);return this.length===b?d!==r?c.yieldX(d,[]):r:a},E.$$arity=
1);c.def(m,"$delete_at",la=function(a){a=k(l,"Opal").$coerce_to(a,k(l,"Integer"),"to_int");0>a&&(a+=this.length);if(0>a||a>=this.length)return r;var b=this[a];this.splice(a,1);return b},la.$$arity=1);c.def(m,"$delete_if",ma=function(){var b,c=ma.$$p,d=c||r;c&&(ma.$$p=null);if(d===r)return a(this,"enum_for",["delete_if"],(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b));for(var c=0,g=this.length,e;c<g;c++)e=d(this[c]),!1!==e&&e!==r&&(this.splice(c,1),g--,c--);return this},ma.$$arity=
0);c.def(m,"$dig",ha=function(b,d){var g,e=r,e=arguments.length;g=e-1;0>g&&(g=0);g=Array(g);for(var f=1;f<e;f++)g[f-1]=arguments[f];e=this["$[]"](b);if(e===r||0===g.length)return e;v(e["$respond_to?"]("dig"))||this.$raise(k(l,"TypeError"),""+e.$class()+" does not have #dig method");return a(e,"dig",c.to_a(g))},ha.$$arity=-2);c.def(m,"$drop",pa=function(a){0>a&&this.$raise(k(l,"ArgumentError"));return this.slice(a)},pa.$$arity=1);c.def(m,"$dup",Y=function(){var b=Y.$$p,d=r,g=r,e=r;b&&(Y.$$p=null);
g=0;e=arguments.length;for(d=Array(e);g<e;g++)d[g]=arguments[g];return this.$$class===c.Array&&this.$$class.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine?this.slice(0):a(this,c.find_super_dispatcher(this,"dup",Y,!1),d,b)},Y.$$arity=0);c.def(m,"$each",qa=function(){var b,d=qa.$$p,g=d||r;d&&(qa.$$p=null);if(g===r)return a(this,"enum_for",["each"],(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b));for(var d=0,e=this.length;d<e;d++)c.yield1(g,
this[d]);return this},qa.$$arity=0);c.def(m,"$each_index",na=function(){var b,d=na.$$p,g=d||r;d&&(na.$$p=null);if(g===r)return a(this,"enum_for",["each_index"],(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b));for(var d=0,e=this.length;d<e;d++)c.yield1(g,d);return this},na.$$arity=0);c.def(m,"$empty?",ia=function(){return 0===this.length},ia.$$arity=0);c.def(m,"$eql?",xa=function(a){function b(a,d){var g,e,f,h;if(!d.$$is_array)return!1;d=d.$to_a();if(a.length!==d.length)return!1;
c[a.$object_id()]=!0;g=0;for(e=a.length;g<e;g++)if(f=a[g],h=d[g],f.$$is_array){if(h.$$is_array&&h.length!==f.length||!c.hasOwnProperty(f.$object_id())&&!b(f,h))return!1}else if(!f["$eql?"](h))return!1;return!0}var c={};return b(this,a)},xa.$$arity=1);c.def(m,"$fetch",ra=function(a,b){var c=ra.$$p,d=c||r;c&&(ra.$$p=null);c=a;a=k(l,"Opal").$coerce_to(a,k(l,"Integer"),"to_int");0>a&&(a+=this.length);if(0<=a&&a<this.length)return this[a];d!==r&&null!=b&&this.$warn("warning: block supersedes default value argument");
if(d!==r)return d(c);if(null!=b)return b;0===this.length?this.$raise(k(l,"IndexError"),"index "+c+" outside of array bounds: 0...0"):this.$raise(k(l,"IndexError"),"index "+c+" outside of array bounds: -"+this.length+"..."+this.length)},ra.$$arity=-2);c.def(m,"$fill",wa=function(a){var b,d,g=(d=wa.$$p)||r,e=r,f=r,h=r,f=b=r,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(f=0;f<e;f++)b[f-0]=arguments[f];d&&(wa.$$p=null);v(g)?(v(2<b.length)&&this.$raise(k(l,"ArgumentError"),"wrong number of arguments ("+
b.$length()+" for 0..2)"),d=b,b=c.to_ary(d),e=null==b[0]?r:b[0],f=null==b[1]?r:b[1]):(v(0==b.length)?this.$raise(k(l,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):v(3<b.length)&&this.$raise(k(l,"ArgumentError"),"wrong number of arguments ("+b.$length()+" for 1..3)"),d=b,b=c.to_ary(d),h=null==b[0]?r:b[0],e=null==b[1]?r:b[1],f=null==b[2]?r:b[2]);d;if(v(k(l,"Range")["$==="](e))){if(v(f)&&this.$raise(k(l,"TypeError"),"length invalid with range"),b=k(l,"Opal").$coerce_to(e.$begin(),k(l,"Integer"),
"to_int"),v(0>b)&&(b+=this.length),v(0>b)&&this.$raise(k(l,"RangeError"),""+e.$inspect()+" out of range"),f=k(l,"Opal").$coerce_to(e.$end(),k(l,"Integer"),"to_int"),v(0>f)&&(f+=this.length),v(e["$exclude_end?"]())||(f+=1),v(f<=b))return this}else if(v(e))if(b=k(l,"Opal").$coerce_to(e,k(l,"Integer"),"to_int"),v(0>b)&&(b+=this.length),v(0>b)&&(b=0),v(f)){f=k(l,"Opal").$coerce_to(f,k(l,"Integer"),"to_int");if(v(0==f))return this;f+=b}else f=this.length;else b=0,f=this.length;if(v(b>this.length))for(d=
this.length;d<f;d++)this[d]=r;v(f>this.length)&&(this.length=f);if(v(g))for(;b<f;b++)h=g(b),this[b]=h;else for(;b<f;b++)this[b]=h;return this},wa.$$arity=-1);c.def(m,"$first",ua=function(a){if(null==a)return 0===this.length?r:this[0];a=k(l,"Opal").$coerce_to(a,k(l,"Integer"),"to_int");0>a&&this.$raise(k(l,"ArgumentError"),"negative array size");return this.slice(0,a)},ua.$$arity=-1);c.def(m,"$flatten",va=function(a){function b(a,d){var g=[],e,f,h,D;a=a.$to_a();e=0;for(f=a.length;e<f;e++)if(h=a[e],
k(l,"Opal")["$respond_to?"](h,"to_ary",!0))if(D=h.$to_ary(),D===r)g.push(h);else switch(D.$$is_array||c.$raise(k(l,"TypeError")),D===c&&c.$raise(k(l,"ArgumentError")),d){case void 0:g=g.concat(b(D));break;case 0:g.push(D);break;default:g.push.apply(g,b(D,d-1))}else g.push(h);return g}var c=this;void 0!==a&&(a=k(l,"Opal").$coerce_to(a,k(l,"Integer"),"to_int"));return h(b(c,a),c.$class())},va.$$arity=-1);c.def(m,"$flatten!",ya=function(a){a=this.$flatten(a);if(this.length==a.length){for(var b=0,c=this.length;b<
c&&this[b]===a[b];b++);if(b==c)return r}this.$replace(a);return this},ya.$$arity=-1);c.def(m,"$hash",Aa=function(){var a=void 0===c.hash_ids,b=["A"],d=this.$object_id(),g,e,f;try{a&&(c.hash_ids=Object.create(null));if(c.hash_ids[d])return"self";for(f in c.hash_ids)if(g=c.hash_ids[f],this["$eql?"](g))return"self";c.hash_ids[d]=this;for(e=0;e<this.length;e++)g=this[e],b.push(g.$hash());return b.join(",")}finally{a&&(c.hash_ids=void 0)}},Aa.$$arity=0);c.def(m,"$include?",Ea=function(a){for(var b=0,c=
this.length;b<c;b++)if(this[b]["$=="](a))return!0;return!1},Ea.$$arity=1);c.def(m,"$index",Ba=function(a){var b=Ba.$$p,c=b||r;b&&(Ba.$$p=null);var d;null!=a&&c!==r&&this.$warn("warning: given block not used");if(null!=a)for(b=0,d=this.length;b<d;b++){if(this[b]["$=="](a))return b}else if(c!==r)for(b=0,d=this.length;b<d;b++){if(a=c(this[b]),!1!==a&&a!==r)return b}else return this.$enum_for("index");return r},Ba.$$arity=-1);c.def(m,"$insert",Ca=function(a,b){var c,d=arguments.length;c=d-1;0>c&&(c=0);
c=Array(c);for(var g=1;g<d;g++)c[g-1]=arguments[g];a=k(l,"Opal").$coerce_to(a,k(l,"Integer"),"to_int");if(0<c.length){0>a&&(a+=this.length+1,0>a&&this.$raise(k(l,"IndexError"),""+a+" is out of bounds"));if(a>this.length)for(d=this.length;d<a;d++)this.push(r);this.splice.apply(this,[a,0].concat(c))}return this},Ca.$$arity=-2);c.def(m,"$inspect",Da=function(){for(var a=[],b=this.$__id__(),c=0,d=this.length;c<d;c++){var g=this["$[]"](c);g.$__id__()===b?a.push("[...]"):a.push(g.$inspect())}return"["+
a.join(", ")+"]"},Da.$$arity=0);c.def(m,"$join",Ha=function(a){null==g[","]&&(g[","]=r);null==a&&(a=r);if(v(0===this.length))return"";v(a===r)&&(a=g[","]);var b=[],d,e,f,h;d=0;for(e=this.length;d<e;d++){f=this[d];if(k(l,"Opal")["$respond_to?"](f,"to_str")&&(h=f.$to_str(),h!==r)){b.push(h.$to_s());continue}if(k(l,"Opal")["$respond_to?"](f,"to_ary")&&(h=f.$to_ary(),h===this&&this.$raise(k(l,"ArgumentError")),h!==r)){b.push(h.$join(a));continue}if(k(l,"Opal")["$respond_to?"](f,"to_s")&&(h=f.$to_s(),
h!==r)){b.push(h);continue}this.$raise(k(l,"NoMethodError").$new(""+c.inspect(f)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return a===r?b.join(""):b.join(k(l,"Opal")["$coerce_to!"](a,k(l,"String"),"to_str").$to_s())},Ha.$$arity=-1);c.def(m,"$keep_if",Ia=function(){var b,c=Ia.$$p,d=c||r;c&&(Ia.$$p=null);if(d===r)return a(this,"enum_for",["keep_if"],(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b));for(var c=0,g=this.length,e;c<g;c++)if(e=d(this[c]),!1===e||e===
r)this.splice(c,1),g--,c--;return this},Ia.$$arity=0);c.def(m,"$last",M=function(a){if(null==a)return 0===this.length?r:this[this.length-1];a=k(l,"Opal").$coerce_to(a,k(l,"Integer"),"to_int");0>a&&this.$raise(k(l,"ArgumentError"),"negative array size");a>this.length&&(a=this.length);return this.slice(this.length-a,this.length)},M.$$arity=-1);c.def(m,"$length",Ka=function(){return this.length},Ka.$$arity=0);c.alias(m,"map","collect");c.alias(m,"map!","collect!");c.def(m,"$max",oa=function(b){var c=
oa.$$p,d=c||r;c&&(oa.$$p=null);return a(this.$each(),"max",[b],d.$to_proc())},oa.$$arity=-1);c.def(m,"$min",Fa=function(){var b=Fa.$$p,c=b||r;b&&(Fa.$$p=null);return a(this.$each(),"min",[],c.$to_proc())},Fa.$$arity=0);c.def(m,"$permutation",Ja=function(b){var d,g=this,e=Ja.$$p,f=e||r,h=r,D=r;e&&(Ja.$$p=null);if(f===r)return a(g,"enum_for",["permutation",b],(d=function(){for(var a=d.$$s||this,c=a.length,a=void 0===b?a.length:b,g=0<=a?1:0;a;)g*=c,c--,a--;return g},d.$$s=g,d.$$arity=0,d));var n,m;b=
void 0===b?g.length:k(l,"Opal").$coerce_to(b,k(l,"Integer"),"to_int");if(!(0>b||g.length<b))if(0===b)c.yield1(f,[]);else if(1===b)for(h=0;h<g.length;h++)c.yield1(f,[g[h]]);else h=k(l,"Array").$new(b),D=k(l,"Array").$new(g.length,!1),n=function(a,b,d,e,f){g=this;for(var h=0;h<g.length;h++)if(e["$[]"](h)["$!"]())if(b[d]=h,d<a-1)e[h]=!0,n.call(g,a,b,d+1,e,f),e[h]=!1;else{m=[];for(var l=0;l<b.length;l++)m.push(g[b[l]]);c.yield1(f,m)}},f!==r?(e=g.slice(),n.call(e,b,h,0,D,f)):n.call(g,b,h,0,D,f);return g},
Ja.$$arity=-1);c.def(m,"$repeated_permutation",Ga=function(b){function d(a,b,g){if(b.length==a)a=b.slice(),c.yield1(f,a);else for(var e=0;e<g.length;e++)b.push(g[e]),d(a,b,g),b.pop()}var g,e=Ga.$$p,f=e||r,h=r;e&&(Ga.$$p=null);h=k(l,"Opal")["$coerce_to!"](b,k(l,"Integer"),"to_int");if(f===r)return a(this,"enum_for",["repeated_permutation",h],(g=function(){var a=g.$$s||this;return v("number"===typeof h?0<=h:h["$>="](0))?a.$size()["$**"](h):0},g.$$s=this,g.$$arity=0,g));d(h,[],this.slice());return this},
Ga.$$arity=1);c.def(m,"$pop",D=function(a){if(v(void 0===a))return v(0===this.length)?r:this.pop();a=k(l,"Opal").$coerce_to(a,k(l,"Integer"),"to_int");v(0>a)&&this.$raise(k(l,"ArgumentError"),"negative array size");return v(0===this.length)?[]:v(a>this.length)?this.splice(0,this.length):this.splice(this.length-a,this.length)},D.$$arity=-1);c.def(m,"$product",V=function(a){var b,d=V.$$p,g=d||r,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var f=0;f<e;f++)b[f-0]=arguments[f];d&&(V.$$p=null);var d=
g!==r?null:[],e=b.length+1,f=Array(e),h=Array(e),D=Array(e),n,m=1;D[0]=this;for(n=1;n<e;n++)D[n]=k(l,"Opal").$coerce_to(b[n-1],k(l,"Array"),"to_ary");for(n=0;n<e;n++){b=D[n].length;if(0===b)return d||this;m*=b;2147483647<m&&this.$raise(k(l,"RangeError"),"too big to product");h[n]=b;f[n]=0}a:for(;;){b=[];for(n=0;n<e;n++)b.push(D[n][f[n]]);d?d.push(b):c.yield1(g,b);b=e-1;for(f[b]++;f[b]===h[b];){f[b]=0;if(0>--b)break a;f[b]++}}return d||this},V.$$arity=-1);c.def(m,"$push",za=function(a){var b,c=arguments.length;
b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];c=0;for(d=b.length;c<d;c++)this.push(b[c]);return this},za.$$arity=-1);c.alias(m,"append","push");c.def(m,"$rassoc",U=function(a){for(var b=0,c=this.length,d;b<c;b++)if(d=this[b],d.length&&void 0!==d[1]&&d[1]["$=="](a))return d;return r},U.$$arity=1);c.def(m,"$reject",La=function(){var b,c=La.$$p,d=c||r;c&&(La.$$p=null);if(d===r)return a(this,"enum_for",["reject"],(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,
b));for(var c=[],g=0,e=this.length,f;g<e;g++)f=d(this[g]),!1!==f&&f!==r||c.push(this[g]);return c},La.$$arity=0);c.def(m,"$reject!",K=function(){var b,c=K.$$p,d=c||r,g=r;c&&(K.$$p=null);if(d===r)return a(this,"enum_for",["reject!"],(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b));g=this.$length();a(this,"delete_if",[],d.$to_proc());return this.$length()["$=="](g)?r:this},K.$$arity=0);c.def(m,"$replace",Pa=function(a){a=v(k(l,"Array")["$==="](a))?a.$to_a():k(l,"Opal").$coerce_to(a,
k(l,"Array"),"to_ary").$to_a();this.splice(0,this.length);this.push.apply(this,a);return this},Pa.$$arity=1);c.def(m,"$reverse",Na=function(){return this.slice(0).reverse()},Na.$$arity=0);c.def(m,"$reverse!",Oa=function(){return this.reverse()},Oa.$$arity=0);c.def(m,"$reverse_each",Qa=function(){var b,c=Qa.$$p,d=c||r;c&&(Qa.$$p=null);if(d===r)return a(this,"enum_for",["reverse_each"],(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b));a(this.$reverse(),"each",[],d.$to_proc());return this},
Qa.$$arity=0);c.def(m,"$rindex",G=function(a){var b=G.$$p,c=b||r;b&&(G.$$p=null);null!=a&&c!==r&&this.$warn("warning: given block not used");if(null!=a)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(this[b]["$=="](a))return b}else if(c!==r)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(a=c(this[b]),!1!==a&&a!==r)return b}else if(null==a)return this.$enum_for("rindex");return r},G.$$arity=-1);c.def(m,"$rotate",Ra=function(a){null==a&&(a=1);a=k(l,"Opal").$coerce_to(a,k(l,"Integer"),"to_int");
var b,c;if(1===this.length)return this.slice();if(0===this.length)return[];b=this.slice();c=a%b.length;a=b.slice(c);b=b.slice(0,c);return a.concat(b)},Ra.$$arity=-1);c.def(m,"$rotate!",Sa=function(a){var b=r;null==a&&(a=1);if(0===this.length||1===this.length)return this;a=k(l,"Opal").$coerce_to(a,k(l,"Integer"),"to_int");b=this.$rotate(a);return this.$replace(b)},Sa.$$arity=-1);(function(a,$super,b){function d(){}a=d=A(a,$super,"SampleRandom",d);var g=a.$$proto,e=[a].concat(b),f,h;g.rng=r;c.def(a,
"$initialize",f=function(a){return this.rng=a},f.$$arity=1);return(c.def(a,"$rand",h=function(a){var b=r,b=k(e,"Opal").$coerce_to(this.rng.$rand(a),k(e,"Integer"),"to_int");v(0>b)&&this.$raise(k(e,"RangeError"),"random value must be >= 0");v(b<a)||this.$raise(k(e,"RangeError"),"random value must be less than Array size");return b},h.$$arity=1),r)&&"rand"})(l[0],null,l);c.def(m,"$sample",kb=function(a,b){var c,d=r,g=r;if(v(void 0===a))return this.$at(k(l,"Kernel").$rand(this.length));v(void 0===b)?
v(d=k(l,"Opal")["$coerce_to?"](a,k(l,"Hash"),"to_hash"))?(b=d,a=r):(b=r,a=k(l,"Opal").$coerce_to(a,k(l,"Integer"),"to_int")):(a=k(l,"Opal").$coerce_to(a,k(l,"Integer"),"to_int"),b=k(l,"Opal").$coerce_to(b,k(l,"Hash"),"to_hash"));v(v(c=a)?0>a:c)&&this.$raise(k(l,"ArgumentError"),"count must be greater than 0");v(b)&&(g=b["$[]"]("random"));g=v(v(c=g)?g["$respond_to?"]("rand"):c)?k(l,"SampleRandom").$new(g):k(l,"Kernel");if(!v(a))return this[g.$rand(this.length)];var e,f,h,D;a>this.length&&(a=this.length);
switch(a){case 0:return[];case 1:return[this[g.$rand(this.length)]];case 2:return f=g.$rand(this.length),h=g.$rand(this.length),f===h&&(h=0===f?f+1:f-1),[this[f],this[h]];default:if(3<this.length/a){d=!1;e=0;c=k(l,"Array").$new(a);f=1;for(c[0]=g.$rand(this.length);f<a;){D=g.$rand(this.length);for(h=0;h<f;){for(;D===c[h];){e++;if(100<e){d=!0;break}D=g.$rand(this.length)}if(d)break;h++}if(d)break;c[f]=D;f++}if(!d){for(f=0;f<a;)c[f]=this[c[f]],f++;return c}}c=this.slice();for(f=0;f<a;f++)d=g.$rand(this.length),
e=c[f],c[f]=c[d],c[d]=e;return a===this.length?c:c["$[]"](0,a)}},kb.$$arity=-1);c.def(m,"$select",Xa=function(){var b,d=Xa.$$p,g=d||r;d&&(Xa.$$p=null);if(g===r)return a(this,"enum_for",["select"],(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b));for(var d=[],e=0,f=this.length,h,l;e<f;e++)h=this[e],l=c.yield1(g,h),!1!==l&&l!==r&&d.push(h);return d},Xa.$$arity=0);c.def(m,"$select!",Ya=function(){var b,c=Ya.$$p,d=c||r;c&&(Ya.$$p=null);if(d===r)return a(this,"enum_for",["select!"],
(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b));c=this.length;a(this,"keep_if",[],d.$to_proc());return this.length===c?r:this},Ya.$$arity=0);c.def(m,"$shift",ib=function(a){if(v(void 0===a))return v(0===this.length)?r:this.shift();a=k(l,"Opal").$coerce_to(a,k(l,"Integer"),"to_int");v(0>a)&&this.$raise(k(l,"ArgumentError"),"negative array size");return v(0===this.length)?[]:this.splice(0,a)},ib.$$arity=-1);c.alias(m,"size","length");c.def(m,"$shuffle",jb=function(a){return this.$dup().$to_a()["$shuffle!"](a)},
jb.$$arity=-1);c.def(m,"$shuffle!",lb=function(a){var b,c=this.length,d;void 0!==a&&(a=k(l,"Opal")["$coerce_to?"](a,k(l,"Hash"),"to_hash"),a!==r&&(a=a["$[]"]("random"),a!==r&&a["$respond_to?"]("rand")&&(b=a)));for(;c;)b?(a=b.$rand(c).$to_int(),0>a&&this.$raise(k(l,"RangeError"),"random number too small "+a),a>=c&&this.$raise(k(l,"RangeError"),"random number too big "+a)):a=this.$rand(c),d=this[--c],this[c]=this[a],this[a]=d;return this},lb.$$arity=-1);c.alias(m,"slice","[]");c.def(m,"$slice!",mb=
function(a,b){var c=r,d=r,g=r,e=r,d=r;if(v(void 0===b))if(v(k(l,"Range")["$==="](a))){d=a;c=this["$[]"](d);g=k(l,"Opal").$coerce_to(d.$begin(),k(l,"Integer"),"to_int");e=k(l,"Opal").$coerce_to(d.$end(),k(l,"Integer"),"to_int");0>g&&(g+=this.length);0>e?e+=this.length:e>=this.length&&(e=this.length-1,d.excl&&(e+=1));var f=e-g;d.excl?--e:f+=1;g<this.length&&0<=g&&e<this.length&&0<=e&&0<f&&this.splice(g,f)}else{d=k(l,"Opal").$coerce_to(a,k(l,"Integer"),"to_int");0>d&&(d+=this.length);if(0>d||d>=this.length)return r;
c=this[d];0===d?this.shift():this.splice(d,1)}else{d=k(l,"Opal").$coerce_to(a,k(l,"Integer"),"to_int");b=k(l,"Opal").$coerce_to(b,k(l,"Integer"),"to_int");if(0>b)return r;c=this["$[]"](d,b);0>d&&(d+=this.length);d+b>this.length&&(b=this.length-d);d<this.length&&0<=d&&this.splice(d,b)}return c},mb.$$arity=-2);c.def(m,"$sort",Za=function(){var a=this,b=Za.$$p,c=b||r;b&&(Za.$$p=null);if(!v(1<a.length))return a;c===r&&(c=function(a,b){return a["$<=>"](b)});return a.slice().sort(function(b,d){var g=c(b,
d);g===r&&a.$raise(k(l,"ArgumentError"),"comparison of "+b.$inspect()+" with "+d.$inspect()+" failed");return z(g,0)?1:("number"===typeof g?0>g:g["$<"](0))?-1:0})},Za.$$arity=0);c.def(m,"$sort!",ab=function(){var b=ab.$$p,c=b||r;b&&(ab.$$p=null);for(var b=c!==r?a(this.slice(),"sort",[],c.$to_proc()):this.slice().$sort(),c=this.length=0,d=b.length;c<d;c++)this.push(b[c]);return this},ab.$$arity=0);c.def(m,"$sort_by!",bb=function(){var b,c=bb.$$p,d=c||r;c&&(bb.$$p=null);return d===r?a(this,"enum_for",
["sort_by!"],(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b)):this.$replace(a(this,"sort_by",[],d.$to_proc()))},bb.$$arity=0);c.def(m,"$take",nb=function(a){0>a&&this.$raise(k(l,"ArgumentError"));return this.slice(0,a)},nb.$$arity=1);c.def(m,"$take_while",cb=function(){var a=cb.$$p,b=a||r;a&&(cb.$$p=null);for(var a=[],c=0,d=this.length,g,e;c<d;c++){g=this[c];e=b(g);if(!1===e||e===r)break;a.push(g)}return a},cb.$$arity=0);c.def(m,"$to_a",ob=function(){return this},ob.$$arity=0);
c.alias(m,"to_ary","to_a");c.def(m,"$to_h",pb=function(){var a,b=this.length,d,g,e=x([],{});for(a=0;a<b;a++)d=k(l,"Opal")["$coerce_to?"](this[a],k(l,"Array"),"to_ary"),d.$$is_array||this.$raise(k(l,"TypeError"),"wrong element type "+d.$class()+" at "+a+" (expected array)"),2!==d.length&&this.$raise(k(l,"ArgumentError"),"wrong array length at "+a+" (expected 2, was "+d.$length()+")"),g=d[0],d=d[1],c.hash_put(e,g,d);return e},pb.$$arity=0);c.alias(m,"to_s","inspect");c.def(m,"$transpose",hb=function(){var b,
d=r,g=r;if(v(this["$empty?"]()))return[];d=[];g=r;a(this,"each",[],(b=function(e){var f=b.$$s||this,h,D;null==e&&(e=r);e=v(k(l,"Array")["$==="](e))?e.$to_a():k(l,"Opal").$coerce_to(e,k(l,"Array"),"to_ary").$to_a();g=v(h=g)?h:e.length;v(e.length["$!="](g))&&f.$raise(k(l,"IndexError"),"element size differs ("+e.length+" should be "+g+")");return a(e.length,"times",[],(D=function(b){var g,f=r;null==b&&(b=r);v(g=d["$[]"](b))||(f=[b,[]],a(d,"[]=",c.to_a(f)),g=f,f=f.length,f="number"===typeof f?f-1:f["$-"](1),
g=g[f]);return g["$<<"](e.$at(b))},D.$$s=f,D.$$arity=1,D))},b.$$s=this,b.$$arity=1,b));return d},hb.$$arity=0);c.def(m,"$uniq",Va=function(){var a=Va.$$p,b=a||r;a&&(Va.$$p=null);var a=x([],{}),d,g,e,f;if(b===r)for(d=0,g=this.length;d<g;d++)e=this[d],void 0===c.hash_get(a,e)&&c.hash_put(a,e,e);else for(d=0,g=this.length;d<g;d++)e=this[d],f=c.yield1(b,e),void 0===c.hash_get(a,f)&&c.hash_put(a,f,e);return h(a.$values(),this.$class())},Va.$$arity=0);c.def(m,"$uniq!",Ua=function(){var a=Ua.$$p,b=a||r;
a&&(Ua.$$p=null);var a=this.length,d=x([],{}),g,e,f,h;g=0;for(e=a;g<e;g++)f=this[g],h=b===r?f:c.yield1(b,f),void 0===c.hash_get(d,h)?c.hash_put(d,h,f):(this.splice(g,1),e--,g--);return this.length===a?r:this},Ua.$$arity=0);c.def(m,"$unshift",fb=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];for(c=b.length-1;0<=c;c--)this.unshift(b[c]);return this},fb.$$arity=-1);c.alias(m,"prepend","unshift");c.def(m,"$values_at",gb=function(b){var c,d,g=r,
e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var f=0;f<e;f++)d[f-0]=arguments[f];g=[];a(d,"each",[],(c=function(b){var d=c.$$s||this,e,f=r,h=r,f=r;null==b&&(b=r);if(v(b["$is_a?"](k(l,"Range")))){f=k(l,"Opal").$coerce_to(b.$last(),k(l,"Integer"),"to_int");h=k(l,"Opal").$coerce_to(b.$first(),k(l,"Integer"),"to_int");if(0>h)return h+=d.length,r;0>f&&(f+=d.length);b["$exclude_end?"]()&&f--;return f<h?r:a(h,"upto",[f],(e=function(a){var b=e.$$s||this;null==a&&(a=r);return g["$<<"](b.$at(a))},e.$$s=
d,e.$$arity=1,e))}f=k(l,"Opal").$coerce_to(b,k(l,"Integer"),"to_int");return g["$<<"](d.$at(f))},c.$$s=this,c.$$arity=1,c));return g},gb.$$arity=-1);c.def(m,"$zip",Wa=function(a){var b,c,d=Wa.$$p,g=d||r,e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var f=0;f<e;f++)c[f-0]=arguments[f];d&&(Wa.$$p=null);var d=[],e=this.length,h,D,n;D=0;for(n=c.length;D<n;D++)f=c[D],f.$$is_array||(f.$$is_enumerator?Infinity===f.$size()?c[D]=f.$take(e):c[D]=f.$to_a():c[D]=(v(b=k(l,"Opal")["$coerce_to?"](f,k(l,"Array"),
"to_ary"))?b:k(l,"Opal")["$coerce_to!"](f,k(l,"Enumerator"),"each")).$to_a());for(h=0;h<e;h++){b=[this[h]];D=0;for(n=c.length;D<n;D++)f=c[D][h],null==f&&(f=r),b[D+1]=f;d[h]=b}if(g!==r){for(h=0;h<e;h++)g(d[h]);return r}return d},Wa.$$arity=-1);c.defs(m,"$inherited",qb=function(a){a.$$proto.$to_a=function(){return this.slice(0,this.length)}},qb.$$arity=1);c.def(m,"$instance_variables",Ta=function(){var b,d=Ta.$$p,g=r,e=r,f=r;d&&(Ta.$$p=null);e=0;f=arguments.length;for(g=Array(f);e<f;e++)g[e]=arguments[e];
return a(a(this,c.find_super_dispatcher(this,"instance_variables",Ta,!1),g,d),"reject",[],(b=function(a){var b;null==a&&(a=r);return v(b=/^@\d+$/.test(a))?b:a["$=="]("@length")},b.$$s=this,b.$$arity=1,b))},Ta.$$arity=0);k(l,"Opal").$pristine(m.$singleton_class(),"allocate");k(l,"Opal").$pristine(m,"copy_instance_variables","initialize_dup");return(c.def(m,"$pack",rb=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},
rb.$$arity=-1),r)&&"pack"}(u[0],Array,u)},Opal.modules["corelib/hash"]=function(c){function z(a,c){return"number"===typeof a&&"number"===typeof c?a>=c:a["$>="](c)}var E=c.top,u=[],r=c.nil,p=c.const_get_relative,k=c.klass,A=c.send,v=c.hash2,x=c.truthy;c.add_stubs("$require $include $coerce_to? $[] $merge! $allocate $raise $coerce_to! $each $fetch $>= $> $== $compare_by_identity $lambda? $abs $arity $enum_for $size $respond_to? $class $dig $new $inspect $map $to_proc $flatten $eql? $default $dup $default_proc $default_proc= $- $default= $proc".split(" "));
E.$require("corelib/enumerable");return function(a,$super,F){function t(){}a=t=k(a,$super,"Hash",t);var B=a.$$proto,y=[a].concat(F),h,b,d,f,m,S,l,e,q,n,u,ka,C,da,L,ta,W,J,I,w,fa,Q,ea,N,O,X,R,P,ja,Z,H,ba,T,ga,ca,aa,E,la,ma,ha,pa,Y,qa,na,ia,xa,ra,wa,ua,va,ya,Aa,Ea,Ba,Ca,Da,Ha,Ia,M,Ka,oa,Fa;a.$include(p(y,"Enumerable"));B.$$is_hash=!0;c.defs(a,"$[]",h=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];var d=b.length,e;if(1===d){c=p(y,"Opal")["$coerce_to?"](b["$[]"](0),
p(y,"Hash"),"to_hash");if(c!==r)return this.$allocate()["$merge!"](c);b=p(y,"Opal")["$coerce_to?"](b["$[]"](0),p(y,"Array"),"to_ary");b===r&&this.$raise(p(y,"ArgumentError"),"odd number of arguments for Hash");d=b.length;c=this.$allocate();for(e=0;e<d;e++)if(b[e].$$is_array)switch(b[e].length){case 1:c.$store(b[e][0],r);break;case 2:c.$store(b[e][0],b[e][1]);break;default:this.$raise(p(y,"ArgumentError"),"invalid number of elements ("+b[e].length+" for 1..2)")}return c}0!==d%2&&this.$raise(p(y,"ArgumentError"),
"odd number of arguments for Hash");c=this.$allocate();for(e=0;e<d;e+=2)c.$store(b[e],b[e+1]);return c},h.$$arity=-1);c.defs(a,"$allocate",b=function(){var a=new this.$$alloc;c.hash_init(a);a.$$none=r;a.$$proc=r;return a},b.$$arity=0);c.defs(a,"$try_convert",d=function(a){return p(y,"Opal")["$coerce_to?"](a,p(y,"Hash"),"to_hash")},d.$$arity=1);c.def(a,"$initialize",f=function(a){var b=f.$$p,c=b||r;b&&(f.$$p=null);void 0!==a&&c!==r&&this.$raise(p(y,"ArgumentError"),"wrong number of arguments (1 for 0)");
this.$$none=void 0===a?r:a;this.$$proc=c;return this},f.$$arity=-1);c.def(a,"$==",m=function(a){if(this===a)return!0;if(!a.$$is_hash||this.$$keys.length!==a.$$keys.length)return!1;for(var b=0,d=this.$$keys,e=d.length,f,h;b<e;b++)if(f=d[b],f.$$is_string?(h=this.$$smap[f],f=a.$$smap[f]):(h=f.value,f=c.hash_get(a,f.key)),void 0===f||!h["$eql?"](f))return!1;return!0},m.$$arity=1);c.def(a,"$>=",S=function(a){var b,c=r;a=p(y,"Opal")["$coerce_to!"](a,p(y,"Hash"),"to_hash");if(this.$$keys.length<a.$$keys.length)return!1;
c=!0;A(a,"each",[],(b=function(a,d){var e=b.$$s||this,f=r;null==a&&(a=r);null==d&&(d=r);f=e.$fetch(a,null);if(null==f||f!==d)c=!1},b.$$s=this,b.$$arity=2,b));return c},S.$$arity=1);c.def(a,"$>",l=function(a){a=p(y,"Opal")["$coerce_to!"](a,p(y,"Hash"),"to_hash");return this.$$keys.length<=a.$$keys.length?!1:z(this,a)},l.$$arity=1);c.def(a,"$<",e=function(a){a=p(y,"Opal")["$coerce_to!"](a,p(y,"Hash"),"to_hash");return"number"===typeof a&&"number"===typeof this?a>this:a["$>"](this)},e.$$arity=1);c.def(a,
"$<=",q=function(a){a=p(y,"Opal")["$coerce_to!"](a,p(y,"Hash"),"to_hash");return z(a,this)},q.$$arity=1);c.def(a,"$[]",n=function(a){var b=c.hash_get(this,a);return void 0!==b?b:this.$default(a)},n.$$arity=1);c.def(a,"$[]=",u=function(a,b){c.hash_put(this,a,b);return b},u.$$arity=2);c.def(a,"$assoc",ka=function(a){for(var b=0,c=this.$$keys,d=c.length,e;b<d;b++)if(e=c[b],e.$$is_string){if(e["$=="](a))return[e,this.$$smap[e]]}else if(e.key["$=="](a))return[e.key,e.value];return r},ka.$$arity=1);c.def(a,
"$clear",C=function(){c.hash_init(this);return this},C.$$arity=0);c.def(a,"$clone",da=function(){var a=new this.$$class.$$alloc;c.hash_init(a);c.hash_clone(this,a);return a},da.$$arity=0);c.def(a,"$compact",L=function(){for(var a=c.hash(),b=0,d=this.$$keys,e=d.length,f,h;b<e;b++)f=d[b],f.$$is_string?h=this.$$smap[f]:(h=f.value,f=f.key),h!==r&&c.hash_put(a,f,h);return a},L.$$arity=0);c.def(a,"$compact!",ta=function(){for(var a=!1,b=0,d=this.$$keys,e=d.length,f,h;b<e;b++)f=d[b],f.$$is_string?h=this.$$smap[f]:
(h=f.value,f=f.key),h===r&&void 0!==c.hash_delete(this,f)&&(a=!0,e--,b--);return a?this:r},ta.$$arity=0);c.def(a,"$compare_by_identity",W=function(){var a,b,d,e=this.$$keys,f;if(this.$$by_identity)return this;if(0===this.$$keys.length)return this.$$by_identity=!0,this;f=v([],{}).$compare_by_identity();a=0;for(b=e.length;a<b;a++)d=e[a],d.$$is_string||(d=d.key),c.hash_put(f,d,c.hash_get(this,d));this.$$by_identity=!0;this.$$map=f.$$map;this.$$smap=f.$$smap;return this},W.$$arity=0);c.def(a,"$compare_by_identity?",
J=function(){return!0===this.$$by_identity},J.$$arity=0);c.def(a,"$default",I=function(a){return void 0!==a&&this.$$proc!==r&&void 0!==this.$$proc?this.$$proc.$call(this,a):void 0===this.$$none?r:this.$$none},I.$$arity=-1);c.def(a,"$default=",w=function(a){this.$$proc=r;return this.$$none=a},w.$$arity=1);c.def(a,"$default_proc",fa=function(){return void 0!==this.$$proc?this.$$proc:r},fa.$$arity=0);c.def(a,"$default_proc=",Q=function(a){var b=a;b!==r&&(b=p(y,"Opal")["$coerce_to!"](b,p(y,"Proc"),"to_proc"),
b["$lambda?"]()&&2!==b.$arity().$abs()&&this.$raise(p(y,"TypeError"),"default_proc takes two arguments"));this.$$none=r;this.$$proc=b;return a},Q.$$arity=1);c.def(a,"$delete",ea=function(a){var b=ea.$$p,d=b||r;b&&(ea.$$p=null);b=c.hash_delete(this,a);return void 0!==b?b:d!==r?c.yield1(d,a):r},ea.$$arity=1);c.def(a,"$delete_if",N=function(){var a,b=N.$$p,d=b||r;b&&(N.$$p=null);if(!x(d))return A(this,"enum_for",["delete_if"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=
0,e=this.$$keys,f=e.length,h,l;b<f;b++)h=e[b],h.$$is_string?l=this.$$smap[h]:(l=h.value,h=h.key),l=d(h,l),!1!==l&&l!==r&&void 0!==c.hash_delete(this,h)&&(f--,b--);return this},N.$$arity=0);c.alias(a,"dup","clone");c.def(a,"$dig",O=function(a,b){var d,e=r,e=arguments.length;d=e-1;0>d&&(d=0);d=Array(d);for(var f=1;f<e;f++)d[f-1]=arguments[f];e=this["$[]"](a);if(e===r||0===d.length)return e;x(e["$respond_to?"]("dig"))||this.$raise(p(y,"TypeError"),""+e.$class()+" does not have #dig method");return A(e,
"dig",c.to_a(d))},O.$$arity=-2);c.def(a,"$each",X=function(){var a,b=X.$$p,d=b||r;b&&(X.$$p=null);if(!x(d))return A(this,"enum_for",["each"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=0,e=this.$$keys,f=e.length,h,l;b<f;b++)h=e[b],h.$$is_string?l=this.$$smap[h]:(l=h.value,h=h.key),c.yield1(d,[h,l]);return this},X.$$arity=0);c.def(a,"$each_key",R=function(){var a,b=R.$$p,c=b||r;b&&(R.$$p=null);if(!x(c))return A(this,"enum_for",["each_key"],(a=function(){return(a.$$s||
this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=0,d=this.$$keys,e=d.length,f;b<e;b++)f=d[b],c(f.$$is_string?f:f.key);return this},R.$$arity=0);c.alias(a,"each_pair","each");c.def(a,"$each_value",P=function(){var a,b=P.$$p,c=b||r;b&&(P.$$p=null);if(!x(c))return A(this,"enum_for",["each_value"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=0,d=this.$$keys,e=d.length,f;b<e;b++)f=d[b],c(f.$$is_string?this.$$smap[f]:f.value);return this},P.$$arity=0);c.def(a,"$empty?",
ja=function(){return 0===this.$$keys.length},ja.$$arity=0);c.alias(a,"eql?","==");c.def(a,"$fetch",Z=function(a,b){var d=Z.$$p,e=d||r;d&&(Z.$$p=null);d=c.hash_get(this,a);return void 0!==d?d:e!==r?e(a):void 0!==b?b:this.$raise(p(y,"KeyError").$new("key not found: "+a.$inspect(),v(["key","receiver"],{key:a,receiver:this})))},Z.$$arity=-2);c.def(a,"$fetch_values",H=function(a){var b,c,d=H.$$p,e=d||r,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var h=0;h<f;h++)c[h-0]=arguments[h];d&&(H.$$p=null);
return A(c,"map",[],(b=function(a){var c=b.$$s||this;null==a&&(a=r);return A(c,"fetch",[a],e.$to_proc())},b.$$s=this,b.$$arity=1,b))},H.$$arity=-1);c.def(a,"$flatten",ba=function(a){null==a&&(a=1);a=p(y,"Opal")["$coerce_to!"](a,p(y,"Integer"),"to_int");for(var b=[],c=0,d=this.$$keys,e=d.length,f,h;c<e;c++)f=d[c],f.$$is_string?h=this.$$smap[f]:(h=f.value,f=f.key),b.push(f),h.$$is_array?1===a?b.push(h):b=b.concat(h.$flatten(a-2)):b.push(h);return b},ba.$$arity=-1);c.def(a,"$has_key?",T=function(a){return void 0!==
c.hash_get(this,a)},T.$$arity=1);c.def(a,"$has_value?",ga=function(a){for(var b=0,c=this.$$keys,d=c.length,e;b<d;b++)if(e=c[b],(e.$$is_string?this.$$smap[e]:e.value)["$=="](a))return!0;return!1},ga.$$arity=1);c.def(a,"$hash",ca=function(){var a=void 0===c.hash_ids,b=this.$object_id(),d=["Hash"],e,f;try{a&&(c.hash_ids=Object.create(null));if(c[b])return"self";for(e in c.hash_ids)if(f=c.hash_ids[e],this["$eql?"](f))return"self";c.hash_ids[b]=this;for(var b=0,h=this.$$keys,l=h.length;b<l;b++)e=h[b],
e.$$is_string?d.push([e,this.$$smap[e].$hash()]):d.push([e.key_hash,e.value.$hash()]);return d.sort().join()}finally{a&&(c.hash_ids=void 0)}},ca.$$arity=0);c.alias(a,"include?","has_key?");c.def(a,"$index",aa=function(a){for(var b=0,c=this.$$keys,d=c.length,e,f;b<d;b++)if(e=c[b],e.$$is_string?f=this.$$smap[e]:(f=e.value,e=e.key),f["$=="](a))return e;return r},aa.$$arity=1);c.def(a,"$indexes",E=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];
for(var d=[],e=0,f=b.length,h;e<f;e++)h=b[e],h=c.hash_get(this,h),void 0===h?d.push(this.$default()):d.push(h);return d},E.$$arity=-1);c.alias(a,"indices","indexes");var Ja;c.def(a,"$inspect",la=function(){var a=void 0===Ja,b=this.$object_id(),c=[];try{a&&(Ja={});if(Ja.hasOwnProperty(b))return"{...}";Ja[b]=!0;for(var b=0,d=this.$$keys,e=d.length,f,h;b<e;b++)f=d[b],f.$$is_string?h=this.$$smap[f]:(h=f.value,f=f.key),c.push(f.$inspect()+"=>"+h.$inspect());return"{"+c.join(", ")+"}"}finally{a&&(Ja=void 0)}},
la.$$arity=0);c.def(a,"$invert",ma=function(){for(var a=c.hash(),b=0,d=this.$$keys,e=d.length,f,h;b<e;b++)f=d[b],f.$$is_string?h=this.$$smap[f]:(h=f.value,f=f.key),c.hash_put(a,h,f);return a},ma.$$arity=0);c.def(a,"$keep_if",ha=function(){var a,b=ha.$$p,d=b||r;b&&(ha.$$p=null);if(!x(d))return A(this,"enum_for",["keep_if"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=0,e=this.$$keys,f=e.length,h,l;b<f;b++)h=e[b],h.$$is_string?l=this.$$smap[h]:(l=h.value,h=h.key),
l=d(h,l),!1!==l&&l!==r||void 0===c.hash_delete(this,h)||(f--,b--);return this},ha.$$arity=0);c.alias(a,"key","index");c.alias(a,"key?","has_key?");c.def(a,"$keys",pa=function(){for(var a=[],b=0,c=this.$$keys,d=c.length,e;b<d;b++)e=c[b],e.$$is_string?a.push(e):a.push(e.key);return a},pa.$$arity=0);c.def(a,"$length",Y=function(){return this.$$keys.length},Y.$$arity=0);c.alias(a,"member?","has_key?");c.def(a,"$merge",qa=function(a){var b=qa.$$p,c=b||r;b&&(qa.$$p=null);return A(this.$dup(),"merge!",[a],
c.$to_proc())},qa.$$arity=1);c.def(a,"$merge!",na=function(a){var b=na.$$p,d=b||r;b&&(na.$$p=null);a.$$is_hash||(a=p(y,"Opal")["$coerce_to!"](a,p(y,"Hash"),"to_hash"));var e=a.$$keys,f=e.length,h,l,n;if(d===r){for(b=0;b<f;b++)h=e[b],h.$$is_string?n=a.$$smap[h]:(n=h.value,h=h.key),c.hash_put(this,h,n);return this}for(b=0;b<f;b++)h=e[b],h.$$is_string?n=a.$$smap[h]:(n=h.value,h=h.key),l=c.hash_get(this,h),void 0===l?c.hash_put(this,h,n):c.hash_put(this,h,d(h,l,n));return this},na.$$arity=1);c.def(a,
"$rassoc",ia=function(a){for(var b=0,c=this.$$keys,d=c.length,e,f;b<d;b++)if(e=c[b],e.$$is_string?f=this.$$smap[e]:(f=e.value,e=e.key),f["$=="](a))return[e,f];return r},ia.$$arity=1);c.def(a,"$rehash",xa=function(){c.hash_rehash(this);return this},xa.$$arity=0);c.def(a,"$reject",ra=function(){var a,b=ra.$$p,d=b||r;b&&(ra.$$p=null);if(!x(d))return A(this,"enum_for",["reject"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=c.hash(),e=0,f=this.$$keys,h=f.length,l,n,m;e<
h;e++)l=f[e],l.$$is_string?n=this.$$smap[l]:(n=l.value,l=l.key),m=d(l,n),!1!==m&&m!==r||c.hash_put(b,l,n);return b},ra.$$arity=0);c.def(a,"$reject!",wa=function(){var a,b=wa.$$p,d=b||r;b&&(wa.$$p=null);if(!x(d))return A(this,"enum_for",["reject!"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=!1,e=0,f=this.$$keys,h=f.length,l,n;e<h;e++)l=f[e],l.$$is_string?n=this.$$smap[l]:(n=l.value,l=l.key),n=d(l,n),!1!==n&&n!==r&&void 0!==c.hash_delete(this,l)&&(b=!0,h--,e--);
return b?this:r},wa.$$arity=0);c.def(a,"$replace",ua=function(a){var b=r;a=p(y,"Opal")["$coerce_to!"](a,p(y,"Hash"),"to_hash");c.hash_init(this);for(var b=0,d=a.$$keys,e=d.length,f,h;b<e;b++)f=d[b],f.$$is_string?h=a.$$smap[f]:(h=f.value,f=f.key),c.hash_put(this,f,h);x(a.$default_proc())?(b=[a.$default_proc()],A(this,"default_proc=",c.to_a(b))):(b=[a.$default()],A(this,"default=",c.to_a(b)));a=b;b=b.length;b="number"===typeof b?b-1:b["$-"](1);a[b];return this},ua.$$arity=1);c.def(a,"$select",va=function(){var a,
b=va.$$p,d=b||r;b&&(va.$$p=null);if(!x(d))return A(this,"enum_for",["select"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=c.hash(),e=0,f=this.$$keys,h=f.length,l,n,m;e<h;e++)l=f[e],l.$$is_string?n=this.$$smap[l]:(n=l.value,l=l.key),m=d(l,n),!1!==m&&m!==r&&c.hash_put(b,l,n);return b},va.$$arity=0);c.def(a,"$select!",ya=function(){var a,b=ya.$$p,d=b||r;b&&(ya.$$p=null);if(!x(d))return A(this,"enum_for",["select!"],(a=function(){return(a.$$s||this).$size()},a.$$s=
this,a.$$arity=0,a));for(var b=r,e=0,f=this.$$keys,h=f.length,l,n;e<h;e++)if(l=f[e],l.$$is_string?n=this.$$smap[l]:(n=l.value,l=l.key),n=d(l,n),!1===n||n===r)void 0!==c.hash_delete(this,l)&&(h--,e--),b=this;return b},ya.$$arity=0);c.def(a,"$shift",Aa=function(){var a=this.$$keys;return 0<a.length?(a=a[0],a=a.$$is_string?a:a.key,[a,c.hash_delete(this,a)]):this.$default(r)},Aa.$$arity=0);c.alias(a,"size","length");c.def(a,"$slice",Ea=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);
for(var e=0;e<d;e++)b[e-0]=arguments[e];for(var d=c.hash(),e=0,f=b.length;e<f;e++){var h=b[e],l=c.hash_get(this,h);void 0!==l&&c.hash_put(d,h,l)}return d},Ea.$$arity=-1);c.alias(a,"store","[]=");c.def(a,"$to_a",Ba=function(){for(var a=[],b=0,c=this.$$keys,d=c.length,e,f;b<d;b++)e=c[b],e.$$is_string?f=this.$$smap[e]:(f=e.value,e=e.key),a.push([e,f]);return a},Ba.$$arity=0);c.def(a,"$to_h",Ca=function(){if(this.$$class===c.Hash)return this;var a=new c.Hash.$$alloc;c.hash_init(a);c.hash_clone(this,a);
return a},Ca.$$arity=0);c.def(a,"$to_hash",Da=function(){return this},Da.$$arity=0);c.def(a,"$to_proc",Ha=function(){var a;return A(this,"proc",[],(a=function(b){var c=a.$$s||this;null==b&&c.$raise(p(y,"ArgumentError"),"no key given");return c["$[]"](b)},a.$$s=this,a.$$arity=-1,a))},Ha.$$arity=0);c.alias(a,"to_s","inspect");c.def(a,"$transform_keys",Ia=function(){var a,b=Ia.$$p,d=b||r;b&&(Ia.$$p=null);if(!x(d))return A(this,"enum_for",["transform_keys"],(a=function(){return(a.$$s||this).$size()},
a.$$s=this,a.$$arity=0,a));for(var b=c.hash(),e=0,f=this.$$keys,h=f.length,l,n;e<h;e++)l=f[e],l.$$is_string?n=this.$$smap[l]:(n=l.value,l=l.key),l=c.yield1(d,l),c.hash_put(b,l,n);return b},Ia.$$arity=0);c.def(a,"$transform_keys!",M=function(){var a,b=M.$$p,d=b||r;b&&(M.$$p=null);if(!x(d))return A(this,"enum_for",["transform_keys!"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));var b=c.slice.call(this.$$keys),e,f=b.length,h,l,n;for(e=0;e<f;e++)h=b[e],h.$$is_string?l=this.$$smap[h]:
(l=h.value,h=h.key),n=c.yield1(d,h),c.hash_delete(this,h),c.hash_put(this,n,l);return this},M.$$arity=0);c.def(a,"$transform_values",Ka=function(){var a,b=Ka.$$p,d=b||r;b&&(Ka.$$p=null);if(!x(d))return A(this,"enum_for",["transform_values"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=c.hash(),e=0,f=this.$$keys,h=f.length,l,n;e<h;e++)l=f[e],l.$$is_string?n=this.$$smap[l]:(n=l.value,l=l.key),n=c.yield1(d,n),c.hash_put(b,l,n);return b},Ka.$$arity=0);c.def(a,"$transform_values!",
oa=function(){var a,b=oa.$$p,d=b||r;b&&(oa.$$p=null);if(!x(d))return A(this,"enum_for",["transform_values!"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=0,e=this.$$keys,f=e.length,h,l;b<f;b++)h=e[b],h.$$is_string?l=this.$$smap[h]:(l=h.value,h=h.key),l=c.yield1(d,l),c.hash_put(this,h,l);return this},oa.$$arity=0);c.alias(a,"update","merge!");c.alias(a,"value?","has_value?");c.alias(a,"values_at","indexes");return(c.def(a,"$values",Fa=function(){for(var a=[],b=0,
c=this.$$keys,d=c.length,e;b<d;b++)e=c[b],e.$$is_string?a.push(this.$$smap[e]):a.push(e.value);return a},Fa.$$arity=0),r)&&"values"}(u[0],null,u)},Opal.modules["corelib/number"]=function(c){function z(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function E(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function u(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}
function p(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var A=c.top,v=[],x=c.nil,a=c.const_get_qualified,g=c.const_get_relative,F=c.klass,t=c.truthy,B=c.send,y=c.hash2;c.add_stubs("$require $bridge $raise $name $class $Float $respond_to? $coerce_to! $__coerced__ $=== $! $> $** $new $< $to_f $== $nan? $infinite? $enum_for $+ $- $gcd $lcm $% $/ $frexp $to_i $ldexp $rationalize $* $<< $to_r $truncate $-@ $size $<= $>= $<=> $compare $any?".split(" "));
A.$require("corelib/numeric");(function(h,$super,d){function f(){}h=f=F(h,$super,"Number",f);var m=[h].concat(d),S,l,e,q,n,v,ka,C,da,L,A,W,J,I,w,fa,Q,ea,N,O,X,R,P,ja,Z,H,ba,T,ga,ca,aa,sa,la,ma,ha,pa,Y,qa,na,ia,xa,ra,wa,ua,va,ya,Aa,Ea,Ba,Ca,Da,Ha,Ia,M,Ka,oa,Fa,Ja,Ga,D,V,za,U,La,K,Pa,Na,Oa,Qa,G,Ra,Sa;g(m,"Opal").$bridge(h,Number);Number.prototype.$$is_number=!0;h.$$is_number_class=!0;(function(a,d){var e=[a].concat(d),f;c.def(a,"$allocate",f=function(){return this.$raise(g(e,"TypeError"),"allocator undefined for "+
this.$name())},f.$$arity=0);c.udef(a,"$new");return x})(c.get_singleton_class(h),m);c.def(h,"$coerce",S=function(a){if(a!==x){if(a.$$is_string)return[this.$Float(a),this];if(a["$respond_to?"]("to_f"))return[g(m,"Opal")["$coerce_to!"](a,g(m,"Float"),"to_f"),this];if(a.$$is_number)return[a,this]}this.$raise(g(m,"TypeError"),"can't convert "+a.$class()+" into Float")},S.$$arity=1);c.def(h,"$__id__",l=function(){return 2*this+1},l.$$arity=0);c.alias(h,"object_id","__id__");c.def(h,"$+",e=function(a){return a.$$is_number?
this+a:this.$__coerced__("+",a)},e.$$arity=1);c.def(h,"$-",q=function(a){return a.$$is_number?this-a:this.$__coerced__("-",a)},q.$$arity=1);c.def(h,"$*",n=function(a){return a.$$is_number?this*a:this.$__coerced__("*",a)},n.$$arity=1);c.def(h,"$/",v=function(a){return a.$$is_number?this/a:this.$__coerced__("/",a)},v.$$arity=1);c.alias(h,"fdiv","/");c.def(h,"$%",ka=function(a){if(a.$$is_number){if(-Infinity==a)return a;if(0==a)this.$raise(g(m,"ZeroDivisionError"),"divided by 0");else return 0>a||0>
this?(this%a+a)%a:this%a}else return this.$__coerced__("%",a)},ka.$$arity=1);c.def(h,"$&",C=function(a){return a.$$is_number?this&a:this.$__coerced__("&",a)},C.$$arity=1);c.def(h,"$|",da=function(a){return a.$$is_number?this|a:this.$__coerced__("|",a)},da.$$arity=1);c.def(h,"$^",L=function(a){return a.$$is_number?this^a:this.$__coerced__("^",a)},L.$$arity=1);c.def(h,"$<",A=function(a){return a.$$is_number?this<a:this.$__coerced__("<",a)},A.$$arity=1);c.def(h,"$<=",W=function(a){return a.$$is_number?
this<=a:this.$__coerced__("<=",a)},W.$$arity=1);c.def(h,"$>",J=function(a){return a.$$is_number?this>a:this.$__coerced__(">",a)},J.$$arity=1);c.def(h,"$>=",I=function(a){return a.$$is_number?this>=a:this.$__coerced__(">=",a)},I.$$arity=1);c.def(h,"$<=>",w=function(a){try{return a.$$is_number?isNaN(this)||isNaN(a)?x:this>a?1:this<a?-1:0:this.$__coerced__("<=>",a)}catch(d){if(c.rescue(d,[g(m,"ArgumentError")]))try{return x}finally{c.pop_exception()}else throw d;}},w.$$arity=1);c.def(h,"$<<",fa=function(a){a=
g(m,"Opal")["$coerce_to!"](a,g(m,"Integer"),"to_int");return 0<a?this<<a:this>>-a},fa.$$arity=1);c.def(h,"$>>",Q=function(a){a=g(m,"Opal")["$coerce_to!"](a,g(m,"Integer"),"to_int");return 0<a?this>>a:this<<-a},Q.$$arity=1);c.def(h,"$[]",ea=function(a){a=g(m,"Opal")["$coerce_to!"](a,g(m,"Integer"),"to_int");return 0>a?0:32<=a?0>this?1:0:this>>a&1},ea.$$arity=1);c.def(h,"$+@",N=function(){return+this},N.$$arity=0);c.def(h,"$-@",O=function(){return-this},O.$$arity=0);c.def(h,"$~",X=function(){return~this},
X.$$arity=0);c.def(h,"$**",R=function(a){var c,d;return t(g(m,"Integer")["$==="](a))?t(t(c=g(m,"Integer")["$==="](this)["$!"]())?c:z(a,0))?Math.pow(this,a):g(m,"Rational").$new(this,1)["$**"](a):t(E(this,0)?t(d=g(m,"Float")["$==="](a))?d:g(m,"Rational")["$==="](a):E(this,0))?g(m,"Complex").$new(this,0)["$**"](a.$to_f()):t(null!=a.$$is_number)?Math.pow(this,a):this.$__coerced__("**",a)},R.$$arity=1);c.def(h,"$===",P=function(a){return a.$$is_number?this.valueOf()===a.valueOf():a["$respond_to?"]("==")?
a["$=="](this):!1},P.$$arity=1);c.def(h,"$==",ja=function(a){return a.$$is_number?this.valueOf()===a.valueOf():a["$respond_to?"]("==")?a["$=="](this):!1},ja.$$arity=1);c.def(h,"$abs",Z=function(){return Math.abs(this)},Z.$$arity=0);c.def(h,"$abs2",H=function(){return Math.abs(this*this)},H.$$arity=0);c.def(h,"$allbits?",ba=function(a){a=g(m,"Opal")["$coerce_to!"](a,g(m,"Integer"),"to_int");return(this&a)==a},ba.$$arity=1);c.def(h,"$anybits?",T=function(a){a=g(m,"Opal")["$coerce_to!"](a,g(m,"Integer"),
"to_int");return 0!==(this&a)},T.$$arity=1);c.def(h,"$angle",ga=function(){return t(this["$nan?"]())?this:0==this?0<1/this?0:Math.PI:0>this?Math.PI:0},ga.$$arity=0);c.alias(h,"arg","angle");c.alias(h,"phase","angle");c.def(h,"$bit_length",ca=function(){t(g(m,"Integer")["$==="](this))||this.$raise(g(m,"NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length"));if(0===this||-1===this)return 0;for(var a=0,c=0>this?~this:this;0!=c;)a+=1,c>>>=1;return a},ca.$$arity=0);c.def(h,
"$ceil",aa=function(a){null==a&&(a=0);var c=this.$to_f();if(0===c%1&&0<=a)return c;a=Math.pow(10,a);a=Math.ceil(c*a)/a;0===c%1&&(a=Math.round(a));return a},aa.$$arity=-1);c.def(h,"$chr",sa=function(a){return String.fromCharCode(this)},sa.$$arity=-1);c.def(h,"$denominator",la=function(){var a,d=la.$$p,e=x,g=x,f=x;d&&(la.$$p=null);g=0;f=arguments.length;for(e=Array(f);g<f;g++)e[g]=arguments[g];return t(t(a=this["$nan?"]())?a:this["$infinite?"]())?1:B(this,c.find_super_dispatcher(this,"denominator",
la,!1),e,d)},la.$$arity=0);c.def(h,"$downto",ma=function(a){var c,d=ma.$$p,e=d||x;d&&(ma.$$p=null);if(e===x)return B(this,"enum_for",["downto",a],(c=function(){var d=c.$$s||this;t(g(m,"Numeric")["$==="](a))||d.$raise(g(m,"ArgumentError"),"comparison of "+d.$class()+" with "+a.$class()+" failed");return t(z(a,d))?0:u(r(d,a),1)},c.$$s=this,c.$$arity=0,c));a.$$is_number||this.$raise(g(m,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(d=this;d>=a;d--)e(d);return this},
ma.$$arity=1);c.alias(h,"eql?","==");c.def(h,"$equal?",ha=function(a){var c;return t(c=this["$=="](a))?c:isNaN(this)&&isNaN(a)},ha.$$arity=1);c.def(h,"$even?",pa=function(){return 0===this%2},pa.$$arity=0);c.def(h,"$floor",Y=function(a){null==a&&(a=0);var c=this.$to_f();if(0===c%1&&0<=a)return c;a=Math.pow(10,a);a=Math.floor(c*a)/a;0===c%1&&(a=Math.round(a));return a},Y.$$arity=-1);c.def(h,"$gcd",qa=function(a){t(g(m,"Integer")["$==="](a))||this.$raise(g(m,"TypeError"),"not an integer");var c=Math.abs(this);
for(a=Math.abs(a);0<c;){var d=c,c=a%c;a=d}return a},qa.$$arity=1);c.def(h,"$gcdlcm",na=function(a){return[this.$gcd(),this.$lcm()]},na.$$arity=1);c.def(h,"$integer?",ia=function(){return 0===this%1},ia.$$arity=0);c.def(h,"$is_a?",xa=function(a){var d=xa.$$p,e=x,f=x,h=x;d&&(xa.$$p=null);f=0;h=arguments.length;for(e=Array(h);f<h;f++)e[f]=arguments[f];return t(a["$=="](g(m,"Integer"))?g(m,"Integer")["$==="](this):a["$=="](g(m,"Integer")))||t(a["$=="](g(m,"Integer"))?g(m,"Integer")["$==="](this):a["$=="](g(m,
"Integer")))||t(a["$=="](g(m,"Float"))?g(m,"Float")["$==="](this):a["$=="](g(m,"Float")))?!0:B(this,c.find_super_dispatcher(this,"is_a?",xa,!1),e,d)},xa.$$arity=1);c.alias(h,"kind_of?","is_a?");c.def(h,"$instance_of?",ra=function(a){var d=ra.$$p,e=x,f=x,h=x;d&&(ra.$$p=null);f=0;h=arguments.length;for(e=Array(h);f<h;f++)e[f]=arguments[f];return t(a["$=="](g(m,"Integer"))?g(m,"Integer")["$==="](this):a["$=="](g(m,"Integer")))||t(a["$=="](g(m,"Integer"))?g(m,"Integer")["$==="](this):a["$=="](g(m,"Integer")))||
t(a["$=="](g(m,"Float"))?g(m,"Float")["$==="](this):a["$=="](g(m,"Float")))?!0:B(this,c.find_super_dispatcher(this,"instance_of?",ra,!1),e,d)},ra.$$arity=1);c.def(h,"$lcm",wa=function(a){t(g(m,"Integer")["$==="](a))||this.$raise(g(m,"TypeError"),"not an integer");return 0==this||0==a?0:Math.abs(this*a/this.$gcd(a))},wa.$$arity=1);c.alias(h,"magnitude","abs");c.alias(h,"modulo","%");c.def(h,"$next",ua=function(){return this+1},ua.$$arity=0);c.def(h,"$nobits?",va=function(a){a=g(m,"Opal")["$coerce_to!"](a,
g(m,"Integer"),"to_int");return 0==(this&a)},va.$$arity=1);c.def(h,"$nonzero?",ya=function(){return 0==this?x:this},ya.$$arity=0);c.def(h,"$numerator",Aa=function(){var a,d=Aa.$$p,e=x,g=x,f=x;d&&(Aa.$$p=null);g=0;f=arguments.length;for(e=Array(f);g<f;g++)e[g]=arguments[g];return t(t(a=this["$nan?"]())?a:this["$infinite?"]())?this:B(this,c.find_super_dispatcher(this,"numerator",Aa,!1),e,d)},Aa.$$arity=0);c.def(h,"$odd?",Ea=function(){return 0!==this%2},Ea.$$arity=0);c.def(h,"$ord",Ba=function(){return this},
Ba.$$arity=0);c.def(h,"$pow",Ca=function(a,c){0==this&&this.$raise(g(m,"ZeroDivisionError"),"divided by 0");if(void 0===c)return this["$**"](a);g(m,"Integer")["$==="](a)||this.$raise(g(m,"TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer");0>a&&this.$raise(g(m,"TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified");g(m,"Integer")["$==="](c)||this.$raise(g(m,"TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers");
0===c&&this.$raise(g(m,"ZeroDivisionError"),"divided by 0");return this["$**"](a)["$%"](c)},Ca.$$arity=-2);c.def(h,"$pred",Da=function(){return this-1},Da.$$arity=0);c.def(h,"$quo",Ha=function(a){var d=Ha.$$p,e=x,f=x,h=x;d&&(Ha.$$p=null);f=0;h=arguments.length;for(e=Array(h);f<h;f++)e[f]=arguments[f];return t(g(m,"Integer")["$==="](this))?B(this,c.find_super_dispatcher(this,"quo",Ha,!1),e,d):p(this,a)},Ha.$$arity=1);c.def(h,"$rationalize",Ia=function(d){var e,f,h=x;e=x;1<arguments.length&&this.$raise(g(m,
"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");return t(g(m,"Integer")["$==="](this))?g(m,"Rational").$new(this,1):t(this["$infinite?"]())?this.$raise(g(m,"FloatDomainError"),"Infinity"):t(this["$nan?"]())?this.$raise(g(m,"FloatDomainError"),"NaN"):t(null==d)?(f=g(m,"Math").$frexp(this),e=c.to_ary(f),h=null==e[0]?x:e[0],e=null==e[1]?x:e[1],f,h=g(m,"Math").$ldexp(h,a(g(m,"Float"),"MANT_DIG")).$to_i(),e=r(e,a(g(m,"Float"),"MANT_DIG")),g(m,"Rational").$new(k(2,h),1["$<<"](r(1,
e))).$rationalize(g(m,"Rational").$new(1,1["$<<"](r(1,e))))):this.$to_r().$rationalize(d)},Ia.$$arity=-1);c.def(h,"$remainder",M=function(a){return r(this,k(a,p(this,a).$truncate()))},M.$$arity=1);c.def(h,"$round",Ka=function(d){var e,f,h=x;if(t(g(m,"Integer")["$==="](this))){if(t(null==d))return this;t(t(e=g(m,"Float")["$==="](d))?d["$infinite?"]():e)&&this.$raise(g(m,"RangeError"),"Infinity");d=g(m,"Opal")["$coerce_to!"](d,g(m,"Integer"),"to_int");t(E(d,a(g(m,"Integer"),"MIN")))&&this.$raise(g(m,
"RangeError"),"out of bounds");if(t(0<=d))return this;d=d["$-@"]();if(.415241*d-.125>this.$size())return 0;d=Math.pow(10,d);f=Math.floor((Math.abs(f)+d/2)/d)*d;return 0>this?-f:f}t(t(e=this["$nan?"]())?null==d:e)&&this.$raise(g(m,"FloatDomainError"),"NaN");d=g(m,"Opal")["$coerce_to!"](d||0,g(m,"Integer"),"to_int");if(t("number"===typeof d?0>=d:d["$<="](0)))t(this["$nan?"]())?this.$raise(g(m,"RangeError"),"NaN"):t(this["$infinite?"]())&&this.$raise(g(m,"FloatDomainError"),"Infinity");else{if(d["$=="](0))return Math.round(this);
if(t(t(e=this["$nan?"]())?e:this["$infinite?"]()))return this}f=g(m,"Math").$frexp(this);e=c.to_ary(f);h=null==e[1]?x:e[1];f;e=r(u(a(g(m,"Float"),"DIG"),2),t(z(h,0))?p(h,4):r(p(h,3),1));e="number"===typeof d&&"number"===typeof e?d>=e:d["$>="](e);return t(e)?this:t(E(d,(t(z(h,0))?u(p(h,3),1):p(h,4))["$-@"]()))?0:Math.round(this*Math.pow(10,d))/Math.pow(10,d)},Ka.$$arity=-1);c.def(h,"$step",oa=function(d,e,f){function h(){void 0!==w&&(K=w);void 0===K&&(K=x);U===x&&q.$raise(g(m,"TypeError"),"step must be numeric");
0===U&&q.$raise(g(m,"ArgumentError"),"step can't be 0");void 0!==k&&(U=k);if(U===x||null==U)U=1;var d=U["$<=>"](0);d===x&&q.$raise(g(m,"ArgumentError"),"0 can't be coerced into "+U.$class());if(K===x||null==K)K=0<d?a(g(m,"Float"),"INFINITY"):a(g(m,"Float"),"INFINITY")["$-@"]();g(m,"Opal").$compare(q,K)}function l(){if(0<U&&q>K||0>U&&q<K)return 0;if(Infinity===U||-Infinity===U)return 1;var d=Math.abs,c=Math.floor,d=(d(q)+d(K)+d(K-q))/d(U)*a(g(m,"Float"),"EPSILON");if(Infinity===d||-Infinity===d)return 0;
.5<d&&(d=.5);return c((K-q)/U+d)+1}function n(){h();if(0===U)return Infinity;if(0!==U%1)return l();if(0<U&&q>K||0>U&&q<K)return 0;var a=Math.ceil,d=Math.abs,c=d(q-K)+1,d=d(U);return a(c/d)}var D,q=this,t,w,k,K,U,V=oa.$$p,C=V||x,za=t=x;t=c.slice.call(arguments,0,arguments.length);f=c.extract_kwargs(t);if(null==f||!f.$$is_hash)if(null==f)f=y([],{});else throw c.ArgumentError.$new("expected kwargs");w=f.$$smap.to;k=f.$$smap.by;0<t.length&&(K=t.splice(0,1)[0]);0<t.length&&(U=t.splice(0,1)[0]);V&&(oa.$$p=
null);void 0!==K&&void 0!==w&&q.$raise(g(m,"ArgumentError"),"to is given twice");void 0!==U&&void 0!==k&&q.$raise(g(m,"ArgumentError"),"step is given twice");if(C===x)return t=[],za=y([],{}),void 0!==K&&t.push(K),void 0!==U&&t.push(U),void 0!==w&&c.hash_put(za,"to",w),void 0!==k&&c.hash_put(za,"by",k),za["$any?"]()&&t.push(za),B(q,"enum_for",["step"].concat(c.to_a(t)),(D=function(){return n()},D.$$s=q,D.$$arity=0,D));h();if(0===U)for(;;)C(q);if(0!==q%1||0!==K%1||0!==U%1){if(D=l(),0<D)if(Infinity===
U||-Infinity===U)C(q);else if(V=0,0<U)for(;V<D;)t=V*U+q,K<t&&(t=K),C(t),V+=1;else for(;V<D;)t=V*U+q,K>t&&(t=K),C(t),V+=1}else if(D=q,0<U)for(;D<=K;)C(D),D+=U;else for(;D>=K;)C(D),D+=U;return q},oa.$$arity=-1);c.alias(h,"succ","next");c.def(h,"$times",Fa=function(){var a,d=Fa.$$p,c=d||x;d&&(Fa.$$p=null);if(!t(c))return B(this,"enum_for",["times"],(a=function(){return a.$$s||this},a.$$s=this,a.$$arity=0,a));for(d=0;d<this;d++)c(d);return this},Fa.$$arity=0);c.def(h,"$to_f",Ja=function(){return this},
Ja.$$arity=0);c.def(h,"$to_i",Ga=function(){return parseInt(this,10)},Ga.$$arity=0);c.alias(h,"to_int","to_i");c.def(h,"$to_r",D=function(){var d,e,f=x;d=x;if(t(g(m,"Integer")["$==="](this)))return g(m,"Rational").$new(this,1);e=g(m,"Math").$frexp(this);d=c.to_ary(e);f=null==d[0]?x:d[0];d=null==d[1]?x:d[1];e;f=g(m,"Math").$ldexp(f,a(g(m,"Float"),"MANT_DIG")).$to_i();d=r(d,a(g(m,"Float"),"MANT_DIG"));return k(f,a(g(m,"Float"),"RADIX")["$**"](d)).$to_r()},D.$$arity=0);c.def(h,"$to_s",V=function(a){var d;
null==a&&(a=10);a=g(m,"Opal")["$coerce_to!"](a,g(m,"Integer"),"to_int");t(t(d=E(a,2))?d:z(a,36))&&this.$raise(g(m,"ArgumentError"),"invalid radix "+a);return this.toString(a)},V.$$arity=-1);c.def(h,"$truncate",za=function(a){null==a&&(a=0);var d=this.$to_f();if(0===d%1&&0<=a)return d;a=Math.pow(10,a);a=parseInt(d*a,10)/a;0===d%1&&(a=Math.round(a));return a},za.$$arity=-1);c.alias(h,"inspect","to_s");c.def(h,"$digits",U=function(d){null==d&&(d=10);E(this,0)&&this.$raise(a(g(m,"Math"),"DomainError"),
"out of domain");d=g(m,"Opal")["$coerce_to!"](d,g(m,"Integer"),"to_int");t(E(d,2))&&this.$raise(g(m,"ArgumentError"),"invalid radix "+d);for(var c=this,e=[];0!==c;)e.push(c%d),c=parseInt(c/d,10);return e},U.$$arity=-1);c.def(h,"$divmod",La=function(a){var d,e=La.$$p,f=x,h=x,l=x;e&&(La.$$p=null);h=0;l=arguments.length;for(f=Array(l);h<l;h++)f[h]=arguments[h];return t(t(d=this["$nan?"]())?d:a["$nan?"]())?this.$raise(g(m,"FloatDomainError"),"NaN"):t(this["$infinite?"]())?this.$raise(g(m,"FloatDomainError"),
"Infinity"):B(this,c.find_super_dispatcher(this,"divmod",La,!1),f,e)},La.$$arity=1);c.def(h,"$upto",K=function(a){var d,c=K.$$p,e=c||x;c&&(K.$$p=null);if(e===x)return B(this,"enum_for",["upto",a],(d=function(){var c=d.$$s||this;t(g(m,"Numeric")["$==="](a))||c.$raise(g(m,"ArgumentError"),"comparison of "+c.$class()+" with "+a.$class()+" failed");return t(E(a,c))?0:u(r(a,c),1)},d.$$s=this,d.$$arity=0,d));a.$$is_number||this.$raise(g(m,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+
" failed");for(c=this;c<=a;c++)e(c);return this},K.$$arity=1);c.def(h,"$zero?",Pa=function(){return 0==this},Pa.$$arity=0);c.def(h,"$size",Na=function(){return 4},Na.$$arity=0);c.def(h,"$nan?",Oa=function(){return isNaN(this)},Oa.$$arity=0);c.def(h,"$finite?",Qa=function(){return Infinity!=this&&-Infinity!=this&&!isNaN(this)},Qa.$$arity=0);c.def(h,"$infinite?",G=function(){return Infinity==this?1:-Infinity==this?-1:x},G.$$arity=0);c.def(h,"$positive?",Ra=function(){return 0!=this&&(Infinity==this||
0<1/this)},Ra.$$arity=0);return(c.def(h,"$negative?",Sa=function(){return-Infinity==this||0>1/this},Sa.$$arity=0),x)&&"negative?"})(v[0],g(v,"Numeric"),v);c.const_set(v[0],"Fixnum",g(v,"Number"));(function(h,$super,d){function f(){}h=f=F(h,$super,"Integer",f);d=[h].concat(d);h.$$is_number_class=!0;(function(d,f){var h=[d].concat(f),e,q,n;c.def(d,"$allocate",e=function(){return this.$raise(g(h,"TypeError"),"allocator undefined for "+this.$name())},e.$$arity=0);c.udef(d,"$new");c.def(d,"$===",q=function(a){return a.$$is_number?
0===a%1:!1},q.$$arity=1);return(c.def(d,"$sqrt",n=function(d){d=g(h,"Opal")["$coerce_to!"](d,g(h,"Integer"),"to_int");0>d&&this.$raise(a(g(h,"Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"');return parseInt(Math.sqrt(d),10)},n.$$arity=1),x)&&"sqrt"})(c.get_singleton_class(h),d);c.const_set(d[0],"MAX",Math.pow(2,30)-1);return c.const_set(d[0],"MIN",-Math.pow(2,30))})(v[0],g(v,"Numeric"),v);return function(a,$super,d){function f(){}a=f=F(a,$super,"Float",f);d=[a].concat(d);a.$$is_number_class=
!0;(function(a,d){var f=[a].concat(d),e,h;c.def(a,"$allocate",e=function(){return this.$raise(g(f,"TypeError"),"allocator undefined for "+this.$name())},e.$$arity=0);c.udef(a,"$new");return(c.def(a,"$===",h=function(a){return!!a.$$is_number},h.$$arity=1),x)&&"==="})(c.get_singleton_class(a),d);c.const_set(d[0],"INFINITY",Infinity);c.const_set(d[0],"MAX",Number.MAX_VALUE);c.const_set(d[0],"MIN",Number.MIN_VALUE);c.const_set(d[0],"NAN",NaN);c.const_set(d[0],"DIG",15);c.const_set(d[0],"MANT_DIG",53);
c.const_set(d[0],"RADIX",2);return c.const_set(d[0],"EPSILON",Number.EPSILON||2.220446049250313E-16)}(v[0],g(v,"Numeric"),v)},Opal.modules["corelib/range"]=function(c){function z(a,c){return"number"===typeof a&&"number"===typeof c?a<=c:a["$<="](c)}function E(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function u(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function r(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var p=c.top,k=[],A=
c.nil,v=c.const_get_qualified,x=c.const_get_relative,a=c.klass,g=c.truthy,F=c.send;c.add_stubs("$require $include $attr_reader $raise $<=> $include? $<= $< $enum_for $upto $to_proc $respond_to? $class $succ $! $== $=== $exclude_end? $eql? $begin $end $last $to_a $> $- $abs $to_i $coerce_to! $ceil $/ $size $loop $+ $* $>= $each_with_index $% $bsearch $inspect $[] $hash".split(" "));p.$require("corelib/enumerable");return function(t,$super,k){function h(){}t=h=a(t,$super,"Range",h);var b=t.$$proto,
d=[t].concat(k),f,m,p,l,e,q,n,Ma,ka,C,da,L,ta,W,J,I,w,fa;b.begin=b.end=b.excl=A;t.$include(x(d,"Enumerable"));b.$$is_range=!0;t.$attr_reader("begin","end");c.def(t,"$initialize",f=function(a,b,c){null==c&&(c=!1);g(this.begin)&&this.$raise(x(d,"NameError"),"'initialize' called twice");g(a["$<=>"](b))||this.$raise(x(d,"ArgumentError"),"bad value for range");this.begin=a;this.end=b;return this.excl=c},f.$$arity=-3);c.def(t,"$==",m=function(a){return a.$$is_range?this.excl===a.excl&&this.begin==a.begin&&
this.end==a.end:!1},m.$$arity=1);c.def(t,"$===",p=function(a){return this["$include?"](a)},p.$$arity=1);c.def(t,"$cover?",l=function(a){var b,d=A,d=A,d=this.begin["$<=>"](a);if(!g(g(b=d)?z(d,0):b))return!1;d=a["$<=>"](this.end);return g(this.excl)?g(b=d)?E(d,0):b:g(b=d)?z(d,0):b},l.$$arity=1);c.def(t,"$each",e=function(){var a,b=e.$$p,f=b||A,h=A,l=A;b&&(e.$$p=null);if(f===A)return this.$enum_for("each");if(this.begin.$$is_number&&this.end.$$is_number){0===this.begin%1&&0===this.end%1||this.$raise(x(d,
"TypeError"),"can't iterate from Float");a=this.begin;for(b=this.end+(g(this.excl)?0:1);a<b;a++)f(a);return this}if(this.begin.$$is_string&&this.end.$$is_string)return F(this.begin,"upto",[this.end,this.excl],f.$to_proc()),this;h=this.begin;l=this.end;for(g(h["$respond_to?"]("succ"))||this.$raise(x(d,"TypeError"),"can't iterate from "+h.$class());g(E(h["$<=>"](l),0));)c.yield1(f,h),h=h.$succ();g(g(a=this.excl["$!"]())?h["$=="](l):a)&&c.yield1(f,h);return this},e.$$arity=0);c.def(t,"$eql?",q=function(a){var b,
c;return g(x(d,"Range")["$==="](a))?g(b=g(c=this.excl["$==="](a["$exclude_end?"]()))?this.begin["$eql?"](a.$begin()):c)?this.end["$eql?"](a.$end()):b:!1},q.$$arity=1);c.def(t,"$exclude_end?",n=function(){return this.excl},n.$$arity=0);c.def(t,"$first",Ma=function(a){var b=Ma.$$p,d=A,e=A,f=A;b&&(Ma.$$p=null);e=0;f=arguments.length;for(d=Array(f);e<f;e++)d[e]=arguments[e];return g(null==a)?this.begin:F(this,c.find_super_dispatcher(this,"first",Ma,!1),d,b)},Ma.$$arity=-1);c.alias(t,"include?","cover?");
c.def(t,"$last",ka=function(a){return g(null==a)?this.end:this.$to_a().$last(a)},ka.$$arity=-1);c.def(t,"$max",C=function(){var a,b=C.$$p,d=b||A,e=A,f=A,h=A;b&&(C.$$p=null);f=0;h=arguments.length;for(e=Array(h);f<h;f++)e[f]=arguments[f];return d!==A?F(this,c.find_super_dispatcher(this,"max",C,!1),e,b):g(u(this.begin,this.end))?A:g(g(a=this.excl)?this.begin["$=="](this.end):a)?A:this.excl?this.end-1:this.end},C.$$arity=0);c.alias(t,"member?","cover?");c.def(t,"$min",da=function(){var a,b=da.$$p,d=
b||A,e=A,f=A,h=A;b&&(da.$$p=null);f=0;h=arguments.length;for(e=Array(h);f<h;f++)e[f]=arguments[f];return d!==A?F(this,c.find_super_dispatcher(this,"min",da,!1),e,b):g(u(this.begin,this.end))?A:g(g(a=this.excl)?this.begin["$=="](this.end):a)?A:this.begin},da.$$arity=0);c.def(t,"$size",L=function(){var a,b=A,c=A,e=A,b=this.begin,c=this.end;g(this.excl)&&(c="number"===typeof c?c-1:c["$-"](1));if(!g(g(a=x(d,"Numeric")["$==="](b))?x(d,"Numeric")["$==="](c):a))return A;if(g(E(c,b)))return 0;e=v(x(d,"Float"),
"INFINITY");return g([b.$abs(),c.$abs()]["$include?"](e))?e:(Math.abs(c-b)+1).$to_i()},L.$$arity=0);c.def(t,"$step",ta=function(a){function b(){a.$$is_number||(a=x(d,"Opal")["$coerce_to!"](a,x(d,"Integer"),"to_int"));0>a?n.$raise(x(d,"ArgumentError"),"step can't be negative"):0===a&&n.$raise(x(d,"ArgumentError"),"step can't be 0")}function e(){if(!n.begin["$respond_to?"]("succ")||n.begin.$$is_string&&n.end.$$is_string)return A;if(0===a%1){var b=n.$size();return("number"===typeof b&&"number"===typeof a?
b/a:b["$/"](a)).$ceil()}var b=n.begin,c=n.end,g=Math.abs,f=Math.floor,g=(g(b)+g(c)+g(c-b))/g(a)*v(x(d,"Float"),"EPSILON");.5<g&&(g=.5);n.excl?(f=f((c-b)/a-g),f*a+b<c&&f++):f=f((c-b)/a+g)+1;return f}var f,h,l,n=this,m=ta.$$p,q=m||A,t=A;null==a&&(a=1);m&&(ta.$$p=null);if(q===A)return F(n,"enum_for",["step",a],(f=function(){b();return e()},f.$$s=n,f.$$arity=0,f));b();g(n.begin.$$is_number&&n.end.$$is_number)?(t=0,function(){var b=c.new_brk();try{return F(n,"loop",[],(h=function(){var d=h.$$s||this,e=
A;null==d.begin&&(d.begin=A);null==d.excl&&(d.excl=A);null==d.end&&(d.end=A);e=r(d.begin,"number"===typeof t&&"number"===typeof a?t*a:t["$*"](a));g(d.excl)?(d=d.end,d="number"===typeof e&&"number"===typeof d?e>=d:e["$>="](d),g(d)&&c.brk(A,b)):g(u(e,d.end))&&c.brk(A,b);c.yield1(q,e);return t=r(t,1)},h.$$s=n,h.$$brk=b,h.$$arity=0,h))}catch(d){if(d===b)return d.$v;throw d;}}()):(n.begin.$$is_string&&n.end.$$is_string&&0!==a%1&&n.$raise(x(d,"TypeError"),"no implicit conversion to float from string"),
F(n,"each_with_index",[],(l=function(b,d){null==b&&(b=A);null==d&&(d=A);return d["$%"](a)["$=="](0)?c.yield1(q,b):A},l.$$s=n,l.$$arity=2,l)));return n},ta.$$arity=-1);c.def(t,"$bsearch",W=function(){var a=W.$$p,b=a||A;a&&(W.$$p=null);if(b===A)return this.$enum_for("bsearch");g(this.begin.$$is_number&&this.end.$$is_number)||this.$raise(x(d,"TypeError"),"can't do binary search for "+this.begin.$class());return F(this.$to_a(),"bsearch",[],b.$to_proc())},W.$$arity=0);c.def(t,"$to_s",J=function(){return""+
this.begin+(g(this.excl)?"...":"..")+this.end},J.$$arity=0);c.def(t,"$inspect",I=function(){return""+this.begin.$inspect()+(g(this.excl)?"...":"..")+this.end.$inspect()},I.$$arity=0);c.def(t,"$marshal_load",w=function(a){this.begin=a["$[]"]("begin");this.end=a["$[]"]("end");return this.excl=a["$[]"]("excl")},w.$$arity=1);return(c.def(t,"$hash",fa=function(){return[this.begin,this.end,this.excl].$hash()},fa.$$arity=0),A)&&"hash"}(k[0],null,k)},Opal.modules["corelib/proc"]=function(c){var z=[],E=c.nil,
u=c.const_get_relative,r=c.slice,p=c.klass,k=c.truthy;c.add_stubs(["$raise","$coerce_to!"]);return function(A,$super,x){function a(){}A=a=p(A,$super,"Proc",a);var g=A.$$proto,F=[A].concat(x),t,B,y,h,b,d,f,m,S,l;g.$$is_proc=!0;g.$$is_lambda=!1;c.defs(A,"$new",t=function(){var a=t.$$p,b=a||E;a&&(t.$$p=null);k(b)||this.$raise(u(F,"ArgumentError"),"tried to create a Proc object without a block");return b},t.$$arity=0);c.def(A,"$call",B=function(a){var b,d=B.$$p,g=d||E,f=arguments.length;b=f-0;0>b&&(b=
0);b=Array(b);for(var h=0;h<f;h++)b[h-0]=arguments[h];d&&(B.$$p=null);g!==E&&(this.$$p=g);var l;if(d=this.$$brk)try{l=this.$$is_lambda?this.apply(null,b):c.yieldX(this,b)}catch(m){if(m===d)return d.$v;throw m;}else l=this.$$is_lambda?this.apply(null,b):c.yieldX(this,b);return l},B.$$arity=-1);c.alias(A,"[]","call");c.alias(A,"===","call");c.alias(A,"yield","call");c.def(A,"$to_proc",y=function(){return this},y.$$arity=0);c.def(A,"$lambda?",h=function(){return!!this.$$is_lambda},h.$$arity=0);c.def(A,
"$arity",b=function(){return this.$$is_curried?-1:this.$$arity},b.$$arity=0);c.def(A,"$source_location",d=function(){return E},d.$$arity=0);c.def(A,"$binding",f=function(){this.$$is_curried&&this.$raise(u(F,"ArgumentError"),"Can't create Binding");return E},f.$$arity=0);c.def(A,"$parameters",m=function(){if(this.$$is_curried)return[["rest"]];if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;var a=[],b,d;b=0;for(d=this.$$parameters.length;b<d;b++){var c=this.$$parameters[b];"req"===
c[0]&&(c=["opt",c[1]]);a.push(c)}return a}return[]},m.$$arity=0);c.def(A,"$curry",S=function(a){function b(){var c=r.call(arguments),g=c.length;g>a&&d.$$is_lambda&&!d.$$is_curried&&d.$raise(u(F,"ArgumentError"),"wrong number of arguments ("+g+" for "+a+")");if(g>=a)return d.$call.apply(d,c);g=function(){return b.apply(null,c.concat(r.call(arguments)))};g.$$is_lambda=d.$$is_lambda;g.$$is_curried=!0;return g}var d=this;void 0===a?a=d.length:(a=u(F,"Opal")["$coerce_to!"](a,u(F,"Integer"),"to_int"),d.$$is_lambda&&
a!==d.length&&d.$raise(u(F,"ArgumentError"),"wrong number of arguments ("+a+" for "+d.length+")"));b.$$is_lambda=d.$$is_lambda;b.$$is_curried=!0;return b},S.$$arity=-1);c.def(A,"$dup",l=function(){var a=this.$$original_proc||this,b=function(){return a.apply(this,arguments)},d;for(d in this)this.hasOwnProperty(d)&&(b[d]=this[d]);return b},l.$$arity=0);return c.alias(A,"clone","dup")}(z[0],Function,z)},Opal.modules["corelib/method"]=function(c){var z=[],E=c.nil,u=c.const_get_relative,r=c.klass,p=c.truthy;
c.add_stubs("$attr_reader $arity $new $class $join $source_location $raise".split(" "));(function(k,$super,v){function x(){}k=x=r(k,$super,"Method",x);var a=k.$$proto,g=[k].concat(v),F,t,B,y,h,b,d,f,m;a.method=a.receiver=a.owner=a.name=E;k.$attr_reader("owner","receiver","name");c.def(k,"$initialize",F=function(a,b,d,c){this.receiver=a;this.owner=b;this.name=c;return this.method=d},F.$$arity=4);c.def(k,"$arity",t=function(){return this.method.$arity()},t.$$arity=0);c.def(k,"$parameters",B=function(){return this.method.$$parameters},
B.$$arity=0);c.def(k,"$source_location",y=function(){var a;return p(a=this.method.$$source_location)?a:["(eval)",0]},y.$$arity=0);c.def(k,"$comments",h=function(){var a;return p(a=this.method.$$comments)?a:[]},h.$$arity=0);c.def(k,"$call",b=function(a){var d,c=b.$$p,g=c||E,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var h=0;h<f;h++)d[h-0]=arguments[h];c&&(b.$$p=null);this.method.$$p=g;return this.method.apply(this.receiver,d)},b.$$arity=-1);c.alias(k,"[]","call");c.def(k,"$unbind",d=function(){return u(g,
"UnboundMethod").$new(this.receiver.$class(),this.owner,this.method,this.name)},d.$$arity=0);c.def(k,"$to_proc",f=function(){var a=this.$call.bind(this);a.$$unbound=this.method;a.$$is_lambda=!0;return a},f.$$arity=0);return(c.def(k,"$inspect",m=function(){return"#<"+this.$class()+": "+this.receiver.$class()+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},m.$$arity=0),E)&&"inspect"})(z[0],null,z);return function(k,$super,v){function x(){}k=x=r(k,$super,"UnboundMethod",
x);var a=k.$$proto,g=[k].concat(v),F,t,B,y,h,b,d;a.method=a.owner=a.name=a.source=E;k.$attr_reader("source","owner","name");c.def(k,"$initialize",F=function(a,b,d,c){this.source=a;this.owner=b;this.method=d;return this.name=c},F.$$arity=4);c.def(k,"$arity",t=function(){return this.method.$arity()},t.$$arity=0);c.def(k,"$parameters",B=function(){return this.method.$$parameters},B.$$arity=0);c.def(k,"$source_location",y=function(){var a;return p(a=this.method.$$source_location)?a:["(eval)",0]},y.$$arity=
0);c.def(k,"$comments",h=function(){var a;return p(a=this.method.$$comments)?a:[]},h.$$arity=0);c.def(k,"$bind",b=function(a){if(this.owner.$$is_module||c.is_a(a,this.owner))return u(g,"Method").$new(a,this.owner,this.method,this.name);this.$raise(u(g,"TypeError"),"can't bind singleton method to a different class (expected "+a+".kind_of?("+this.owner+" to be true)")},b.$$arity=1);return(c.def(k,"$inspect",d=function(){return"#<"+this.$class()+": "+this.source+"#"+this.name+" (defined in "+this.owner+
" in "+this.$source_location().$join(":")+")>"},d.$$arity=0),E)&&"inspect"}(z[0],null,z)},Opal.modules["corelib/variables"]=function(c){var z=[],E=c.nil,u=c.const_get_relative,r=c.gvars,p=c.hash2;c.add_stubs(["$new"]);r["&"]=r["~"]=r["`"]=r["'"]=E;r.LOADED_FEATURES=r['"']=c.loaded_features;r.LOAD_PATH=r[":"]=[];r["/"]="\n";r[","]=E;c.const_set(z[0],"ARGV",[]);c.const_set(z[0],"ARGF",u(z,"Object").$new());c.const_set(z[0],"ENV",p([],{}));r.VERBOSE=!1;r.DEBUG=!1;return r.SAFE=0},Opal.modules["opal/regexp_anchors"]=
function(c){var z=[],E=c.nil,u=c.const_get_relative,r=c.module;c.add_stubs(["$==","$new"]);z=[r(z[0],"Opal")].concat(z);c.const_set(z[0],"REGEXP_START",u(z,"RUBY_ENGINE")["$=="]("opal")?"^":E);c.const_set(z[0],"REGEXP_END",u(z,"RUBY_ENGINE")["$=="]("opal")?"$":E);c.const_set(z[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");c.const_set(z[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");
c.const_set(z[0],"INLINE_IDENTIFIER_REGEXP",u(z,"Regexp").$new("[^"+u(z,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+u(z,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]"));c.const_set(z[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");c.const_set(z[0],"CONST_NAME_REGEXP",u(z,"Regexp").$new(""+u(z,"REGEXP_START")+"(::)?[A-Z][^"+u(z,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+u(z,"REGEXP_END")))},Opal.modules["opal/mini"]=function(c){var z=
c.top;c.add_stubs(["$require"]);z.$require("opal/base");z.$require("corelib/nil");z.$require("corelib/boolean");z.$require("corelib/string");z.$require("corelib/comparable");z.$require("corelib/enumerable");z.$require("corelib/enumerator");z.$require("corelib/array");z.$require("corelib/hash");z.$require("corelib/number");z.$require("corelib/range");z.$require("corelib/proc");z.$require("corelib/method");z.$require("corelib/regexp");z.$require("corelib/variables");return z.$require("opal/regexp_anchors")},
Opal.modules["corelib/string/inheritance"]=function(c){var z=c.top,E=[],u=c.nil,r=c.const_get_qualified,p=c.const_get_relative,k=c.klass,A=c.send,v=c.truthy,x=c.gvars;c.add_stubs("$require $new $allocate $initialize $to_proc $__send__ $class $clone $respond_to? $== $to_s $inspect $+ $* $map $split $enum_for $each_line $to_a $% $-".split(" "));z.$require("corelib/string");(function(a,$super,F){function t(){}a=t=k(a,$super,"String",t);var B=[a].concat(F),y;return(c.defs(a,"$inherited",y=function(a){var b=
u,b=p(B,"Class").$new(r(p(B,"String"),"Wrapper"));a.$$proto=b.$$proto;a.$$proto.$$class=a;a.$$alloc=b.$$alloc;a.$$parent=r(p(B,"String"),"Wrapper");a.$allocate=b.$allocate;a.$new=b.$new},y.$$arity=1),u)&&"inherited"})(E[0],null,E);return function(a,$super,F){function t(){}a=t=k(a,$super,"Wrapper",t);var B=a.$$proto;[a].concat(F);var y,h,b,d,f,m,p,l,e,q,n,r,ka,C,da,L,z,W;B.literal=u;B.$$is_string=!0;c.defs(a,"$allocate",y=function(a){var b=y.$$p,d=u;null==a&&(a="");b&&(y.$$p=null);d=A(this,c.find_super_dispatcher(this,
"allocate",y,!1,t),[],null);d.literal=a;return d},y.$$arity=-1);c.defs(a,"$new",h=function(a){var b,d=h.$$p,e=d||u,f=u,f=arguments.length;b=f-0;0>b&&(b=0);b=Array(b);for(var l=0;l<f;l++)b[l-0]=arguments[l];d&&(h.$$p=null);f=this.$allocate();A(f,"initialize",c.to_a(b),e.$to_proc());return f},h.$$arity=-1);c.defs(a,"$[]",b=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var c=0;c<d;c++)b[c-0]=arguments[c];return this.$allocate(b)},b.$$arity=-1);c.def(a,"$initialize",d=function(a){null==
a&&(a="");return this.literal=a},d.$$arity=-1);c.def(a,"$method_missing",f=function(a){var b,d=f.$$p,e=d||u,h=u,h=arguments.length;b=h-0;0>b&&(b=0);b=Array(b);for(var l=0;l<h;l++)b[l-0]=arguments[l];d&&(f.$$p=null);h=A(this.literal,"__send__",c.to_a(b),e.$to_proc());return v(null!=h.$$is_string)?v(h==this.literal)?this:this.$class().$allocate(h):h},f.$$arity=-1);c.def(a,"$initialize_copy",m=function(a){return this.literal=a.literal.$clone()},m.$$arity=1);c.def(a,"$respond_to?",p=function(a,b){var d,
e=p.$$p,f=u,h=u,l=u;e&&(p.$$p=null);h=0;l=arguments.length;for(f=Array(l);h<l;h++)f[h]=arguments[h];return v(d=A(this,c.find_super_dispatcher(this,"respond_to?",p,!1),f,e))?d:this.literal["$respond_to?"](a)},p.$$arity=-2);c.def(a,"$==",l=function(a){return this.literal["$=="](a)},l.$$arity=1);c.alias(a,"eql?","==");c.alias(a,"===","==");c.def(a,"$to_s",e=function(){return this.literal.$to_s()},e.$$arity=0);c.alias(a,"to_str","to_s");c.def(a,"$inspect",q=function(){return this.literal.$inspect()},
q.$$arity=0);c.def(a,"$+",n=function(a){var b=this.literal;return"number"===typeof b&&"number"===typeof a?b+a:b["$+"](a)},n.$$arity=1);c.def(a,"$*",r=function(a){var b=this.literal;a="number"===typeof b&&"number"===typeof a?b*a:b["$*"](a);return a.$$is_string?this.$class().$allocate(a):a},r.$$arity=1);c.def(a,"$split",ka=function(a,b){var d;return A(this.literal.$split(a,b),"map",[],(d=function(a){var b=d.$$s||this;null==a&&(a=u);return b.$class().$allocate(a)},d.$$s=this,d.$$arity=1,d))},ka.$$arity=
-1);c.def(a,"$replace",C=function(a){return this.literal=a},C.$$arity=1);c.def(a,"$each_line",da=function(a){var b,d=da.$$p,e=d||u;null==x["/"]&&(x["/"]=u);null==a&&(a=x["/"]);d&&(da.$$p=null);return e===u?this.$enum_for("each_line",a):A(this.literal,"each_line",[a],(b=function(a){var d=b.$$s||this;null==a&&(a=u);return c.yield1(e,d.$class().$allocate(a))},b.$$s=this,b.$$arity=1,b))},da.$$arity=-1);c.def(a,"$lines",L=function(a){var b=L.$$p,d=b||u,c=u;null==x["/"]&&(x["/"]=u);null==a&&(a=x["/"]);
b&&(L.$$p=null);c=A(this,"each_line",[a],d.$to_proc());return v(d)?this:c.$to_a()},L.$$arity=-1);c.def(a,"$%",z=function(a){return this.literal["$%"](a)},z.$$arity=1);return(c.def(a,"$instance_variables",W=function(){var a=W.$$p,b=u,d=u,e=u;a&&(W.$$p=null);d=0;e=arguments.length;for(b=Array(e);d<e;d++)b[d]=arguments[d];a=A(this,c.find_super_dispatcher(this,"instance_variables",W,!1),b,a);b=["@literal"];return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)},W.$$arity=0),u)&&"instance_variables"}(p(E,
"String"),null,E)},Opal.modules["corelib/string/encoding"]=function(c){function z(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var E,u,r,p,k,A=c.top,v=[],x=c.nil,a=c.const_get_qualified,g=c.const_get_relative,F=c.klass,t=c.truthy,B=c.send,y=c.hash2;c.add_stubs("$require $+ $[] $new $to_proc $each $const_set $sub $== $default_external $upcase $raise $attr_accessor $attr_reader $register $length $bytes $to_a $each_byte $bytesize $enum_for $force_encoding $dup $coerce_to! $find $getbyte".split(" "));
A.$require("corelib/string");(function(a,$super,d){function f(){}a=f=F(a,$super,"Encoding",f);var m=a.$$proto,k=[a].concat(d),l,e,q,n,p,v,C,r,L,u;m.ascii=m.dummy=m.name=x;a.$$register={};c.defs(a,"$register",l=function(a,d){var c,e,f=l.$$p,h=f||x,n=x,m=x,q=x;null==d&&(d=y([],{}));f&&(l.$$p=null);n=z([a],t(c=d["$[]"]("aliases"))?c:[]);m=B(g(k,"Class"),"new",[this],h.$to_proc()).$new(a,n,t(c=d["$[]"]("ascii"))?c:!1,t(c=d["$[]"]("dummy"))?c:!1);q=this.$$register;return B(n,"each",[],(e=function(a){var d=
e.$$s||this;null==a&&(a=x);d.$const_set(a.$sub("-","_"),m);return q["$$"+a]=m},e.$$s=this,e.$$arity=1,e))},l.$$arity=-2);c.defs(a,"$find",e=function(a){var d,c=x,c=x;if(a["$=="]("default_external"))return this.$default_external();c=this.$$register;c=t(d=c["$$"+a])?d:c["$$"+a.$upcase()];t(c)||this.$raise(g(k,"ArgumentError"),"unknown encoding name - "+a);return c},e.$$arity=1);(function(a,d){[a].concat(d);return a.$attr_accessor("default_external")})(c.get_singleton_class(a),k);a.$attr_reader("name",
"names");c.def(a,"$initialize",q=function(a,d,c,e){this.name=a;this.names=d;this.ascii=c;return this.dummy=e},q.$$arity=4);c.def(a,"$ascii_compatible?",n=function(){return this.ascii},n.$$arity=0);c.def(a,"$dummy?",p=function(){return this.dummy},p.$$arity=0);c.def(a,"$to_s",v=function(){return this.name},v.$$arity=0);c.def(a,"$inspect",C=function(){return"#<Encoding:"+this.name+(t(this.dummy)?" (dummy)":x)+">"},C.$$arity=0);c.def(a,"$each_byte",r=function(a){return this.$raise(g(k,"NotImplementedError"))},
r.$$arity=-1);c.def(a,"$getbyte",L=function(a){return this.$raise(g(k,"NotImplementedError"))},L.$$arity=-1);c.def(a,"$bytesize",u=function(a){return this.$raise(g(k,"NotImplementedError"))},u.$$arity=-1);(function(a,$super,d){function c(){}[c=F(a,$super,"EncodingError",c)].concat(d);return x})(k[0],g(k,"StandardError"),k);return function(a,$super,d){function c(){}[c=F(a,$super,"CompatibilityError",c)].concat(d);return x}(k[0],g(k,"EncodingError"),k)})(v[0],null,v);B(g(v,"Encoding"),"register",["UTF-8",
y(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],(E=function(){var a=E.$$s||this,b,d;c.def(a,"$each_byte",b=function(a){var d=b.$$p,g=d||x;d&&(b.$$p=null);for(var d=0,h=a.length;d<h;d++){var e=a.charCodeAt(d);if(127>=e)c.yield1(g,e);else for(var e=encodeURIComponent(a.charAt(d)).substr(1).split("%"),q=0,n=e.length;q<n;q++)c.yield1(g,parseInt(e[q],16))}},b.$$arity=1);return(c.def(a,"$bytesize",d=function(a){return a.$bytes().$length()},d.$$arity=1),x)&&"bytesize"},E.$$s=A,E.$$arity=0,E));B(g(v,
"Encoding"),"register",["UTF-16LE"],(u=function(){var a=u.$$s||this,b,d;c.def(a,"$each_byte",b=function(a){var d=b.$$p,g=d||x;d&&(b.$$p=null);for(var d=0,h=a.length;d<h;d++){var e=a.charCodeAt(d);c.yield1(g,e&255);c.yield1(g,e>>8)}},b.$$arity=1);return(c.def(a,"$bytesize",d=function(a){return a.$bytes().$length()},d.$$arity=1),x)&&"bytesize"},u.$$s=A,u.$$arity=0,u));B(g(v,"Encoding"),"register",["UTF-16BE"],(r=function(){var a=r.$$s||this,b,d;c.def(a,"$each_byte",b=function(a){var d=b.$$p,g=d||x;
d&&(b.$$p=null);for(var d=0,h=a.length;d<h;d++){var e=a.charCodeAt(d);c.yield1(g,e>>8);c.yield1(g,e&255)}},b.$$arity=1);return(c.def(a,"$bytesize",d=function(a){return a.$bytes().$length()},d.$$arity=1),x)&&"bytesize"},r.$$s=A,r.$$arity=0,r));B(g(v,"Encoding"),"register",["UTF-32LE"],(p=function(){var a=p.$$s||this,b,d;c.def(a,"$each_byte",b=function(a){var d=b.$$p,g=d||x;d&&(b.$$p=null);for(var d=0,h=a.length;d<h;d++){var e=a.charCodeAt(d);c.yield1(g,e&255);c.yield1(g,e>>8)}},b.$$arity=1);return(c.def(a,
"$bytesize",d=function(a){return a.$bytes().$length()},d.$$arity=1),x)&&"bytesize"},p.$$s=A,p.$$arity=0,p));B(g(v,"Encoding"),"register",["ASCII-8BIT",y(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],ascii:!0,dummy:!0})],(k=function(){var a=k.$$s||this,b,d;c.def(a,"$each_byte",b=function(a){var d=b.$$p,g=d||x;d&&(b.$$p=null);for(var d=0,h=a.length;d<h;d++){var e=a.charCodeAt(d);c.yield1(g,e&255);c.yield1(g,e>>8)}},b.$$arity=1);return(c.def(a,"$bytesize",d=function(a){return a.$bytes().$length()},
d.$$arity=1),x)&&"bytesize"},k.$$s=A,k.$$arity=0,k));return function(h,$super,d){function f(){}h=f=F(h,$super,"String",f);var m=h.$$proto,t=[h].concat(d),l,e,q,n,k,y,C;m.encoding=x;h.$attr_reader("encoding");String.prototype.encoding=a(g(t,"Encoding"),"UTF_16LE");c.def(h,"$bytes",l=function(){return this.$each_byte().$to_a()},l.$$arity=0);c.def(h,"$bytesize",e=function(){return this.encoding.$bytesize(this)},e.$$arity=0);c.def(h,"$each_byte",q=function(){var a=q.$$p,d=a||x;a&&(q.$$p=null);if(d===
x)return this.$enum_for("each_byte");B(this.encoding,"each_byte",[this],d.$to_proc());return this},q.$$arity=0);c.def(h,"$encode",n=function(a){return this.$dup().$force_encoding(a)},n.$$arity=1);c.def(h,"$force_encoding",k=function(a){if(a===this.encoding)return this;a=g(t,"Opal")["$coerce_to!"](a,g(t,"String"),"to_s");a=g(t,"Encoding").$find(a);if(a===this.encoding)return this;this.encoding=a;return this},k.$$arity=1);c.def(h,"$getbyte",y=function(a){return this.encoding.$getbyte(this,a)},y.$$arity=
1);return(c.def(h,"$valid_encoding?",C=function(){return!0},C.$$arity=0),x)&&"valid_encoding?"}(v[0],null,v)},Opal.modules["corelib/math"]=function(c){var z=[],E=c.const_get_qualified,u=c.const_get_relative,r=c.module,p=c.truthy;c.add_stubs("$new $raise $Float $type_error $Integer $module_function $checked $float! $=== $gamma $- $integer! $/ $infinite?".split(" "));return function(k,A){var v=r(k,"Math"),x=[v].concat(A),a,g,F,t,B,y,h,b,d,f,m,S,l,e,q,n,z,ka,C,da,L,ta,W,J,I,w,fa,Q,ea;c.const_set(x[0],
"E",Math.E);c.const_set(x[0],"PI",Math.PI);c.const_set(x[0],"DomainError",u(x,"Class").$new(u(x,"StandardError")));c.defs(v,"$checked",a=function(a,b){var d,c=arguments.length;d=c-1;0>d&&(d=0);d=Array(d);for(var e=1;e<c;e++)d[e-1]=arguments[e];if(isNaN(d[0])||2==d.length&&isNaN(d[1]))return NaN;c=Math[a].apply(null,d);isNaN(c)&&this.$raise(u(x,"DomainError"),'Numerical argument is out of domain - "'+a+'"');return c},a.$$arity=-2);c.defs(v,"$float!",g=function(a){try{return this.$Float(a)}catch(b){if(c.rescue(b,
[u(x,"ArgumentError")]))try{return this.$raise(u(x,"Opal").$type_error(a,u(x,"Float")))}finally{c.pop_exception()}else throw b;}},g.$$arity=1);c.defs(v,"$integer!",F=function(a){try{return this.$Integer(a)}catch(b){if(c.rescue(b,[u(x,"ArgumentError")]))try{return this.$raise(u(x,"Opal").$type_error(a,u(x,"Integer")))}finally{c.pop_exception()}else throw b;}},F.$$arity=1);v.$module_function();c.def(v,"$acos",t=function(a){return u(x,"Math").$checked("acos",u(x,"Math")["$float!"](a))},t.$$arity=1);
p("undefined"!==typeof Math.acosh)||(Math.acosh=function(a){return Math.log(a+Math.sqrt(a*a-1))});c.def(v,"$acosh",B=function(a){return u(x,"Math").$checked("acosh",u(x,"Math")["$float!"](a))},B.$$arity=1);c.def(v,"$asin",y=function(a){return u(x,"Math").$checked("asin",u(x,"Math")["$float!"](a))},y.$$arity=1);p("undefined"!==typeof Math.asinh)||(Math.asinh=function(a){return Math.log(a+Math.sqrt(a*a+1))});c.def(v,"$asinh",h=function(a){return u(x,"Math").$checked("asinh",u(x,"Math")["$float!"](a))},
h.$$arity=1);c.def(v,"$atan",b=function(a){return u(x,"Math").$checked("atan",u(x,"Math")["$float!"](a))},b.$$arity=1);c.def(v,"$atan2",d=function(a,b){return u(x,"Math").$checked("atan2",u(x,"Math")["$float!"](a),u(x,"Math")["$float!"](b))},d.$$arity=2);p("undefined"!==typeof Math.atanh)||(Math.atanh=function(a){return.5*Math.log((1+a)/(1-a))});c.def(v,"$atanh",f=function(a){return u(x,"Math").$checked("atanh",u(x,"Math")["$float!"](a))},f.$$arity=1);p("undefined"!==typeof Math.cbrt)||(Math.cbrt=
function(a){if(0==a)return 0;if(0>a)return-Math.cbrt(-a);for(var b=a,d=0;.125>b;)b*=8,d--;for(;1<b;)b*=.125,d++;for(b=(-.46946116*b+1.072302)*b+.3812513;0>d;)b*=.5,d++;for(;0<d;)b*=2,d--;b=2/3*b+1/3*a/(b*b);b=2/3*b+1/3*a/(b*b);b=2/3*b+1/3*a/(b*b);return 2/3*b+1/3*a/(b*b)});c.def(v,"$cbrt",m=function(a){return u(x,"Math").$checked("cbrt",u(x,"Math")["$float!"](a))},m.$$arity=1);c.def(v,"$cos",S=function(a){return u(x,"Math").$checked("cos",u(x,"Math")["$float!"](a))},S.$$arity=1);p("undefined"!==typeof Math.cosh)||
(Math.cosh=function(a){return(Math.exp(a)+Math.exp(-a))/2});c.def(v,"$cosh",l=function(a){return u(x,"Math").$checked("cosh",u(x,"Math")["$float!"](a))},l.$$arity=1);p("undefined"!==typeof Math.erf)||(Math.erf=function(a){var b=1;0>a&&(b=-1);a=Math.abs(a);var d=1/(1+.3275911*a);return b*(1-((((1.061405429*d+-1.453152027)*d+1.421413741)*d+-.284496736)*d+.254829592)*d*Math.exp(-a*a))});c.def(v,"$erf",e=function(a){return u(x,"Math").$checked("erf",u(x,"Math")["$float!"](a))},e.$$arity=1);p("undefined"!==
typeof Math.erfc)||(Math.erfc=function(a){var b=Math.abs(a),d=1/(.5*b+1),b=d*Math.exp(-b*b-1.26551223+d*(d*(d*(d*(d*(d*(d*(d*(.17087277*d+-.82215223)+1.48851587)+-1.13520398)+.27886807)+-.18628806)+.09678418)+.37409196)+1.00002368));return 0>a?2-b:b});c.def(v,"$erfc",q=function(a){return u(x,"Math").$checked("erfc",u(x,"Math")["$float!"](a))},q.$$arity=1);c.def(v,"$exp",n=function(a){return u(x,"Math").$checked("exp",u(x,"Math")["$float!"](a))},n.$$arity=1);c.def(v,"$frexp",z=function(a){a=u(x,"Math")["$float!"](a);
if(isNaN(a))return[NaN,0];var b=Math.floor(Math.log(Math.abs(a))/Math.log(2))+1;return[a/Math.pow(2,b),b]},z.$$arity=1);c.def(v,"$gamma",ka=function(a){a=u(x,"Math")["$float!"](a);var b,d,c,e;c=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3.399464998481189E-5,4.652362892704858E-5,-9.837447530487956E-5,1.580887032249125E-4,-2.1026444172410488E-4,2.1743961811521265E-4,-1.643181065367639E-4,8.441822398385275E-5,-2.6190838401581408E-5,3.6899182659531625E-6];
if(isNaN(a))return NaN;if(0===a&&0>1/a)return-Infinity;-1!==a&&-Infinity!==a||this.$raise(u(x,"DomainError"),'Numerical argument is out of domain - "gamma"');if(u(x,"Integer")["$==="](a)){if(0>=a)return isFinite(a)?Infinity:NaN;if(171<a)return Infinity;d=a-2;for(--a;1<d;)a*=d,d--;0==a&&(a=1);return a}if(.5>a)return Math.PI/(Math.sin(Math.PI*a)*u(x,"Math").$gamma("number"===typeof a?1-a:1["$-"](a)));if(171.35<=a)return Infinity;if(85<a)return d=a*a,b=d*a,c=b*a,e=c*a,Math.sqrt(2*Math.PI/a)*Math.pow(a/
Math.E,a)*(1+1/(12*a)+1/(288*d)-139/(51840*b)-571/(2488320*c)+163879/(209018880*e)+5246819/(75246796800*e*a));--a;d=c[0];for(b=1;b<c.length;++b)d+=c[b]/(a+b);b=a+4.7421875+.5;return Math.sqrt(2*Math.PI)*Math.pow(b,a+.5)*Math.exp(-b)*d},ka.$$arity=1);p("undefined"!==typeof Math.hypot)||(Math.hypot=function(a,b){return Math.sqrt(a*a+b*b)});c.def(v,"$hypot",C=function(a,b){return u(x,"Math").$checked("hypot",u(x,"Math")["$float!"](a),u(x,"Math")["$float!"](b))},C.$$arity=2);c.def(v,"$ldexp",da=function(a,
b){a=u(x,"Math")["$float!"](a);b=u(x,"Math")["$integer!"](b);isNaN(b)&&this.$raise(u(x,"RangeError"),"float NaN out of range of integer");return a*Math.pow(2,b)},da.$$arity=2);c.def(v,"$lgamma",L=function(a){return-1==a?[Infinity,1]:[Math.log(Math.abs(u(x,"Math").$gamma(a))),0>u(x,"Math").$gamma(a)?-1:1]},L.$$arity=1);c.def(v,"$log",ta=function(a,b){p(u(x,"String")["$==="](a))&&this.$raise(u(x,"Opal").$type_error(a,u(x,"Float")));if(p(null==b))return u(x,"Math").$checked("log",u(x,"Math")["$float!"](a));
p(u(x,"String")["$==="](b))&&this.$raise(u(x,"Opal").$type_error(b,u(x,"Float")));var d=u(x,"Math").$checked("log",u(x,"Math")["$float!"](a)),c=u(x,"Math").$checked("log",u(x,"Math")["$float!"](b));return"number"===typeof d&&"number"===typeof c?d/c:d["$/"](c)},ta.$$arity=-2);p("undefined"!==typeof Math.log10)||(Math.log10=function(a){return Math.log(a)/Math.LN10});c.def(v,"$log10",W=function(a){p(u(x,"String")["$==="](a))&&this.$raise(u(x,"Opal").$type_error(a,u(x,"Float")));return u(x,"Math").$checked("log10",
u(x,"Math")["$float!"](a))},W.$$arity=1);p("undefined"!==typeof Math.log2)||(Math.log2=function(a){return Math.log(a)/Math.LN2});c.def(v,"$log2",J=function(a){p(u(x,"String")["$==="](a))&&this.$raise(u(x,"Opal").$type_error(a,u(x,"Float")));return u(x,"Math").$checked("log2",u(x,"Math")["$float!"](a))},J.$$arity=1);c.def(v,"$sin",I=function(a){return u(x,"Math").$checked("sin",u(x,"Math")["$float!"](a))},I.$$arity=1);p("undefined"!==typeof Math.sinh)||(Math.sinh=function(a){return(Math.exp(a)-Math.exp(-a))/
2});c.def(v,"$sinh",w=function(a){return u(x,"Math").$checked("sinh",u(x,"Math")["$float!"](a))},w.$$arity=1);c.def(v,"$sqrt",fa=function(a){return u(x,"Math").$checked("sqrt",u(x,"Math")["$float!"](a))},fa.$$arity=1);c.def(v,"$tan",Q=function(a){a=u(x,"Math")["$float!"](a);return p(a["$infinite?"]())?E(u(x,"Float"),"NAN"):u(x,"Math").$checked("tan",u(x,"Math")["$float!"](a))},Q.$$arity=1);p("undefined"!==typeof Math.tanh)||(Math.tanh=function(a){return Infinity==a?1:-Infinity==a?-1:(Math.exp(a)-
Math.exp(-a))/(Math.exp(a)+Math.exp(-a))});c.def(v,"$tanh",ea=function(a){return u(x,"Math").$checked("tanh",u(x,"Math")["$float!"](a))},ea.$$arity=1)}(z[0],z)},Opal.modules["corelib/complex"]=function(c){function z(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function E(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function u(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function r(a,c){return"number"===typeof a&&"number"===typeof c?
a/c:a["$/"](c)}var p=c.top,k=[],A=c.nil,v=c.const_get_qualified,x=c.const_get_relative,a=c.klass,g=c.truthy,F=c.module;c.add_stubs("$require $=== $real? $raise $new $* $cos $sin $attr_reader $class $== $real $imag $Complex $-@ $+ $__coerced__ $- $nan? $/ $conj $abs2 $quo $polar $exp $log $> $!= $divmod $** $hypot $atan2 $lcm $denominator $finite? $infinite? $numerator $abs $arg $rationalize $to_f $to_i $to_r $inspect $positive? $zero?".split(" "));p.$require("corelib/numeric");(function(t,$super,
k){function h(){}t=h=a(t,$super,"Complex",h);var b=t.$$proto,d=[t].concat(k),f,m,F,l,e,q,n,p,ka,C,da,L,ta,W,J,I,w,fa,Q,ea,N,O,X,R,P,ja,Z,H,ba,T,ga;b.real=b.imag=A;c.defs(t,"$rect",f=function(a,b){var c,e,f;null==b&&(b=0);g(g(c=g(e=g(f=x(d,"Numeric")["$==="](a))?a["$real?"]():f)?x(d,"Numeric")["$==="](b):e)?b["$real?"]():c)||this.$raise(x(d,"TypeError"),"not a real");return this.$new(a,b)},f.$$arity=-2);(function(a,b){[a].concat(b);return c.alias(a,"rectangular","rect")})(c.get_singleton_class(t),
d);c.defs(t,"$polar",m=function(a,b){var c,e,f;null==b&&(b=0);g(g(c=g(e=g(f=x(d,"Numeric")["$==="](a))?a["$real?"]():f)?x(d,"Numeric")["$==="](b):e)?b["$real?"]():c)||this.$raise(x(d,"TypeError"),"not a real");return this.$new(z(a,x(d,"Math").$cos(b)),z(a,x(d,"Math").$sin(b)))},m.$$arity=-2);t.$attr_reader("real","imag");c.def(t,"$initialize",F=function(a,b){null==b&&(b=0);this.real=a;return this.imag=b},F.$$arity=-2);c.def(t,"$coerce",l=function(a){var b;return g(x(d,"Complex")["$==="](a))?[a,this]:
g(g(b=x(d,"Numeric")["$==="](a))?a["$real?"]():b)?[x(d,"Complex").$new(a,0),this]:this.$raise(x(d,"TypeError"),""+a.$class()+" can't be coerced into Complex")},l.$$arity=1);c.def(t,"$==",e=function(a){var b;return g(x(d,"Complex")["$==="](a))?this.real["$=="](a.$real())?this.imag["$=="](a.$imag()):this.real["$=="](a.$real()):g(g(b=x(d,"Numeric")["$==="](a))?a["$real?"]():b)?this.real["$=="](a)?this.imag["$=="](0):this.real["$=="](a):a["$=="](this)},e.$$arity=1);c.def(t,"$-@",q=function(){return this.$Complex(this.real["$-@"](),
this.imag["$-@"]())},q.$$arity=0);c.def(t,"$+",n=function(a){var b;return g(x(d,"Complex")["$==="](a))?this.$Complex(E(this.real,a.$real()),E(this.imag,a.$imag())):g(g(b=x(d,"Numeric")["$==="](a))?a["$real?"]():b)?this.$Complex(E(this.real,a),this.imag):this.$__coerced__("+",a)},n.$$arity=1);c.def(t,"$-",p=function(a){var b;return g(x(d,"Complex")["$==="](a))?this.$Complex(u(this.real,a.$real()),u(this.imag,a.$imag())):g(g(b=x(d,"Numeric")["$==="](a))?a["$real?"]():b)?this.$Complex(u(this.real,a),
this.imag):this.$__coerced__("-",a)},p.$$arity=1);c.def(t,"$*",ka=function(a){var b;return g(x(d,"Complex")["$==="](a))?this.$Complex(u(z(this.real,a.$real()),z(this.imag,a.$imag())),E(z(this.real,a.$imag()),z(this.imag,a.$real()))):g(g(b=x(d,"Numeric")["$==="](a))?a["$real?"]():b)?this.$Complex(z(this.real,a),z(this.imag,a)):this.$__coerced__("*",a)},ka.$$arity=1);c.def(t,"$/",C=function(a){var b,c,e,f;return g(x(d,"Complex")["$==="](a))?g(g(b=g(c=g(e=g(f=x(d,"Number")["$==="](this.real))?this.real["$nan?"]():
f)?e:g(f=x(d,"Number")["$==="](this.imag))?this.imag["$nan?"]():f)?c:g(e=x(d,"Number")["$==="](a.$real()))?a.$real()["$nan?"]():e)?b:g(c=x(d,"Number")["$==="](a.$imag()))?a.$imag()["$nan?"]():c)?x(d,"Complex").$new(v(x(d,"Float"),"NAN"),v(x(d,"Float"),"NAN")):r(z(this,a.$conj()),a.$abs2()):g(g(b=x(d,"Numeric")["$==="](a))?a["$real?"]():b)?this.$Complex(this.real.$quo(a),this.imag.$quo(a)):this.$__coerced__("/",a)},C.$$arity=1);c.def(t,"$**",da=function(a){var b,e,f=A,h=A,l=A,n=A;e=n=l=h=f=f=e=A;if(a["$=="](0))return x(d,
"Complex").$new(1,0);if(g(x(d,"Complex")["$==="](a)))return e=this.$polar(),b=c.to_ary(e),f=null==b[0]?A:b[0],h=null==b[1]?A:b[1],e,l=a.$real(),n=a.$imag(),e=x(d,"Math").$exp(u(z(l,x(d,"Math").$log(f)),z(n,h))),f=E(z(h,l),z(n,x(d,"Math").$log(f))),x(d,"Complex").$polar(e,f);if(g(x(d,"Integer")["$==="](a))){if(g("number"===typeof a?0<a:a["$>"](0))){h=f=this;for(l=u(a,1);g(l["$!="](0));){a=l.$divmod(2);e=c.to_ary(a);n=null==e[0]?A:e[0];e=null==e[1]?A:e[1];for(a;e["$=="](0);)f=this.$Complex(u(z(f.$real(),
f.$real()),z(f.$imag(),f.$imag())),z(z(2,f.$real()),f.$imag())),l=n,b=l.$divmod(2),a=c.to_ary(b),n=null==a[0]?A:a[0],e=null==a[1]?A:a[1],b;h=z(h,f);l=u(l,1)}return h}return r(x(d,"Rational").$new(1,1),this)["$**"](a["$-@"]())}return g(g(b=x(d,"Float")["$==="](a))?b:x(d,"Rational")["$==="](a))?(e=this.$polar(),b=c.to_ary(e),f=null==b[0]?A:b[0],h=null==b[1]?A:b[1],e,x(d,"Complex").$polar(f["$**"](a),z(h,a))):this.$__coerced__("**",a)},da.$$arity=1);c.def(t,"$abs",L=function(){return x(d,"Math").$hypot(this.real,
this.imag)},L.$$arity=0);c.def(t,"$abs2",ta=function(){return E(z(this.real,this.real),z(this.imag,this.imag))},ta.$$arity=0);c.def(t,"$angle",W=function(){return x(d,"Math").$atan2(this.imag,this.real)},W.$$arity=0);c.alias(t,"arg","angle");c.def(t,"$conj",J=function(){return this.$Complex(this.real,this.imag["$-@"]())},J.$$arity=0);c.alias(t,"conjugate","conj");c.def(t,"$denominator",I=function(){return this.real.$denominator().$lcm(this.imag.$denominator())},I.$$arity=0);c.alias(t,"divide","/");
c.def(t,"$eql?",w=function(a){var b,c;return g(b=g(c=x(d,"Complex")["$==="](a))?this.real.$class()["$=="](this.imag.$class()):c)?this["$=="](a):b},w.$$arity=1);c.def(t,"$fdiv",fa=function(a){g(x(d,"Numeric")["$==="](a))||this.$raise(x(d,"TypeError"),""+a.$class()+" can't be coerced into Complex");return r(this,a)},fa.$$arity=1);c.def(t,"$finite?",Q=function(){var a;return g(a=this.real["$finite?"]())?this.imag["$finite?"]():a},Q.$$arity=0);c.def(t,"$hash",ea=function(){return"Complex:"+this.real+
":"+this.imag},ea.$$arity=0);c.alias(t,"imaginary","imag");c.def(t,"$infinite?",N=function(){var a;return g(a=this.real["$infinite?"]())?a:this.imag["$infinite?"]()},N.$$arity=0);c.def(t,"$inspect",O=function(){return"("+this+")"},O.$$arity=0);c.alias(t,"magnitude","abs");c.udef(t,"$negative?");c.def(t,"$numerator",X=function(){var a=A,a=this.$denominator();return this.$Complex(z(this.real.$numerator(),r(a,this.real.$denominator())),z(this.imag.$numerator(),r(a,this.imag.$denominator())))},X.$$arity=
0);c.alias(t,"phase","arg");c.def(t,"$polar",R=function(){return[this.$abs(),this.$arg()]},R.$$arity=0);c.udef(t,"$positive?");c.alias(t,"quo","/");c.def(t,"$rationalize",P=function(a){1<arguments.length&&this.$raise(x(d,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");g(this.imag["$!="](0))&&this.$raise(x(d,"RangeError"),"can't' convert "+this+" into Rational");return this.$real().$rationalize(a)},P.$$arity=-1);c.def(t,"$real?",ja=function(){return!1},ja.$$arity=0);c.def(t,
"$rect",Z=function(){return[this.real,this.imag]},Z.$$arity=0);c.alias(t,"rectangular","rect");c.def(t,"$to_f",H=function(){this.imag["$=="](0)||this.$raise(x(d,"RangeError"),"can't convert "+this+" into Float");return this.real.$to_f()},H.$$arity=0);c.def(t,"$to_i",ba=function(){this.imag["$=="](0)||this.$raise(x(d,"RangeError"),"can't convert "+this+" into Integer");return this.real.$to_i()},ba.$$arity=0);c.def(t,"$to_r",T=function(){this.imag["$=="](0)||this.$raise(x(d,"RangeError"),"can't convert "+
this+" into Rational");return this.real.$to_r()},T.$$arity=0);c.def(t,"$to_s",ga=function(){var a,b,c,e=A,e=this.real.$inspect(),e=E(e,g(g(a=g(b=g(c=x(d,"Number")["$==="](this.imag))?this.imag["$nan?"]():c)?b:this.imag["$positive?"]())?a:this.imag["$zero?"]())?"+":"-"),e=E(e,this.imag.$abs().$inspect());g(g(a=x(d,"Number")["$==="](this.imag))?g(b=this.imag["$nan?"]())?b:this.imag["$infinite?"]():a)&&(e=E(e,"*"));return E(e,"i")},ga.$$arity=0);return c.const_set(d[0],"I",t.$new(0,1))})(k[0],x(k,"Numeric"),
k);return function(a,k){var y=F(a,"Kernel"),h=[y].concat(k),b;c.def(y,"$Complex",b=function(a,b){null==b&&(b=A);return g(b)?x(h,"Complex").$new(a,b):x(h,"Complex").$new(a,0)},b.$$arity=-2)}(k[0],k)},Opal.modules["corelib/rational"]=function(c){function z(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function E(a,c){return"number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)}function u(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function r(a,c){return"number"===
typeof a&&"number"===typeof c?a*c:a["$*"](c)}function p(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var k=c.top,A=[],v=c.nil,x=c.const_get_qualified,a=c.const_get_relative,g=c.klass,F=c.truthy,t=c.module;c.add_stubs("$require $to_i $== $raise $< $-@ $new $gcd $/ $nil? $=== $reduce $to_r $equal? $! $coerce_to! $to_f $numerator $denominator $<=> $- $* $__coerced__ $+ $Rational $> $** $abs $ceil $with_precision $floor $<= $truncate $send $convert".split(" "));k.$require("corelib/numeric");
(function(t,$super,h){function b(){}t=b=g(t,$super,"Rational",b);var d=t.$$proto,f=[t].concat(h),m,k,l,e,q,n,A,ka,C,da,L,ta,W,J,I,w,fa,Q,ea,N,O,X,R,P,ja,Z;d.num=d.den=v;c.defs(t,"$reduce",m=function(b,d){var c=v;b=b.$to_i();d=d.$to_i();if(d["$=="](0))this.$raise(a(f,"ZeroDivisionError"),"divided by 0");else if(F(z(d,0)))b=b["$-@"](),d=d["$-@"]();else if(d["$=="](1))return this.$new(b,d);c=b.$gcd(d);return this.$new(E(b,c),E(d,c))},m.$$arity=2);c.defs(t,"$convert",k=function(b,d){var c,e;F(F(c=b["$nil?"]())?
c:d["$nil?"]())&&this.$raise(a(f,"TypeError"),"cannot convert nil into Rational");if(F(F(c=a(f,"Integer")["$==="](b))?a(f,"Integer")["$==="](d):c))return this.$reduce(b,d);F(F(c=F(e=a(f,"Float")["$==="](b))?e:a(f,"String")["$==="](b))?c:a(f,"Complex")["$==="](b))&&(b=b.$to_r());F(F(c=F(e=a(f,"Float")["$==="](d))?e:a(f,"String")["$==="](d))?c:a(f,"Complex")["$==="](d))&&(d=d.$to_r());return F(F(c=d["$equal?"](1))?a(f,"Integer")["$==="](b)["$!"]():c)?a(f,"Opal")["$coerce_to!"](b,a(f,"Rational"),"to_r"):
F(F(c=a(f,"Numeric")["$==="](b))?a(f,"Numeric")["$==="](d):c)?E(b,d):this.$reduce(b,d)},k.$$arity=2);c.def(t,"$initialize",l=function(a,b){this.num=a;return this.den=b},l.$$arity=2);c.def(t,"$numerator",e=function(){return this.num},e.$$arity=0);c.def(t,"$denominator",q=function(){return this.den},q.$$arity=0);c.def(t,"$coerce",n=function(b){var d=v,d=b;return a(f,"Rational")["$==="](d)?[b,this]:a(f,"Integer")["$==="](d)?[b.$to_r(),this]:a(f,"Float")["$==="](d)?[b,this.$to_f()]:v},n.$$arity=1);c.def(t,
"$==",A=function(b){var d=v,d=b;return a(f,"Rational")["$==="](d)?this.num["$=="](b.$numerator())?this.den["$=="](b.$denominator()):this.num["$=="](b.$numerator()):a(f,"Integer")["$==="](d)?this.num["$=="](b)?this.den["$=="](1):this.num["$=="](b):a(f,"Float")["$==="](d)?this.$to_f()["$=="](b):b["$=="](this)},A.$$arity=1);c.def(t,"$<=>",ka=function(b){var d=v,d=b;return a(f,"Rational")["$==="](d)?u(r(this.num,b.$denominator()),r(this.den,b.$numerator()))["$<=>"](0):a(f,"Integer")["$==="](d)?u(this.num,
r(this.den,b))["$<=>"](0):a(f,"Float")["$==="](d)?this.$to_f()["$<=>"](b):this.$__coerced__("<=>",b)},ka.$$arity=1);c.def(t,"$+",C=function(b){var d=v,c=d=v;d=b;a(f,"Rational")["$==="](d)?(d=p(r(this.num,b.$denominator()),r(this.den,b.$numerator())),c=r(this.den,b.$denominator()),b=this.$Rational(d,c)):b=a(f,"Integer")["$==="](d)?this.$Rational(p(this.num,r(b,this.den)),this.den):a(f,"Float")["$==="](d)?p(this.$to_f(),b):this.$__coerced__("+",b);return b},C.$$arity=1);c.def(t,"$-",da=function(b){var d=
v,c=d=v;d=b;a(f,"Rational")["$==="](d)?(d=u(r(this.num,b.$denominator()),r(this.den,b.$numerator())),c=r(this.den,b.$denominator()),b=this.$Rational(d,c)):b=a(f,"Integer")["$==="](d)?this.$Rational(u(this.num,r(b,this.den)),this.den):a(f,"Float")["$==="](d)?u(this.$to_f(),b):this.$__coerced__("-",b);return b},da.$$arity=1);c.def(t,"$*",L=function(b){var d=v,c=d=v;d=b;a(f,"Rational")["$==="](d)?(d=r(this.num,b.$numerator()),c=r(this.den,b.$denominator()),b=this.$Rational(d,c)):b=a(f,"Integer")["$==="](d)?
this.$Rational(r(this.num,b),this.den):a(f,"Float")["$==="](d)?r(this.$to_f(),b):this.$__coerced__("*",b);return b},L.$$arity=1);c.def(t,"$/",ta=function(b){var d=v,c=d=v;d=b;a(f,"Rational")["$==="](d)?(d=r(this.num,b.$denominator()),c=r(this.den,b.$numerator()),b=this.$Rational(d,c)):b=a(f,"Integer")["$==="](d)?b["$=="](0)?E(this.$to_f(),0):this.$Rational(this.num,r(this.den,b)):a(f,"Float")["$==="](d)?E(this.$to_f(),b):this.$__coerced__("/",b);return b},ta.$$arity=1);c.def(t,"$**",W=function(b){var d=
v,d=b;return a(f,"Integer")["$==="](d)?F(this["$=="](0)?z(b,0):this["$=="](0))?x(a(f,"Float"),"INFINITY"):F("number"===typeof b?0<b:b["$>"](0))?this.$Rational(this.num["$**"](b),this.den["$**"](b)):F(z(b,0))?this.$Rational(this.den["$**"](b["$-@"]()),this.num["$**"](b["$-@"]())):this.$Rational(1,1):a(f,"Float")["$==="](d)?this.$to_f()["$**"](b):a(f,"Rational")["$==="](d)?b["$=="](0)?this.$Rational(1,1):b.$denominator()["$=="](1)?F(z(b,0))?this.$Rational(this.den["$**"](b.$numerator().$abs()),this.num["$**"](b.$numerator().$abs())):
this.$Rational(this.num["$**"](b.$numerator()),this.den["$**"](b.$numerator())):F(this["$=="](0)?z(b,0):this["$=="](0))?this.$raise(a(f,"ZeroDivisionError"),"divided by 0"):this.$to_f()["$**"](b):this.$__coerced__("**",b)},W.$$arity=1);c.def(t,"$abs",J=function(){return this.$Rational(this.num.$abs(),this.den.$abs())},J.$$arity=0);c.def(t,"$ceil",I=function(a){null==a&&(a=0);return a["$=="](0)?E(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",a)},I.$$arity=-1);c.alias(t,"divide",
"/");c.def(t,"$floor",w=function(a){null==a&&(a=0);return a["$=="](0)?E(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",a)},w.$$arity=-1);c.def(t,"$hash",fa=function(){return"Rational:"+this.num+":"+this.den},fa.$$arity=0);c.def(t,"$inspect",Q=function(){return"("+this+")"},Q.$$arity=0);c.alias(t,"quo","/");c.def(t,"$rationalize",ea=function(b){1<arguments.length&&this.$raise(a(f,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if(null==b)return this;
for(var d=b.$abs(),c=u(this,d),d=p(this,d),e=0,g=1,h=1,l=0,n,m,q;;){n=c.$ceil();if("number"===typeof n&&"number"===typeof d?n<=d:n["$<="](d))break;q=n-1;n=q*g+e;m=q*l+h;e=E(1,u(d,q));d=E(1,u(c,q));c=e;e=g;h=l;g=n;l=m}return this.$Rational(n*g+e,n*l+h)},ea.$$arity=-1);c.def(t,"$round",N=function(a){var b=v,d=v,b=v;null==a&&(a=0);if(!a["$=="](0))return this.$with_precision("round",a);if(this.num["$=="](0))return 0;if(this.den["$=="](1))return this.num;b=p(r(this.num.$abs(),2),this.den);d=r(this.den,
2);b=E(b,d).$truncate();return F(z(this.num,0))?b["$-@"]():b},N.$$arity=-1);c.def(t,"$to_f",O=function(){return E(this.num,this.den)},O.$$arity=0);c.def(t,"$to_i",X=function(){return this.$truncate()},X.$$arity=0);c.def(t,"$to_r",R=function(){return this},R.$$arity=0);c.def(t,"$to_s",P=function(){return""+this.num+"/"+this.den},P.$$arity=0);c.def(t,"$truncate",ja=function(a){null==a&&(a=0);return a["$=="](0)?F(z(this.num,0))?this.$ceil():this.$floor():this.$with_precision("truncate",a)},ja.$$arity=
-1);return(c.def(t,"$with_precision",Z=function(b,d){var c=v,e=v;F(a(f,"Integer")["$==="](d))||this.$raise(a(f,"TypeError"),"not an Integer");c=10["$**"](d);e=r(this,c);return F(z(d,1))?E(e.$send(b),c).$to_i():this.$Rational(e.$send(b),c)},Z.$$arity=2),v)&&"with_precision"})(A[0],a(A,"Numeric"),A);return function(g,k){var h=t(g,"Kernel"),b=[h].concat(k),d;c.def(h,"$Rational",d=function(d,c){null==c&&(c=1);return a(b,"Rational").$convert(d,c)},d.$$arity=-2)}(A[0],A)},Opal.modules["corelib/time"]=function(c){function z(a,
c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function E(a,c){return"number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)}function u(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function r(a,c){return"number"===typeof a&&"number"===typeof c?a<=c:a["$<="](c)}var p=c.top,k=[],A=c.nil,v=c.const_get_relative,x=c.slice,a=c.klass,g=c.truthy,F=c.range;c.add_stubs("$require $include $=== $raise $coerce_to! $respond_to? $to_str $to_i $new $<=> $to_f $nil? $> $< $strftime $year $month $day $+ $round $/ $- $copy_instance_variables $initialize_dup $is_a? $zero? $wday $utc? $mon $yday $hour $min $sec $rjust $ljust $zone $to_s $[] $cweek_cyear $isdst $<= $!= $== $ceil".split(" "));
p.$require("corelib/comparable");return function(t,$super,k){function h(){}function b(a,b,c,e,g,h){a=a.$$is_string?parseInt(a,10):v(f,"Opal")["$coerce_to!"](a,v(f,"Integer"),"to_int");if(b===A)b=1;else if(!b.$$is_number)if(b["$respond_to?"]("to_str"))switch(b=b.$to_str(),b.toLowerCase()){case "jan":b=1;break;case "feb":b=2;break;case "mar":b=3;break;case "apr":b=4;break;case "may":b=5;break;case "jun":b=6;break;case "jul":b=7;break;case "aug":b=8;break;case "sep":b=9;break;case "oct":b=10;break;case "nov":b=
11;break;case "dec":b=12;break;default:b=b.$to_i()}else b=v(f,"Opal")["$coerce_to!"](b,v(f,"Integer"),"to_int");(1>b||12<b)&&d.$raise(v(f,"ArgumentError"),"month out of range: "+b);--b;c=c===A?1:c.$$is_string?parseInt(c,10):v(f,"Opal")["$coerce_to!"](c,v(f,"Integer"),"to_int");(1>c||31<c)&&d.$raise(v(f,"ArgumentError"),"day out of range: "+c);e=e===A?0:e.$$is_string?parseInt(e,10):v(f,"Opal")["$coerce_to!"](e,v(f,"Integer"),"to_int");(0>e||24<e)&&d.$raise(v(f,"ArgumentError"),"hour out of range: "+
e);g=g===A?0:g.$$is_string?parseInt(g,10):v(f,"Opal")["$coerce_to!"](g,v(f,"Integer"),"to_int");(0>g||59<g)&&d.$raise(v(f,"ArgumentError"),"min out of range: "+g);h===A?h=0:h.$$is_number||(h=h.$$is_string?parseInt(h,10):v(f,"Opal")["$coerce_to!"](h,v(f,"Integer"),"to_int"));(0>h||60<h)&&d.$raise(v(f,"ArgumentError"),"sec out of range: "+h);return[a,b,c,e,g,h]}var d=h=a(t,$super,"Time",h),f=[d].concat(k),m,p,l,e,q,n,Ma,ka,C,da,L,ta,W,J,I,w,fa,Q,ea,N,O,X,R,P,ja,Z,H,ba,T,ga,ca,aa,sa,la,ma,ha,pa,Y,qa,
na,ia,xa;d.$include(v(f,"Comparable"));var ra="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),wa="Sun Mon Tue Wed Thu Fri Sat".split(" "),ua="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),va="January February March April May June July August September October November December".split(" ");c.defs(d,"$at",m=function(a,b){var d;if(v(f,"Time")["$==="](a))return void 0!==b&&this.$raise(v(f,"TypeError"),"can't convert Time into an exact number"),d=new Date(a.getTime()),
d.is_utc=a.is_utc,d;a.$$is_number||(a=v(f,"Opal")["$coerce_to!"](a,v(f,"Integer"),"to_int"));if(void 0===b)return new Date(1E3*a);b.$$is_number||(b=v(f,"Opal")["$coerce_to!"](b,v(f,"Integer"),"to_int"));return new Date(1E3*a+b/1E3)},m.$$arity=-2);c.defs(d,"$new",p=function(a,d,c,e,g,h,l){null==d&&(d=A);null==c&&(c=A);null==e&&(e=A);null==g&&(g=A);null==h&&(h=A);null==l&&(l=A);if(void 0===a)return new Date;l!==A&&this.$raise(v(f,"ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time");
h=b(a,d,c,e,g,h);a=h[0];d=h[1];c=h[2];e=h[3];g=h[4];h=h[5];d=new Date(a,d,c,e,g,0,1E3*h);100>a&&d.setFullYear(a);return d},p.$$arity=-1);c.defs(d,"$local",l=function(a,d,c,e,g,f,h,l,n,m){null==d&&(d=A);null==c&&(c=A);null==e&&(e=A);null==g&&(g=A);null==f&&(f=A);null==h&&(h=A);null==l&&(l=A);null==n&&(n=A);null==m&&(m=A);var q;10===arguments.length&&(q=x.call(arguments),a=q[5],d=q[4],c=q[3],e=q[2],g=q[1],f=q[0]);q=b(a,d,c,e,g,f);a=q[0];d=q[1];c=q[2];e=q[3];g=q[4];f=q[5];q=new Date(a,d,c,e,g,0,1E3*
f);100>a&&q.setFullYear(a);return q},l.$$arity=-2);c.defs(d,"$gm",e=function(a,d,c,e,g,f,h,l,n,m){null==d&&(d=A);null==c&&(c=A);null==e&&(e=A);null==g&&(g=A);null==f&&(f=A);null==h&&(h=A);null==l&&(l=A);null==n&&(n=A);null==m&&(m=A);var q;10===arguments.length&&(q=x.call(arguments),a=q[5],d=q[4],c=q[3],e=q[2],g=q[1],f=q[0]);q=b(a,d,c,e,g,f);a=q[0];d=q[1];c=q[2];e=q[3];g=q[4];f=q[5];q=new Date(Date.UTC(a,d,c,e,g,0,1E3*f));100>a&&q.setUTCFullYear(a);q.is_utc=!0;return q},e.$$arity=-2);(function(a,b){[a].concat(b);
c.alias(a,"mktime","local");return c.alias(a,"utc","gm")})(c.get_singleton_class(d),f);c.defs(d,"$now",q=function(){return this.$new()},q.$$arity=0);c.def(d,"$+",n=function(a){g(v(f,"Time")["$==="](a))&&this.$raise(v(f,"TypeError"),"time + time?");a.$$is_number||(a=v(f,"Opal")["$coerce_to!"](a,v(f,"Integer"),"to_int"));a=new Date(this.getTime()+1E3*a);a.is_utc=this.is_utc;return a},n.$$arity=1);c.def(d,"$-",Ma=function(a){if(g(v(f,"Time")["$==="](a)))return(this.getTime()-a.getTime())/1E3;a.$$is_number||
(a=v(f,"Opal")["$coerce_to!"](a,v(f,"Integer"),"to_int"));a=new Date(this.getTime()-1E3*a);a.is_utc=this.is_utc;return a},Ma.$$arity=1);c.def(d,"$<=>",ka=function(a){var b=A;if(g(v(f,"Time")["$==="](a)))return this.$to_f()["$<=>"](a.$to_f());b=a["$<=>"](this);return g(b["$nil?"]())?A:g("number"===typeof b?0<b:b["$>"](0))?-1:g("number"===typeof b?0>b:b["$<"](0))?1:0},ka.$$arity=1);c.def(d,"$==",C=function(a){var b;return g(b=v(f,"Time")["$==="](a))?this.$to_f()===a.$to_f():b},C.$$arity=1);c.def(d,
"$asctime",da=function(){return this.$strftime("%a %b %e %H:%M:%S %Y")},da.$$arity=0);c.alias(d,"ctime","asctime");c.def(d,"$day",L=function(){return this.is_utc?this.getUTCDate():this.getDate()},L.$$arity=0);c.def(d,"$yday",ta=function(){var a=A,b=A,d=A,a=v(f,"Time").$new(this.$year()).$to_i(),b=v(f,"Time").$new(this.$year(),this.$month(),this.$day()).$to_i(),d=86400;return z(E(u(b,a),d).$round(),1)},ta.$$arity=0);c.def(d,"$isdst",W=function(){var a=new Date(this.getFullYear(),0,1),b=new Date(this.getFullYear(),
6,1);return this.getTimezoneOffset()<Math.max(a.getTimezoneOffset(),b.getTimezoneOffset())},W.$$arity=0);c.alias(d,"dst?","isdst");c.def(d,"$dup",J=function(){var a=A,a=new Date(this.getTime());a.$copy_instance_variables(this);a.$initialize_dup(this);return a},J.$$arity=0);c.def(d,"$eql?",I=function(a){var b;return g(b=a["$is_a?"](v(f,"Time")))?this["$<=>"](a)["$zero?"]():b},I.$$arity=1);c.def(d,"$friday?",w=function(){return 5==this.$wday()},w.$$arity=0);c.def(d,"$hash",fa=function(){return"Time:"+
this.getTime()},fa.$$arity=0);c.def(d,"$hour",Q=function(){return this.is_utc?this.getUTCHours():this.getHours()},Q.$$arity=0);c.def(d,"$inspect",ea=function(){return g(this["$utc?"]())?this.$strftime("%Y-%m-%d %H:%M:%S UTC"):this.$strftime("%Y-%m-%d %H:%M:%S %z")},ea.$$arity=0);c.alias(d,"mday","day");c.def(d,"$min",N=function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()},N.$$arity=0);c.def(d,"$mon",O=function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1},O.$$arity=0);
c.def(d,"$monday?",X=function(){return 1==this.$wday()},X.$$arity=0);c.alias(d,"month","mon");c.def(d,"$saturday?",R=function(){return 6==this.$wday()},R.$$arity=0);c.def(d,"$sec",P=function(){return this.is_utc?this.getUTCSeconds():this.getSeconds()},P.$$arity=0);c.def(d,"$succ",ja=function(){var a=new Date(this.getTime()+1E3);a.is_utc=this.is_utc;return a},ja.$$arity=0);c.def(d,"$usec",Z=function(){return 1E3*this.getMilliseconds()},Z.$$arity=0);c.def(d,"$zone",H=function(){var a=this.toString(),
b;b=-1==a.indexOf("(")?a.match(/[A-Z]{3,4}/)[0]:a.match(/\((.+)\)(?:\s|$)/)[1];return"GMT"==b&&/(GMT\W*\d{4})/.test(a)?RegExp.$1:b},H.$$arity=0);c.def(d,"$getgm",ba=function(){var a=new Date(this.getTime());a.is_utc=!0;return a},ba.$$arity=0);c.alias(d,"getutc","getgm");c.def(d,"$gmtime",T=function(){this.is_utc=!0;return this},T.$$arity=0);c.alias(d,"utc","gmtime");c.def(d,"$gmt?",ga=function(){return!0===this.is_utc},ga.$$arity=0);c.def(d,"$gmt_offset",ca=function(){return 60*-this.getTimezoneOffset()},
ca.$$arity=0);c.def(d,"$strftime",aa=function(a){var b=this;return a.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(a,d,c,e,g){e="";var f=-1!==d.indexOf("0"),h=-1===d.indexOf("-"),l=-1!==d.indexOf("_"),n=-1!==d.indexOf("^"),m=-1!==d.indexOf("#"),q=(d.match(":")||[]).length;c=parseInt(c,10);f&&l&&(d.indexOf("0")<d.indexOf("_")?f=!1:l=!1);switch(g){case "Y":e+=b.$year();break;case "C":f=!l;e+=Math.round(b.$year()/100);break;case "y":f=!l;e+=b.$year()%100;break;case "m":f=!l;e+=b.$mon();break;
case "B":e+=va[b.$mon()-1];break;case "b":case "h":l=!f;e+=ua[b.$mon()-1];break;case "d":f=!l;e+=b.$day();break;case "e":l=!f;e+=b.$day();break;case "j":e+=b.$yday();break;case "H":f=!l;e+=b.$hour();break;case "k":l=!f;e+=b.$hour();break;case "I":f=!l;e+=b.$hour()%12||12;break;case "l":l=!f;e+=b.$hour()%12||12;break;case "P":e+=12<=b.$hour()?"pm":"am";break;case "p":e+=12<=b.$hour()?"PM":"AM";break;case "M":f=!l;e+=b.$min();break;case "S":f=!l;e+=b.$sec();break;case "L":f=!l;c=isNaN(c)?3:c;e+=b.getMilliseconds();
break;case "N":c=isNaN(c)?9:c;e+=b.getMilliseconds().toString().$rjust(3,"0");e=e.$ljust(c,"0");break;case "z":a=b.getTimezoneOffset();d=Math.floor(Math.abs(a)/60);g=Math.abs(a)%60;e=e+(0>a?"+":"-")+(10>d?"0":"");e+=d;0<q&&(e+=":");e+=10>g?"0":"";e+=g;1<q&&(e+=":00");break;case "Z":e+=b.$zone();break;case "A":e+=ra[b.$wday()];break;case "a":e+=wa[b.$wday()];break;case "u":e+=b.$wday()+1;break;case "w":e+=b.$wday();break;case "V":e+=b.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case "G":e+=
b.$cweek_cyear()["$[]"](1);break;case "g":e+=b.$cweek_cyear()["$[]"](1)["$[]"](F(-2,-1,!1));break;case "s":e+=b.$to_i();break;case "n":e+="\n";break;case "t":e+="\t";break;case "%":e+="%";break;case "c":e+=b.$strftime("%a %b %e %T %Y");break;case "D":case "x":e+=b.$strftime("%m/%d/%y");break;case "F":e+=b.$strftime("%Y-%m-%d");break;case "v":e+=b.$strftime("%e-%^b-%4Y");break;case "r":e+=b.$strftime("%I:%M:%S %p");break;case "R":e+=b.$strftime("%H:%M");break;case "T":case "X":e+=b.$strftime("%H:%M:%S");
break;default:return a}n&&(e=e.toUpperCase());m&&(e=e.replace(/[A-Z]/,function(a){a.toLowerCase()}).replace(/[a-z]/,function(a){a.toUpperCase()}));h&&(f||l)&&(e=e.$rjust(isNaN(c)?2:c,l?" ":"0"));return e})},aa.$$arity=1);c.def(d,"$sunday?",sa=function(){return 0==this.$wday()},sa.$$arity=0);c.def(d,"$thursday?",la=function(){return 4==this.$wday()},la.$$arity=0);c.def(d,"$to_a",ma=function(){return[this.$sec(),this.$min(),this.$hour(),this.$day(),this.$month(),this.$year(),this.$wday(),this.$yday(),
this.$isdst(),this.$zone()]},ma.$$arity=0);c.def(d,"$to_f",ha=function(){return this.getTime()/1E3},ha.$$arity=0);c.def(d,"$to_i",pa=function(){return parseInt(this.getTime()/1E3,10)},pa.$$arity=0);c.alias(d,"to_s","inspect");c.def(d,"$tuesday?",Y=function(){return 2==this.$wday()},Y.$$arity=0);c.alias(d,"tv_sec","to_i");c.alias(d,"tv_usec","usec");c.alias(d,"utc?","gmt?");c.alias(d,"gmtoff","gmt_offset");c.alias(d,"utc_offset","gmt_offset");c.def(d,"$wday",qa=function(){return this.is_utc?this.getUTCDay():
this.getDay()},qa.$$arity=0);c.def(d,"$wednesday?",na=function(){return 3==this.$wday()},na.$$arity=0);c.def(d,"$year",ia=function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()},ia.$$arity=0);return(c.def(d,"$cweek_cyear",xa=function(){var a,b=A,d=A,c=d=d=b=A,c=A,b=v(f,"Time").$new(this.$year(),1,1),d=b.$wday(),b=this.$year();g(g(a=r(d,4))?d["$!="](0):a)?d=u(d,1):(d=u(u(d,7),1),d["$=="](-8)&&(d=-1));d=E(z(this.$yday(),d),7).$ceil();if(g(r(d,0)))return v(f,"Time").$new(u(this.$year(),
1),12,31).$cweek_cyear();d["$=="](53)&&(c=v(f,"Time").$new(this.$year(),12,31),c=c.$wday(),g(g(a=r(c,3))?c["$!="](0):a)&&(d=1,b=z(b,1)));return[d,b]},xa.$$arity=0),A)&&"cweek_cyear"}(k[0],Date,k)},Opal.modules["corelib/struct"]=function(c){function z(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function E(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function u(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function r(a,c){return"number"===
typeof a&&"number"===typeof c?a>=c:a["$>="](c)}function p(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var k=c.top,A=[],v=c.nil,x=c.const_get_relative,a=c.klass,g=c.truthy,F=c.send,t=c.hash2;c.add_stubs("$require $include $const_name! $unshift $map $coerce_to! $new $each $define_struct_attribute $allocate $initialize $alias_method $module_eval $to_proc $const_set $== $raise $<< $members $define_method $instance_eval $class $last $> $length $- $keys $any? $join $[] $[]= $each_with_index $hash $=== $< $-@ $size $>= $include? $to_sym $instance_of? $__id__ $eql? $enum_for $name $+ $each_pair $inspect $each_with_object $flatten $to_a $respond_to? $dig".split(" "));
k.$require("corelib/enumerable");return function(k,$super,h){function b(){}k=b=a(k,$super,"Struct",b);var d=[k].concat(h),f,m,S,l,e,q,n,A,ka,C,da,L,ta,W,J,I,w,fa,Q;k.$include(x(d,"Enumerable"));c.defs(k,"$new",f=function(a,b,e){var h,l,n,m,q,k=f.$$p,w=k||v;n=v;n=c.slice.call(arguments,1,arguments.length);e=c.extract_kwargs(n);if(null==e||!e.$$is_hash)if(null==e)e=t([],{});else throw c.ArgumentError.$new("expected kwargs");m=e.$$smap.keyword_init;null==m&&(m=!1);q=0<n.length?n.splice(0,n.length-0):
[];k&&(f.$$p=null);if(g(a))try{a=x(d,"Opal")["$const_name!"](a)}catch(C){if(c.rescue(C,[x(d,"TypeError"),x(d,"NameError")]))try{q.$unshift(a),a=v}finally{c.pop_exception()}else throw C;}F(q,"map",[],(h=function(a){null==a&&(a=v);return x(d,"Opal")["$coerce_to!"](a,x(d,"String"),"to_str")},h.$$s=this,h.$$arity=1,h));n=F(x(d,"Class"),"new",[this],(l=function(){var a=l.$$s||this,b;F(q,"each",[],(b=function(a){var d=b.$$s||this;null==a&&(a=v);return d.$define_struct_attribute(a)},b.$$s=a,b.$$arity=1,
b));return function(a,b){[a].concat(b);var d;c.def(a,"$new",d=function(a){var b,d=v,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];d=this.$allocate();d.$$data={};F(d,"initialize",c.to_a(b));return d},d.$$arity=-1);return a.$alias_method("[]","new")}(c.get_singleton_class(a),d)},l.$$s=this,l.$$arity=0,l));g(w)&&F(n,"module_eval",[],w.$to_proc());n.$$keyword_init=m;g(a)&&x(d,"Struct").$const_set(a,n);return n},f.$$arity=-2);c.defs(k,"$define_struct_attribute",
m=function(a){var b,c;this["$=="](x(d,"Struct"))&&this.$raise(x(d,"ArgumentError"),"you cannot define attributes to the Struct class");this.$members()["$<<"](a);F(this,"define_method",[a],(b=function(){return(b.$$s||this).$$data[a]},b.$$s=this,b.$$arity=0,b));return F(this,"define_method",[""+a+"="],(c=function(b){var d=c.$$s||this;null==b&&(b=v);return d.$$data[a]=b},c.$$s=this,c.$$arity=1,c))},m.$$arity=1);c.defs(k,"$members",S=function(){var a;null==this.members&&(this.members=v);this["$=="](x(d,
"Struct"))&&this.$raise(x(d,"ArgumentError"),"the Struct class has no members");return this.members=g(a=this.members)?a:[]},S.$$arity=0);c.defs(k,"$inherited",l=function(a){var b,d=v;null==this.members&&(this.members=v);d=this.members;return F(a,"instance_eval",[],(b=function(){return(b.$$s||this).members=d},b.$$s=this,b.$$arity=0,b))},l.$$arity=1);c.def(k,"$initialize",e=function(a){var b,e,f,h,l=v,n=v,n=arguments.length,m=n-0;0>m&&(m=0);h=Array(m);for(m=0;m<n;m++)h[m-0]=arguments[m];if(g(this.$class().$$keyword_init))return l=
g(b=h.$last())?b:t([],{}),g(g(b=z(h.$length(),1))?b:1===h.length&&!l.$$is_hash)&&this.$raise(x(d,"ArgumentError"),"wrong number of arguments (given "+h.$length()+", expected 0)"),n=E(l.$keys(),this.$class().$members()),g(n["$any?"]())&&this.$raise(x(d,"ArgumentError"),"unknown keywords: "+n.$join(", ")),F(this.$class().$members(),"each",[],(e=function(a){var b=e.$$s||this,d=v;null==a&&(a=v);d=[a,l["$[]"](a)];F(b,"[]=",c.to_a(d));return d[E(d.length,1)]},e.$$s=this,e.$$arity=1,e));g(z(h.$length(),
this.$class().$members().$length()))&&this.$raise(x(d,"ArgumentError"),"struct size differs");return F(this.$class().$members(),"each_with_index",[],(f=function(a,b){var d=f.$$s||this,e=v;null==a&&(a=v);null==b&&(b=v);e=[a,h["$[]"](b)];F(d,"[]=",c.to_a(e));return e[E(e.length,1)]},f.$$s=this,f.$$arity=2,f))},e.$$arity=-1);c.def(k,"$members",q=function(){return this.$class().$members()},q.$$arity=0);c.def(k,"$hash",n=function(){return x(d,"Hash").$new(this.$$data).$hash()},n.$$arity=0);c.def(k,"$[]",
A=function(a){g(x(d,"Integer")["$==="](a))?(g(u(a,this.$class().$members().$size()["$-@"]()))&&this.$raise(x(d,"IndexError"),"offset "+a+" too small for struct(size:"+this.$class().$members().$size()+")"),g(r(a,this.$class().$members().$size()))&&this.$raise(x(d,"IndexError"),"offset "+a+" too large for struct(size:"+this.$class().$members().$size()+")"),a=this.$class().$members()["$[]"](a)):g(x(d,"String")["$==="](a))?this.$$data.hasOwnProperty(a)||this.$raise(x(d,"NameError").$new("no member '"+
a+"' in struct",a)):this.$raise(x(d,"TypeError"),"no implicit conversion of "+a.$class()+" into Integer");a=x(d,"Opal")["$coerce_to!"](a,x(d,"String"),"to_str");return this.$$data[a]},A.$$arity=1);c.def(k,"$[]=",ka=function(a,b){g(x(d,"Integer")["$==="](a))?(g(u(a,this.$class().$members().$size()["$-@"]()))&&this.$raise(x(d,"IndexError"),"offset "+a+" too small for struct(size:"+this.$class().$members().$size()+")"),g(r(a,this.$class().$members().$size()))&&this.$raise(x(d,"IndexError"),"offset "+
a+" too large for struct(size:"+this.$class().$members().$size()+")"),a=this.$class().$members()["$[]"](a)):g(x(d,"String")["$==="](a))?g(this.$class().$members()["$include?"](a.$to_sym()))||this.$raise(x(d,"NameError").$new("no member '"+a+"' in struct",a)):this.$raise(x(d,"TypeError"),"no implicit conversion of "+a.$class()+" into Integer");a=x(d,"Opal")["$coerce_to!"](a,x(d,"String"),"to_str");return this.$$data[a]=b},ka.$$arity=2);c.def(k,"$==",C=function(a){function b(a,g){var f,h,l;c[a.$__id__()]=
!0;e[g.$__id__()]=!0;for(f in a.$$data)if(h=a.$$data[f],l=g.$$data[f],x(d,"Struct")["$==="](h)){if(!(c.hasOwnProperty(h.$__id__())&&e.hasOwnProperty(l.$__id__())||b(h,l)))return!1}else if(!h["$=="](l))return!1;return!0}if(!g(a["$instance_of?"](this.$class())))return!1;var c={},e={};return b(this,a)},C.$$arity=1);c.def(k,"$eql?",da=function(a){function b(a,g){var f,h,l;c[a.$__id__()]=!0;e[g.$__id__()]=!0;for(f in a.$$data)if(h=a.$$data[f],l=g.$$data[f],x(d,"Struct")["$==="](h)){if(!(c.hasOwnProperty(h.$__id__())&&
e.hasOwnProperty(l.$__id__())||b(h,l)))return!1}else if(!h["$eql?"](l))return!1;return!0}if(!g(a["$instance_of?"](this.$class())))return!1;var c={},e={};return b(this,a)},da.$$arity=1);c.def(k,"$each",L=function(){var a,b,d=L.$$p,e=d||v;d&&(L.$$p=null);if(e===v)return F(this,"enum_for",["each"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));F(this.$class().$members(),"each",[],(b=function(a){var d=b.$$s||this;null==a&&(a=v);return c.yield1(e,d["$[]"](a))},b.$$s=this,b.$$arity=
1,b));return this},L.$$arity=0);c.def(k,"$each_pair",ta=function(){var a,b,d=ta.$$p,e=d||v;d&&(ta.$$p=null);if(e===v)return F(this,"enum_for",["each_pair"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));F(this.$class().$members(),"each",[],(b=function(a){var d=b.$$s||this;null==a&&(a=v);return c.yield1(e,[a,d["$[]"](a)])},b.$$s=this,b.$$arity=1,b));return this},ta.$$arity=0);c.def(k,"$length",W=function(){return this.$class().$members().$length()},W.$$arity=0);c.alias(k,"size",
"length");c.def(k,"$to_a",J=function(){var a;return F(this.$class().$members(),"map",[],(a=function(b){var d=a.$$s||this;null==b&&(b=v);return d["$[]"](b)},a.$$s=this,a.$$arity=1,a))},J.$$arity=0);c.alias(k,"values","to_a");c.def(k,"$inspect",I=function(){var a,b,c=v,c="#<struct ";g(g(a=x(d,"Struct")["$==="](this))?this.$class().$name():a)&&(c=p(c,""+this.$class()+" "));c=p(c,F(this.$each_pair(),"map",[],(b=function(a,b){null==a&&(a=v);null==b&&(b=v);return""+a+"="+b.$inspect()},b.$$s=this,b.$$arity=
2,b)).$join(", "));return c=p(c,">")},I.$$arity=0);c.alias(k,"to_s","inspect");c.def(k,"$to_h",w=function(){var a;return F(this.$class().$members(),"each_with_object",[t([],{})],(a=function(b,d){var e=a.$$s||this,g=v;null==b&&(b=v);null==d&&(d=v);g=[b,e["$[]"](b)];F(d,"[]=",c.to_a(g));return g[E(g.length,1)]},a.$$s=this,a.$$arity=2,a))},w.$$arity=0);c.def(k,"$values_at",fa=function(a){var b,c,e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var g=0;g<e;g++)c[g-0]=arguments[g];c=F(c,"map",[],(b=
function(a){null==a&&(a=v);return a.$$is_range?a.$to_a():a},b.$$s=this,b.$$arity=1,b)).$flatten();b=[];e=0;for(g=c.length;e<g;e++)c[e].$$is_number||this.$raise(x(d,"TypeError"),"no implicit conversion of "+c[e].$class()+" into Integer"),b.push(this["$[]"](c[e]));return b},fa.$$arity=-1);return(c.def(k,"$dig",Q=function(a,b){var e,f=v,f=arguments.length;e=f-1;0>e&&(e=0);e=Array(e);for(var h=1;h<f;h++)e[h-1]=arguments[h];f=g(a.$$is_string&&this.$$data.hasOwnProperty(a))?this.$$data[a]||v:v;if(f===v||
0===e.length)return f;g(f["$respond_to?"]("dig"))||this.$raise(x(d,"TypeError"),""+f.$class()+" does not have #dig method");return F(f,"dig",c.to_a(e))},Q.$$arity=-2),v)&&"dig"}(A[0],null,A)},Opal.modules["corelib/io"]=function(c){function z(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}var E=[],u=c.nil,r=c.const_get_qualified,p=c.const_get_relative,k=c.klass,A=c.module,v=c.send,x=c.gvars,a=c.truthy,g=u;c.add_stubs("$attr_accessor $size $write $join $map $String $empty? $concat $chomp $getbyte $getc $raise $new $write_proc= $- $extend".split(" "));
(function(g,$super,y){function h(){}g=h=k(g,$super,"IO",h);var b=g.$$proto;y=[g].concat(y);var d,f,m,F;b.tty=b.closed=u;c.const_set(y[0],"SEEK_SET",0);c.const_set(y[0],"SEEK_CUR",1);c.const_set(y[0],"SEEK_END",2);c.def(g,"$tty?",d=function(){return this.tty},d.$$arity=0);c.def(g,"$closed?",f=function(){return this.closed},f.$$arity=0);g.$attr_accessor("write_proc");c.def(g,"$write",m=function(a){this.write_proc(a);return a.$size()},m.$$arity=1);g.$attr_accessor("sync","tty");c.def(g,"$flush",F=function(){return u},
F.$$arity=0);(function(b,d){var g=A(b,"Writable");[g].concat(d);var f,h,m;c.def(g,"$<<",f=function(a){this.$write(a);return this},f.$$arity=1);c.def(g,"$print",h=function(a){var b,d;null==x[","]&&(x[","]=u);var c=arguments.length;d=c-0;0>d&&(d=0);d=Array(d);for(var e=0;e<c;e++)d[e-0]=arguments[e];this.$write(v(d,"map",[],(b=function(a){var d=b.$$s||this;null==a&&(a=u);return d.$String(a)},b.$$s=this,b.$$arity=1,b)).$join(x[","]));return u},h.$$arity=-1);c.def(g,"$puts",m=function(b){var d,c,e=u;null==
x["/"]&&(x["/"]=u);e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var g=0;g<e;g++)c[g-0]=arguments[g];e=x["/"];a(c["$empty?"]())?this.$write(x["/"]):this.$write(v(c,"map",[],(d=function(a){var b=d.$$s||this;null==a&&(a=u);return b.$String(a).$chomp()},d.$$s=this,d.$$arity=1,d)).$concat([u]).$join(e));return u},m.$$arity=-1)})(y[0],y);return function(a,b){var d=A(a,"Readable"),g=[d].concat(b),f,h,m,k;c.def(d,"$readbyte",f=function(){return this.$getbyte()},f.$$arity=0);c.def(d,"$readchar",h=function(){return this.$getc()},
h.$$arity=0);c.def(d,"$readline",m=function(a){null==x["/"]&&(x["/"]=u);return this.$raise(p(g,"NotImplementedError"))},m.$$arity=-1);c.def(d,"$readpartial",k=function(a,b){return this.$raise(p(g,"NotImplementedError"))},k.$$arity=-2)}(y[0],y)})(E[0],null,E);c.const_set(E[0],"STDERR",x.stderr=p(E,"IO").$new());c.const_set(E[0],"STDIN",x.stdin=p(E,"IO").$new());c.const_set(E[0],"STDOUT",x.stdout=p(E,"IO").$new());var F=c.global.console,g=["object"===typeof process&&"object"===typeof process.stdout?
function(a){process.stdout.write(a)}:function(a){F.log(a)}];v(p(E,"STDOUT"),"write_proc=",c.to_a(g));g[z(g.length,1)];g=["object"===typeof process&&"object"===typeof process.stderr?function(a){process.stderr.write(a)}:function(a){F.warn(a)}];v(p(E,"STDERR"),"write_proc=",c.to_a(g));g[z(g.length,1)];p(E,"STDOUT").$extend(r(p(E,"IO"),"Writable"));return p(E,"STDERR").$extend(r(p(E,"IO"),"Writable"))},Opal.modules["corelib/main"]=function(c){var z,E,u=c.top,r=[],p=c.nil,k=c.const_get_relative;c.add_stubs(["$include"]);
c.defs(u,"$to_s",z=function(){return"main"},z.$$arity=0);return(c.defs(u,"$include",E=function(c){return k(r,"Object").$include(c)},E.$$arity=1),p)&&"include"},Opal.modules["corelib/dir"]=function(c){var z=[],E=c.nil,u=c.const_get_relative,r=c.klass,p=c.truthy;c.add_stubs(["$[]"]);return function(k,$super,v){function x(){}k=x=r(k,$super,"Dir",x);v=[k].concat(v);return function(a,g){var k=[a].concat(g),t,B,y;c.def(a,"$chdir",t=function(a){var b=t.$$p,d=b||E,g=E;b&&(t.$$p=null);var m;a:{try{g=c.current_dir;
c.current_dir=a;m=c.yieldX(d,[]);break a}finally{c.current_dir=g}m=void 0}return m},t.$$arity=1);c.def(a,"$pwd",B=function(){return c.current_dir||"."},B.$$arity=0);c.alias(a,"getwd","pwd");return(c.def(a,"$home",y=function(){var a;return p(a=u(k,"ENV")["$[]"]("HOME"))?a:"."},y.$$arity=0),E)&&"home"}(c.get_singleton_class(k),v)}(z[0],null,z)},Opal.modules["corelib/file"]=function(c){function z(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function E(a,c){return"number"===typeof a&&
"number"===typeof c?a-c:a["$-"](c)}var u=[],r=c.nil,p=c.const_get_relative,k=c.klass,A=c.truthy,v=c.range,x=c.send;c.add_stubs("$home $raise $start_with? $+ $sub $pwd $split $unshift $join $respond_to? $coerce_to! $basename $empty? $rindex $[] $nil? $== $- $length $gsub $find $=~ $map $each_with_index $flatten $reject $to_proc $end_with?".split(" "));return function(a,$super,F){function t(){}a=t=k(a,$super,"File",t);F=[a].concat(F);var B=r;c.const_set(F[0],"Separator",c.const_set(F[0],"SEPARATOR",
"/"));c.const_set(F[0],"ALT_SEPARATOR",r);c.const_set(F[0],"PATH_SEPARATOR",":");c.const_set(F[0],"FNM_SYSCASE",0);B=/^[a-zA-Z]:(?:\\|\/)/;return function(a,h){function b(a){A(a["$respond_to?"]("to_path"))&&(a=a.$to_path());return a=p(f,"Opal")["$coerce_to!"](a,p(f,"String"),"to_str")}function d(){return p(f,"ALT_SEPARATOR")===r?c.escape_regexp(p(f,"SEPARATOR")):c.escape_regexp(z(p(f,"SEPARATOR"),p(f,"ALT_SEPARATOR")))}var f=[a].concat(h),m,k,l,e,q,n,t,F;c.def(a,"$expand_path",m=function(a,b){var c,
e=r,h=r,l=r,n=r,m=r,e=m=h=n=m=n=r;null==b&&(b=r);e=p(f,"SEPARATOR");h=d();l=[];A("~"===a[0]||b&&"~"===b[0])&&(n=p(f,"Dir").$home(),A(n)||this.$raise(p(f,"ArgumentError"),"couldn't find HOME environment -- expanding `~'"),A(n["$start_with?"](e))||this.$raise(p(f,"ArgumentError"),"non-absolute home"),n=z(n,e),m=new RegExp("^\\~(?:"+e+"|$)"),a=a.$sub(m,n),A(b)&&(b=b.$sub(m,n)));b=A(c=b)?c:p(f,"Dir").$pwd();n=a.substr(0,e.length)===e||B.test(a);m=b.substr(0,e.length)===e||B.test(b);A(n)?(n=a.$split(new RegExp("["+
h+"]")),h=B.test(a)?"":a.$sub(new RegExp("^(["+h+"]+).*$"),"\\1"),m=!0):(n=z(b.$split(new RegExp("["+h+"]")),a.$split(new RegExp("["+h+"]"))),h=B.test(b)?"":b.$sub(new RegExp("^(["+h+"]+).*$"),"\\1"));for(var q=0,k=n.length;q<k;q++)c=n[q],c===r||""===c&&(0===l.length||m)||"."===c&&(0===l.length||m)||(".."===c?l.pop():l.push(c));m||"."===n[0]||l.$unshift(".");e=l.$join(e);A(m)&&(e=z(h,e));return e},m.$$arity=-2);c.alias(a,"realpath","expand_path");c.def(a,"$dirname",k=function(a){var c=r,c=d();a=b(a);
var e=a.match(new RegExp("^["+c+"]"));a=a.replace(new RegExp("["+c+"]+$"),"");a=a.replace(new RegExp("[^"+c+"]+$"),"");a=a.replace(new RegExp("["+c+"]+$"),"");return""===a?e?"/":".":a},k.$$arity=1);c.def(a,"$basename",l=function(a,e){var h=r;null==e&&(e=r);h=d();a=b(a);if(0==a.length)return a;e=e!==r?p(f,"Opal")["$coerce_to!"](e,p(f,"String"),"to_str"):null;a=a.replace(new RegExp("(.)["+h+"]*$"),"$1");a=a.replace(new RegExp("^(?:.*["+h+"])?([^"+h+"]+)$"),"$1");".*"===e?a=a.replace(/\.[^\.]+$/,""):
null!==e&&(e=c.escape_regexp(e),a=a.replace(new RegExp(""+e+"$"),""));return a},l.$$arity=-2);c.def(a,"$extname",e=function(a){var d,e=r,f=r;a=b(a);e=this.$basename(a);if(A(e["$empty?"]()))return"";f=e["$[]"](v(1,-1,!1)).$rindex(".");return A(A(d=f["$nil?"]())?d:z(f,1)["$=="](E(e.$length(),1)))?"":e["$[]"](c.Range.$new(z(f,1),-1,!1))},e.$$arity=1);c.def(a,"$exist?",q=function(a){return null!=c.modules[a]},q.$$arity=1);c.alias(a,"exists?","exist?");c.def(a,"$directory?",n=function(a){var b,d=r,d=r,
d=[],e;for(e in c.modules)d.push(e);a=a.$gsub(new RegExp("(^."+p(f,"SEPARATOR")+"+|"+p(f,"SEPARATOR")+"+$)"));return d=x(d,"find",[],(b=function(b){null==b&&(b=r);return b["$=~"](new RegExp("^"+a))},b.$$s=this,b.$$arity=1,b))},n.$$arity=1);c.def(a,"$join",t=function(a){var b,d,c,e=r,h=arguments.length,l=h-0;0>l&&(l=0);c=Array(l);for(l=0;l<h;l++)c[l-0]=arguments[l];if(A(c["$empty?"]()))return"";e="";c=x(c.$flatten().$each_with_index(),"map",[],(b=function(a,b){null==a&&(a=r);null==b&&(b=r);return A(b["$=="](0)?
a["$empty?"]():b["$=="](0))?p(f,"SEPARATOR"):A(c.$length()["$=="](z(b,1))?a["$empty?"]():c.$length()["$=="](z(b,1)))?p(f,"SEPARATOR"):a},b.$$s=this,b.$$arity=2,b));c=x(c,"reject",[],"empty?".$to_proc());x(c,"each_with_index",[],(d=function(a,b){var d,h=r;null==a&&(a=r);null==b&&(b=r);h=c["$[]"](z(b,1));if(A(h["$nil?"]()))return e=""+e+a;A(A(d=a["$end_with?"](p(f,"SEPARATOR")))?h["$start_with?"](p(f,"SEPARATOR")):d)&&(a=a.$sub(new RegExp(""+p(f,"SEPARATOR")+"+$"),""));return e=A(A(d=a["$end_with?"](p(f,
"SEPARATOR")))?d:h["$start_with?"](p(f,"SEPARATOR")))?""+e+a:""+e+a+p(f,"SEPARATOR")},d.$$s=this,d.$$arity=2,d));return e},t.$$arity=-1);return(c.def(a,"$split",F=function(a){return a.$split(p(f,"SEPARATOR"))},F.$$arity=1),r)&&"split"}(c.get_singleton_class(a),F)}(u[0],p(u,"IO"),u)},Opal.modules["corelib/process"]=function(c){var z=[],E=c.nil,u=c.const_get_qualified,r=c.const_get_relative,p=c.klass,k=c.truthy;c.add_stubs("$const_set $size $<< $__register_clock__ $to_f $now $new $[] $raise".split(" "));
(function(A,$super,x){function a(){}A=a=p(A,$super,"Process",a);var g=[A].concat(x),F,t,B,y;x=E;A.__clocks__=[];c.defs(A,"$__register_clock__",F=function(a,d){null==this.__clocks__&&(this.__clocks__=E);this.$const_set(a,this.__clocks__.$size());return this.__clocks__["$<<"](d)},F.$$arity=2);A.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()});x=!1;if(c.global.performance)x=function(){return performance.now()};else if(c.global.process&&process.hrtime){var h=process.hrtime();x=function(){var a=
process.hrtime(h);return 1E3*a[0]+(a[1]/1E3|0)/1E3}}k(x)&&A.$__register_clock__("CLOCK_MONOTONIC",x);c.defs(A,"$pid",t=function(){return 0},t.$$arity=0);c.defs(A,"$times",B=function(){var a=E,a=r(g,"Time").$now().$to_f();return u(r(g,"Benchmark"),"Tms").$new(a,a,a,a,a)},B.$$arity=0);return(c.defs(A,"$clock_gettime",y=function(a,d){var c,h=E;null==this.__clocks__&&(this.__clocks__=E);null==d&&(d="float_second");k(c=h=this.__clocks__["$[]"](a))?c:this.$raise(u(r(g,"Errno"),"EINVAL"),"clock_gettime("+
a+") "+this.__clocks__["$[]"](a));c=h();switch(d){case "float_second":return c/1E3;case "float_millisecond":return c/1;case "float_microsecond":return 1E3*c;case "second":return c/1E3|0;case "millisecond":return c/1|0;case "microsecond":return 1E3*c|0;case "nanosecond":return 1E6*c|0;default:this.$raise(r(g,"ArgumentError"),"unexpected unit: "+d)}},y.$$arity=-2),E)&&"clock_gettime"})(z[0],null,z);(function(k,$super,r){function a(){}k=a=p(k,$super,"Signal",a);[k].concat(r);var g;return(c.defs(k,"$trap",
g=function(a){return E},g.$$arity=-1),E)&&"trap"})(z[0],null,z);return function(k,$super,r){function a(){}k=a=p(k,$super,"GC",a);[k].concat(r);var g;return(c.defs(k,"$start",g=function(){return E},g.$$arity=0),E)&&"start"}(z[0],null,z)},Opal.modules["corelib/random/seedrandom"]=function(c){var z=[],E=c.klass;return function(c,$super,p){function k(){}[k=E(c,$super,"Random",k)].concat(p);!function(c,k){function p(b,h,q){var C=[];h=1==h?{entropy:!0}:h||{};b=t(F(h.entropy?[b,y(c)]:null==b?B():b,3),C);
var x=new a(C),C=function(){for(var a=x.g(f),b=S,c=0;a<l;)a=(a+c)*d,b*=d,c=x.g(1);for(;a>=e;)a/=2,b/=2,c>>>=1;return(a+c)/b};return C.int32=function(){return 0|x.g(4)},C.quick=function(){return x.g(4)/4294967296},C["double"]=C,t(y(x.S),c),(h.pass||q||function(a,b,d,c){return c&&(c.S&&g(c,x),a.state=function(){return g(x,{})}),d?(k[m]=a,b):a})(C,b,"global"in h?h.global:this==k,h.state)}function a(a){var b,c=a.length,e=this,g=0,f=e.i=e.j=0,h=e.S=[];for(c||(a=[c++]);g<d;)h[g]=g++;for(g=0;g<d;g++)h[g]=
h[f=q&f+a[g%c]+(b=h[g])],h[f]=b;(e.g=function(a){for(var b,c=0,g=e.i,f=e.j,h=e.S;a--;)b=h[g=q&g+1],c=c*d+h[q&(h[g]=h[f=q&f+b])+(h[f]=b)];return e.i=g,e.j=f,c})(d)}function g(a,b){return b.i=a.i,b.j=a.j,b.S=a.S.slice(),b}function F(a,b){var d,c=[],e=typeof a;if(b&&"object"==e)for(d in a)if(a.hasOwnProperty(d))try{c.push(F(a[d],b-1))}catch(g){}return c.length?c:"string"==e?a:a+"\x00"}function t(a,b){for(var d,c=a+"",e=0;e<c.length;)b[q&e]=q&(d^=19*b[q&e])+c.charCodeAt(e++);return y(b)}function B(){try{if(h)return y(h.randomBytes(d));
var a=new Uint8Array(d);return(b.crypto||b.msCrypto).getRandomValues(a),y(a)}catch(e){return a=b.navigator,[+new Date,b,a&&a.plugins,b.screen,y(c)]}}function y(a){return String.fromCharCode.apply(0,a)}var h,b=this,d=256,f=6,m="random",S=k.pow(d,f),l=k.pow(2,52),e=2*l,q=d-1;if(k["seed"+m]=p,t(k.random(),c),"object"==typeof module&&module.exports){module.exports=p;try{h=require("crypto")}catch(n){}}else"function"==typeof define&&define.amd&&define("seekrandom",function(){return p})}([],Math)}(z[0],
null,z)},Opal.modules["corelib/random"]=function(c){var z=c.top,E=[],u=c.nil,r=c.const_get_relative,p=c.klass,k=c.truthy,A=c.send;c.add_stubs("$require $attr_reader $coerce_to! $reseed $new_seed $rand $seed $< $raise $encode $join $new $chr $=== $== $state".split(" "));z.$require("corelib/random/seedrandom.js");return function(v,$super,a){function g(){}v=g=p(v,$super,"Random",g);var F=[v].concat(a),t,B,y,h,b,d,f,m,S;v.$attr_reader("seed","state");c.def(v,"$initialize",t=function(a){null==a&&(a=r(F,
"Random").$new_seed());this.state=a=r(F,"Opal")["$coerce_to!"](a,r(F,"Integer"),"to_int");return this.$reseed(a)},t.$$arity=-1);c.def(v,"$reseed",B=function(a){this.seed=a;return this.$rng=new Math.seedrandom(a)},B.$$arity=1);var l=new Math.seedrandom("opal",{entropy:!0});c.defs(v,"$new_seed",y=function(){return Math.abs(l.int32())},y.$$arity=0);c.defs(v,"$rand",h=function(a){return r(F,"DEFAULT").$rand(a)},h.$$arity=-1);c.defs(v,"$srand",b=function(a){var b=u;null==a&&(a=r(F,"Random").$new_seed());
a=r(F,"Opal")["$coerce_to!"](a,r(F,"Integer"),"to_int");b=r(F,"DEFAULT").$seed();r(F,"DEFAULT").$reseed(a);return b},b.$$arity=-1);c.defs(v,"$urandom",d=function(a){var b;a=r(F,"Opal")["$coerce_to!"](a,r(F,"Integer"),"to_int");k("number"===typeof a?0>a:a["$<"](0))&&this.$raise(r(F,"ArgumentError"),"negative string size (or size too big)");return A(r(F,"Array"),"new",[a],(b=function(){return(b.$$s||this).$rand(255).$chr()},b.$$s=this,b.$$arity=0,b)).$join().$encode("ASCII-8BIT")},d.$$arity=1);c.const_set(F[0],
"DEFAULT",v.$new(v.$new_seed()));c.def(v,"$==",f=function(a){return k(r(F,"Random")["$==="](a))?this.$seed()["$=="](a.$seed())?this.$state()["$=="](a.$state()):this.$seed()["$=="](a.$seed()):!1},f.$$arity=1);c.def(v,"$bytes",m=function(a){var b;a=r(F,"Opal")["$coerce_to!"](a,r(F,"Integer"),"to_int");return A(r(F,"Array"),"new",[a],(b=function(){return(b.$$s||this).$rand(255).$chr()},b.$$s=this,b.$$arity=0,b)).$join().$encode("ASCII-8BIT")},m.$$arity=1);return(c.def(v,"$rand",S=function(a){function b(){c.state++;
return c.$rng.quick()}function d(){var b=a.begin,g=a.end;if(b===u||g===u)return u;var f=g-b;if(0>f)return u;if(0===f)return b;0!==g%1||0!==b%1||a.excl||f++;return c.$rand(f)+b}var c=this;if(null==a)return b();if(a.$$is_range)return d();if(a.$$is_number)return 0>=a&&c.$raise(r(F,"ArgumentError"),"invalid argument - "+a),0===a%1?Math.floor(b()*a):b()*a;a=r(F,"Opal")["$coerce_to!"](a,r(F,"Integer"),"to_int");0>=a&&c.$raise(r(F,"ArgumentError"),"invalid argument - "+a);return Math.floor(b()*a)},S.$$arity=
-1),u)&&"rand"}(E[0],null,E)},Opal.modules["corelib/unsupported"]=function(c){function z(g){switch(c.config.unsupported_features_severity){case "error":A(p,"Kernel").$raise(A(p,"NotImplementedError"),g);break;case "warning":a[g]||(a[g]=!0,r.$warn(g))}}var E,u,r=c.top,p=[],k=c.nil,A=c.const_get_relative,v=c.klass,x=c.module;c.add_stubs(["$raise","$warn","$%"]);var a={};(function(a,$super,t){function B(){}a=B=v(a,$super,"String",B);var y=[a].concat(t),h,b,d,f,m,p,l,e,q,n,r,x,C,u,L,z,W,J,I;c.def(a,"$<<",
h=function(a){return this.$raise(A(y,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("<<"))},h.$$arity=-1);c.def(a,"$capitalize!",b=function(a){return this.$raise(A(y,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("capitalize!"))},b.$$arity=-1);c.def(a,"$chomp!",d=function(a){return this.$raise(A(y,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chomp!"))},
d.$$arity=-1);c.def(a,"$chop!",f=function(a){return this.$raise(A(y,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chop!"))},f.$$arity=-1);c.def(a,"$downcase!",m=function(a){return this.$raise(A(y,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("downcase!"))},m.$$arity=-1);c.def(a,"$gsub!",p=function(a){return this.$raise(A(y,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("gsub!"))},
p.$$arity=-1);c.def(a,"$lstrip!",l=function(a){return this.$raise(A(y,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("lstrip!"))},l.$$arity=-1);c.def(a,"$next!",e=function(a){return this.$raise(A(y,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("next!"))},e.$$arity=-1);c.def(a,"$reverse!",q=function(a){return this.$raise(A(y,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("reverse!"))},
q.$$arity=-1);c.def(a,"$slice!",n=function(a){return this.$raise(A(y,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("slice!"))},n.$$arity=-1);c.def(a,"$squeeze!",r=function(a){return this.$raise(A(y,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("squeeze!"))},r.$$arity=-1);c.def(a,"$strip!",x=function(a){return this.$raise(A(y,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("strip!"))},
x.$$arity=-1);c.def(a,"$sub!",C=function(a){return this.$raise(A(y,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("sub!"))},C.$$arity=-1);c.def(a,"$succ!",u=function(a){return this.$raise(A(y,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("succ!"))},u.$$arity=-1);c.def(a,"$swapcase!",L=function(a){return this.$raise(A(y,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("swapcase!"))},
L.$$arity=-1);c.def(a,"$tr!",z=function(a){return this.$raise(A(y,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr!"))},z.$$arity=-1);c.def(a,"$tr_s!",W=function(a){return this.$raise(A(y,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr_s!"))},W.$$arity=-1);c.def(a,"$upcase!",J=function(a){return this.$raise(A(y,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("upcase!"))},
J.$$arity=-1);return(c.def(a,"$prepend",I=function(a){return this.$raise(A(y,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("prepend"))},I.$$arity=-1),k)&&"prepend"})(p[0],null,p);(function(a,k){var t=x(a,"Kernel");[t].concat(k);var B,y;c.def(t,"$freeze",B=function(){z("Object freezing is not supported by Opal");return this},B.$$arity=0);c.def(t,"$frozen?",y=function(){z("Object freezing is not supported by Opal");return!1},y.$$arity=0)})(p[0],
p);(function(a,k){var t=x(a,"Kernel");[t].concat(k);var B,y,h;c.def(t,"$taint",B=function(){z("Object tainting is not supported by Opal");return this},B.$$arity=0);c.def(t,"$untaint",y=function(){z("Object tainting is not supported by Opal");return this},y.$$arity=0);c.def(t,"$tainted?",h=function(){z("Object tainting is not supported by Opal");return!1},h.$$arity=0)})(p[0],p);(function(a,$super,t){function B(){}a=B=v(a,$super,"Module",B);[a].concat(t);var y,h,b,d;c.def(a,"$public",y=function(a){var b,
d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var c=0;c<d;c++)b[c-0]=arguments[c];0===b.length&&(this.$$module_function=!1);return k},y.$$arity=-1);c.alias(a,"private","public");c.alias(a,"protected","public");c.alias(a,"nesting","public");c.def(a,"$private_class_method",h=function(a){return this},h.$$arity=-1);c.alias(a,"public_class_method","private_class_method");c.def(a,"$private_method_defined?",b=function(a){return!1},b.$$arity=1);c.def(a,"$private_constant",d=function(a){return k},d.$$arity=
-1);c.alias(a,"protected_method_defined?","private_method_defined?");c.alias(a,"public_instance_methods","instance_methods");return c.alias(a,"public_method_defined?","method_defined?")})(p[0],null,p);(function(a,k){var t=x(a,"Kernel");[t].concat(k);var B;c.def(t,"$private_methods",B=function(a){return[]},B.$$arity=-1);c.alias(t,"private_instance_methods","private_methods")})(p[0],p);(function(a,k){var t=x(a,"Kernel"),B=[t].concat(k),y;c.def(t,"$eval",y=function(a){return this.$raise(A(B,"NotImplementedError"),
"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+A(B,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},y.$$arity=-1)})(p[0],p);c.defs(r,"$public",E=function(a){return k},E.$$arity=-1);return(c.defs(r,"$private",u=function(a){return k},u.$$arity=-1),k)&&"private"},function(c){var z=c.top;c.add_stubs(["$require"]);z.$require("opal/base");z.$require("opal/mini");z.$require("corelib/string/inheritance");z.$require("corelib/string/encoding");
z.$require("corelib/math");z.$require("corelib/complex");z.$require("corelib/rational");z.$require("corelib/time");z.$require("corelib/struct");z.$require("corelib/io");z.$require("corelib/main");z.$require("corelib/dir");z.$require("corelib/file");z.$require("corelib/process");z.$require("corelib/random");return z.$require("corelib/unsupported")}(Opal));
(function(c,z){"object"===typeof module&&module.exports?module.exports=z:"function"===typeof define&&define.amd?define("asciidoctor",["module"],function(c){return z(c.config())}):c.Asciidoctor=z})(this,function(c){Opal.modules["asciidoctor/js/opal_ext/nashorn/dir"]=function(a){var c=[],k=a.klass;return function(c,$super,g){function h(){}c=h=k(c,$super,"Dir",h);g=[c].concat(g);return function(b,d){[b].concat(d);var c;a.def(b,"$pwd",c=function(){return Java.type("java.nio.file.Paths").get("").toAbsolutePath().toString()},
c.$$arity=0);return a.alias(b,"getwd","pwd")}(a.get_singleton_class(c),g)}(c[0],null,c)};Opal.modules["asciidoctor/js/opal_ext/nashorn/file"]=function(a){var c=[],k=a.nil,t=a.klass;return function(c,$super,g){function b(){}c=b=t(c,$super,"File",b);[c].concat(g);var d;return(a.defs(c,"$read",d=function(a){var b=Java.type("java.nio.file.Paths"),d=[];Java.type("java.nio.file.Files").readAllLines(b.get(a),Java.type("java.nio.charset.StandardCharsets").UTF_8).forEach(function(a){d.push(a)});return d.join("\n")},
d.$$arity=1),k)&&"read"}(c[0],null,c)};Opal.modules["asciidoctor/js/opal_ext/nashorn/io"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var k=a.nil,t=a.send,B=a.gvars,y=k;null==B.stdout&&(B.stdout=k);null==B.stderr&&(B.stderr=k);a.add_stubs(["$write_proc=","$-"]);y=[function(a){print(a)}];t(B.stdout,"write_proc=",a.to_a(y));y[c(y.length,1)];y=[function(a){print(a)}];t(B.stderr,"write_proc=",a.to_a(y));return y[c(y.length,1)]};Opal.modules["asciidoctor/js/opal_ext/electron/io"]=
function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var k=a.nil,t=a.send,B=a.gvars,y=k;null==B.stdout&&(B.stdout=k);null==B.stderr&&(B.stderr=k);a.add_stubs(["$write_proc=","$-"]);y=[function(a){console.log(a)}];t(B.stdout,"write_proc=",a.to_a(y));y[c(y.length,1)];y=[function(a){console.error(a)}];t(B.stderr,"write_proc=",a.to_a(y));return y[c(y.length,1)]};Opal.modules["asciidoctor/js/opal_ext/phantomjs/file"]=function(a){var c=[],k=a.nil,t=a.klass;return function(c,
$super,g){function b(){}c=b=t(c,$super,"File",b);[c].concat(g);var d;return(a.defs(c,"$read",d=function(a){return require("fs").read(a)},d.$$arity=1),k)&&"read"}(c[0],null,c)};Opal.modules["asciidoctor/js/opal_ext/spidermonkey/file"]=function(a){var c=[],k=a.nil,t=a.klass;return function(c,$super,g){function b(){}c=b=t(c,$super,"File",b);[c].concat(g);var d;return(a.defs(c,"$read",d=function(a){return read(a)},d.$$arity=1),k)&&"read"}(c[0],null,c)};Opal.modules["asciidoctor/js/opal_ext/browser/file"]=
function(a){var c=[],k=a.nil,t=a.const_get_relative,B=a.klass;a.add_stubs(["$new"]);return function(c,$super,b){function d(){}c=d=B(c,$super,"File",d);var g=[c].concat(b),m;return(a.defs(c,"$read",m=function(a){var b="",d=-1;try{var c=new XMLHttpRequest;c.open("GET",a,!1);c.addEventListener("load",function(){d=this.status;if(0===d||200===d)b=this.responseText});c.overrideMimeType("text/plain");c.send()}catch(n){throw t(g,"IOError").$new("Error reading file or directory: "+a+"; reason: "+n.message);
}if(404===d||0===d&&!b)throw t(g,"IOError").$new("No such file or directory: "+a);return b},m.$$arity=1),k)&&"read"}(c[0],null,c)};Opal.modules["asciidoctor/js/opal_ext/umd"]=function(a){var g,k=a.top,t=[],B=a.nil,y=a.const_get_relative,h=a.truthy;a.add_stubs(["$==","$require"]);var b="object"===typeof process&&"object"===typeof process.versions&&1!=process.browser,d="object"===typeof navigator&&"string"===typeof navigator.userAgent&&-1!==typeof navigator.userAgent.indexOf("Electron"),f="object"===
typeof window,m="object"===typeof Java&&Java.type,p="object"===typeof java,l="object"===typeof window&&"object"===typeof window.phantom,e="function"===typeof importScripts,q="object"===typeof JSRuntime,n,v,r,C;"object"===typeof c&&"object"===typeof c.runtime&&(C=c.runtime,n=C.platform,v=C.engine,r=C.framework,C=C.ioModule);"undefined"===typeof n&&(b?(n=n||"node",v=v||"v8",d&&(r=r||"electron")):m?(n=n||"java",v=v||"nashorn"):p?(n=n||"java",v=v||"rhino"):q?(n=n||"standalone",r=r||"spidermonkey"):f&&
(n=n||"browser",l&&(r=r||"phantomjs")),e&&(r=r||"webworker"));if("undefined"===typeof n)throw Error("Unable to automatically detect the JavaScript platform, please configure Asciidoctor.js: `Asciidoctor({runtime: {platform: 'node'}})`");"undefined"===typeof r&&(r="");"undefined"===typeof v&&(v="");if("undefined"!==typeof C){if("spidermonkey"!==C&&"phantomjs"!==C&&"node"!==C&&"java_nio"!==C&&"xmlhttprequest"!==C)throw Error("Invalid IO module, `config.ioModule` must be one of: spidermonkey, phantomjs, node, java_nio or xmlhttprequest");
}else if("spidermonkey"===r)C="spidermonkey";else if("phantomjs"===r)C="phantomjs";else if("node"===n)C="node";else if("nashorn"===v)C="java_nio";else if("browser"===n||"undefined"!==typeof XmlHTTPRequest)C="xmlhttprequest";else throw Error("Unable to automatically detect the IO module, please configure Asciidoctor.js: `Asciidoctor({runtime: {ioModule: 'node'}})`");a.const_set(t[0],"JAVASCRIPT_IO_MODULE",C);a.const_set(t[0],"JAVASCRIPT_PLATFORM",n);a.const_set(t[0],"JAVASCRIPT_ENGINE",v);a.const_set(t[0],
"JAVASCRIPT_FRAMEWORK",r);h(h(g=y(t,"JAVASCRIPT_ENGINE")["$=="]("nashorn"))?g:y(t,"JAVASCRIPT_IO_MODULE")["$=="]("java_nio"))&&(k.$require("asciidoctor/js/opal_ext/nashorn/dir"),k.$require("asciidoctor/js/opal_ext/nashorn/file"),k.$require("asciidoctor/js/opal_ext/nashorn/io"));y(t,"JAVASCRIPT_FRAMEWORK")["$=="]("electron")&&k.$require("asciidoctor/js/opal_ext/electron/io");y(t,"JAVASCRIPT_PLATFORM")["$=="]("node")&&a.load("nodejs");y(t,"JAVASCRIPT_IO_MODULE")["$=="]("phantomjs")&&k.$require("asciidoctor/js/opal_ext/phantomjs/file");
y(t,"JAVASCRIPT_IO_MODULE")["$=="]("spidermonkey")&&k.$require("asciidoctor/js/opal_ext/spidermonkey/file");return y(t,"JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest")?k.$require("asciidoctor/js/opal_ext/browser/file"):B};Opal.modules.set=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function t(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}var B=[],y=a.nil,
h=a.const_get_relative,b=a.klass,d=a.hash2,f=a.truthy,m=a.send,p=a.module;a.add_stubs("$include $new $nil? $=== $raise $each $add $merge $class $respond_to? $subtract $dup $join $to_a $equal? $instance_of? $== $instance_variable_get $is_a? $size $all? $include? $[]= $- $enum_for $[] $<< $replace $delete $select $each_key $to_proc $empty? $eql? $instance_eval $clear $< $<= $keys".split(" "));(function(l,$super,q){function n(){}l=n=b(l,$super,"Set",n);var B=l.$$proto,p=[l].concat(q),C,r,v,S,x,J,I,w,
u,A,z,N,O,X,R,P,ja,Z,H,E,T,ga,ca,aa,sa,la,ma,ha;B.hash=y;l.$include(h(p,"Enumerable"));a.defs(l,"$[]",C=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var c=0;c<d;c++)b[c-0]=arguments[c];return this.$new(b)},C.$$arity=-1);a.def(l,"$initialize",r=function(b){var c,g=r.$$p,l=g||y;null==b&&(b=y);g&&(r.$$p=null);this.hash=d([],{});if(f(b["$nil?"]()))return y;f(h(p,"Enumerable")["$==="](b))||this.$raise(h(p,"ArgumentError"),"value must be enumerable");return f(l)?m(b,"each",[],(c=
function(b){var d=c.$$s||this;null==b&&(b=y);return d.$add(a.yield1(l,b))},c.$$s=this,c.$$arity=1,c)):this.$merge(b)},r.$$arity=-1);a.def(l,"$dup",v=function(){var a=y,a=this.$class().$new();return a.$merge(this)},v.$$arity=0);a.def(l,"$-",S=function(a){f(a["$respond_to?"]("each"))||this.$raise(h(p,"ArgumentError"),"value must be enumerable");return this.$dup().$subtract(a)},S.$$arity=1);a.alias(l,"difference","-");a.def(l,"$inspect",x=function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"},x.$$arity=
0);a.def(l,"$==",J=function(a){var b,d;return f(this["$equal?"](a))?!0:f(a["$instance_of?"](this.$class()))?this.hash["$=="](a.$instance_variable_get("@hash")):f(f(b=a["$is_a?"](h(p,"Set")))?this.$size()["$=="](a.$size()):b)?m(a,"all?",[],(d=function(a){var b=d.$$s||this;null==b.hash&&(b.hash=y);null==a&&(a=y);return b.hash["$include?"](a)},d.$$s=this,d.$$arity=1,d)):!1},J.$$arity=1);a.def(l,"$add",I=function(b){var d=y,d=[b,!0];m(this.hash,"[]=",a.to_a(d));d[c(d.length,1)];return this},I.$$arity=
1);a.alias(l,"<<","add");a.def(l,"$classify",w=function(){var b,d,f=w.$$p,l=f||y,n=y;f&&(w.$$p=null);if(l===y)return this.$enum_for("classify");n=m(h(p,"Hash"),"new",[],(b=function(d,f){var h=b.$$s||this,l=y;null==d&&(d=y);null==f&&(f=y);l=[f,h.$class().$new()];m(d,"[]=",a.to_a(l));return l[c(l.length,1)]},b.$$s=this,b.$$arity=2,b));m(this,"each",[],(d=function(b){null==b&&(b=y);return n["$[]"](a.yield1(l,b)).$add(b)},d.$$s=this,d.$$arity=1,d));return n},w.$$arity=0);a.def(l,"$collect!",u=function(){var b,
d=u.$$p,c=d||y,g=y;d&&(u.$$p=null);if(c===y)return this.$enum_for("collect!");g=this.$class().$new();m(this,"each",[],(b=function(b){null==b&&(b=y);return g["$<<"](a.yield1(c,b))},b.$$s=this,b.$$arity=1,b));return this.$replace(g)},u.$$arity=0);a.alias(l,"map!","collect!");a.def(l,"$delete",A=function(a){this.hash.$delete(a);return this},A.$$arity=1);a.def(l,"$delete?",z=function(a){return f(this["$include?"](a))?(this.$delete(a),this):y},z.$$arity=1);a.def(l,"$delete_if",N=function(){var b,d,c=N.$$p,
g=c||y;c&&(N.$$p=null);if(g===y)return this.$enum_for("delete_if");m(m(this,"select",[],(b=function(b){null==b&&(b=y);return a.yield1(g,b)},b.$$s=this,b.$$arity=1,b)),"each",[],(d=function(a){var b=d.$$s||this;null==b.hash&&(b.hash=y);null==a&&(a=y);return b.hash.$delete(a)},d.$$s=this,d.$$arity=1,d));return this},N.$$arity=0);a.def(l,"$add?",O=function(a){return f(this["$include?"](a))?y:this.$add(a)},O.$$arity=1);a.def(l,"$each",X=function(){var a=X.$$p,b=a||y;a&&(X.$$p=null);if(b===y)return this.$enum_for("each");
m(this.hash,"each_key",[],b.$to_proc());return this},X.$$arity=0);a.def(l,"$empty?",R=function(){return this.hash["$empty?"]()},R.$$arity=0);a.def(l,"$eql?",P=function(a){var b;return this.hash["$eql?"](m(a,"instance_eval",[],(b=function(){var a=b.$$s||this;null==a.hash&&(a.hash=y);return a.hash},b.$$s=this,b.$$arity=0,b)))},P.$$arity=1);a.def(l,"$clear",ja=function(){this.hash.$clear();return this},ja.$$arity=0);a.def(l,"$include?",Z=function(a){return this.hash["$include?"](a)},Z.$$arity=1);a.alias(l,
"member?","include?");a.def(l,"$merge",H=function(a){var b;m(a,"each",[],(b=function(a){var d=b.$$s||this;null==a&&(a=y);return d.$add(a)},b.$$s=this,b.$$arity=1,b));return this},H.$$arity=1);a.def(l,"$replace",E=function(a){this.$clear();this.$merge(a);return this},E.$$arity=1);a.def(l,"$size",T=function(){return this.hash.$size()},T.$$arity=0);a.alias(l,"length","size");a.def(l,"$subtract",ga=function(a){var b;m(a,"each",[],(b=function(a){var d=b.$$s||this;null==a&&(a=y);return d.$delete(a)},b.$$s=
this,b.$$arity=1,b));return this},ga.$$arity=1);a.def(l,"$|",ca=function(a){f(a["$respond_to?"]("each"))||this.$raise(h(p,"ArgumentError"),"value must be enumerable");return this.$dup().$merge(a)},ca.$$arity=1);a.def(l,"$superset?",aa=function(a){var b,d;f(b=a["$is_a?"](h(p,"Set")))?b:this.$raise(h(p,"ArgumentError"),"value must be a set");return f(k(this.$size(),a.$size()))?!1:m(a,"all?",[],(d=function(a){var b=d.$$s||this;null==a&&(a=y);return b["$include?"](a)},d.$$s=this,d.$$arity=1,d))},aa.$$arity=
1);a.alias(l,">=","superset?");a.def(l,"$proper_superset?",sa=function(a){var b,d;f(b=a["$is_a?"](h(p,"Set")))?b:this.$raise(h(p,"ArgumentError"),"value must be a set");return f(t(this.$size(),a.$size()))?!1:m(a,"all?",[],(d=function(a){var b=d.$$s||this;null==a&&(a=y);return b["$include?"](a)},d.$$s=this,d.$$arity=1,d))},sa.$$arity=1);a.alias(l,">","proper_superset?");a.def(l,"$subset?",la=function(a){var b,d;f(b=a["$is_a?"](h(p,"Set")))?b:this.$raise(h(p,"ArgumentError"),"value must be a set");
return f(k(a.$size(),this.$size()))?!1:m(this,"all?",[],(d=function(b){null==b&&(b=y);return a["$include?"](b)},d.$$s=this,d.$$arity=1,d))},la.$$arity=1);a.alias(l,"<=","subset?");a.def(l,"$proper_subset?",ma=function(a){var b,d;f(b=a["$is_a?"](h(p,"Set")))?b:this.$raise(h(p,"ArgumentError"),"value must be a set");return f(t(a.$size(),this.$size()))?!1:m(this,"all?",[],(d=function(b){null==b&&(b=y);return a["$include?"](b)},d.$$s=this,d.$$arity=1,d))},ma.$$arity=1);a.alias(l,"<","proper_subset?");
a.alias(l,"+","|");a.alias(l,"union","|");return(a.def(l,"$to_a",ha=function(){return this.hash.$keys()},ha.$$arity=0),y)&&"to_a"})(B[0],null,B);return function(b,d){var c=p(b,"Enumerable"),g=[c].concat(d),f;a.def(c,"$to_set",f=function(b,d){var c,e=f.$$p,l=e||y;null==b&&(b=h(g,"Set"));var q=arguments.length;c=q-1;0>c&&(c=0);c=Array(c);for(var k=1;k<q;k++)c[k-1]=arguments[k];e&&(f.$$p=null);return m(b,"new",[this].concat(a.to_a(c)),l.$to_proc())},f.$$arity=-1)}(B[0],B)};Opal.modules["asciidoctor/js/opal_ext/file"]=
function(a){var c=[],k=a.nil,t=a.const_get_relative,B=a.module,y=a.send,h=a.klass,b=a.truthy,d=a.gvars;a.add_stubs("$new $attr_reader $delete $gsub $read $size $to_enum $chomp $each_line $readlines $split".split(" "));(function(b,d){var c=B(b,"Kernel"),g=[c].concat(d),e;a.def(c,"$open",e=function(b,d){var c,f=e.$$p,h=f||k,m=k,m=arguments.length;c=m-1;0>c&&(c=0);c=Array(c);for(var B=1;B<m;B++)c[B-1]=arguments[B];f&&(e.$$p=null);m=y(t(g,"File"),"new",[b].concat(a.to_a(c)));return h!==k?a.yield1(h,m):
m},e.$$arity=-2)})(c[0],c);(function(c,$super,g){function l(){}c=l=h(c,$super,"File",l);var e=c.$$proto,q=[c].concat(g),n,y,B,C;e.eof=e.path=k;c.$attr_reader("eof");c.$attr_reader("lineno");c.$attr_reader("path");a.def(c,"$initialize",n=function(a,b){var d=k;null==b&&(b="r");this.path=a;this.contents=k;this.eof=!1;this.lineno=0;b=b.$delete("b");d=/:(.*)/;return this.flags=b=b.$gsub(d,"")},n.$$arity=-2);a.def(c,"$read",y=function(){var a=k;if(b(this.eof))return"";a=t(q,"File").$read(this.path);this.eof=
!0;this.lineno=a.$size();return a},y.$$arity=0);a.def(c,"$each_line",B=function(c){var e=B.$$p,g=e||k,f=k;null==d["/"]&&(d["/"]=k);null==c&&(c=d["/"]);e&&(B.$$p=null);if(b(this.eof))return g!==k?this:[].$to_enum();if(g!==k){f=t(q,"File").$read(this.path);this.eof=!1;this.lineno=0;for(var e=f.$chomp(),f=f.length!=e.length,e=e.split(c),h=0,l=e.length;h<l;h++)this.lineno+=1,h<l-1||f?a.yield1(g,e[h]+c):a.yield1(g,e[h]);this.eof=!0;return this}return this.$read().$each_line()},B.$$arity=-1);a.def(c,"$readlines",
C=function(){return t(q,"File").$readlines(this.path)},C.$$arity=0);return function(b,c){var e=[b].concat(c),g,f,h,l;a.def(b,"$readlines",g=function(a,b){var c=k;null==d["/"]&&(d["/"]=k);null==b&&(b=d["/"]);c=t(e,"File").$read(a);return c.$split(b)},g.$$arity=-2);a.def(b,"$file?",f=function(a){return!0},f.$$arity=1);a.def(b,"$readable?",h=function(a){return!0},h.$$arity=1);return(a.def(b,"$read",l=function(a){return""},l.$$arity=1),k)&&"read"}(a.get_singleton_class(c),q)})(c[0],null,c);return function(b,
$super,d){function c(){}b=c=h(b,$super,"IO",c);var e=[b].concat(d),g;return(a.defs(b,"$read",g=function(a){return t(e,"File").$read(a)},g.$$arity=1),k)&&"read"}(c[0],null,c)};Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(a){var c=[],k=a.nil,t=a.klass,B=a.send;a.add_stubs(["$[]=","$-"]);return function(c,$super,b){function d(){}c=d=t(c,$super,"MatchData",d);var g=c.$$proto;[c].concat(b);var m;g.matches=k;return(a.def(c,"$[]=",m=function(b,d){var c=k,c=[b,d];B(this.matches,"[]=",a.to_a(c));
var g=c,c=c.length,c="number"===typeof c?c-1:c["$-"](1);return g[c]},m.$$arity=2),k)&&"[]="}(c[0],null,c)};Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(a){var c=[],k=a.module;return function(c,g){var y=k(c,"Kernel");[y].concat(g);var h;a.def(y,"$freeze",h=function(){return this},h.$$arity=0)}(c[0],c)};Opal.modules["asciidoctor/js/opal_ext/thread_safe"]=function(a){var c=[],k=a.nil,t=a.const_get_qualified,B=a.module,y=a.klass;return function(a,b){var d=[B(a,"ThreadSafe")].concat(b);(function(a,
$super,b){function d(){}[d=y(a,$super,"Cache",d)].concat(b);return k})(d[0],t("::","Hash"),d)}(c[0],c)};Opal.modules["asciidoctor/js/opal_ext/string"]=function(a){var c=[],k=a.nil,t=a.klass,B=a.truthy,y=a.send;a.add_stubs("$method_defined? $< $length $bytes $to_s $byteslice $== $with_index $select $[] $even? $_original_unpack".split(" "));return function(c,$super,d){function g(){}c=g=t(c,$super,"String",g);[c].concat(d);var m,p;B(c["$method_defined?"]("limit_bytesize"))||a.def(c,"$limit_bytesize",
m=function(a){var d=k,d=this.$bytes().$length(),d="number"===typeof a&&"number"===typeof d?a<d:a["$<"](d);if(!B(d))return this.$to_s();d=this.$byteslice(0,a);return d.$to_s()},m.$$arity=1);B(c["$method_defined?"]("limit"))||a.alias(c,"limit","limit_bytesize");a.alias(c,"_original_unpack","unpack");return(a.def(c,"$unpack",p=function(a){var d;return a["$=="]("C3")?y(this["$[]"](0,3).$bytes().$select(),"with_index",[],(d=function(a,d){null==d&&(d=k);return d["$even?"]()},d.$$s=this,d.$$arity=2,d)):
this.$_original_unpack(a)},p.$$arity=1),k)&&"unpack"}(c[0],null,c)};Opal.modules["asciidoctor/js/opal_ext/uri"]=function(a){var c=[],k=a.const_get_relative,t=a.module;a.add_stubs(["$extend"]);return function(c,g){var h=t(c,"URI"),b=[h].concat(g),d,f;a.defs(h,"$parse",d=function(a){return a.$extend(k(b,"URI"))},d.$$arity=1);a.def(h,"$path",f=function(){return this},f.$$arity=0)}(c[0],c)};Opal.modules["asciidoctor/js/opal_ext"]=function(a){var c=a.top;a.add_stubs(["$require"]);c.$require("asciidoctor/js/opal_ext/file");
c.$require("asciidoctor/js/opal_ext/match_data");c.$require("asciidoctor/js/opal_ext/kernel");c.$require("asciidoctor/js/opal_ext/thread_safe");c.$require("asciidoctor/js/opal_ext/string");c.$require("asciidoctor/js/opal_ext/uri");c.$require("asciidoctor/js/opal_ext/umd")};Opal.modules["asciidoctor/js/rx"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var k=[],t=a.nil,B=a.const_get_relative,y=a.module,h=a.send,b=a.gvars,d=a.truthy;a.add_stubs(["$gsub","$+",
"$unpack_hex_range"]);return function(f,m){var k=y(f,"Asciidoctor"),l=[k].concat(m),e;a.const_set(l[0],"HEX_RANGE_RX",/([A-F0-9]{4})(?:-([A-F0-9]{4}))?/);a.defs(k,"$unpack_hex_range",e=function(a){var c;return h(a,"gsub",[B(l,"HEX_RANGE_RX")],(c=function(){var a,c;return"\\u"+((a=b["~"])===t?t:a["$[]"](1))+(d(a=(c=b["~"])===t?t:c["$[]"](2))?"-\\u"+((c=b["~"])===t?t:c["$[]"](2)):a)},c.$$s=this,c.$$arity=0,c))},e.$$arity=1);a.const_set(l[0],"P_L",c("A-Za-z",k.$unpack_hex_range("00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D037F03860388-038A038C038E-03A103A3-03F503F7-0481048A-052F0531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A0-08B20904-0939093D09500958-09610971-09800985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16F1-16F81700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191E1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A69DA6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A7ADA7B0A7B1A7F7-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFA9E0-A9E4A9E6-A9EFA9FA-A9FEAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA7E-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EAB30-AB5AAB5C-AB5FAB64AB65ABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC")));
a.const_set(l[0],"P_Nl",k.$unpack_hex_range("16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF"));a.const_set(l[0],"P_Nd",c("0-9",k.$unpack_hex_range("0660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0DE6-0DEF0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9A9F0-A9F9AA50-AA59ABF0-ABF9FF10-FF19")));a.const_set(l[0],
"P_Pc",k.$unpack_hex_range("005F203F20402054FE33FE34FE4D-FE4FFF3F"));a.const_set(l[0],"CC_ALPHA",""+B(l,"P_L")+B(l,"P_Nl"));a.const_set(l[0],"CG_ALPHA","["+B(l,"CC_ALPHA")+"]");a.const_set(l[0],"CC_ALNUM",""+B(l,"CC_ALPHA")+B(l,"P_Nd"));a.const_set(l[0],"CG_ALNUM","["+B(l,"CC_ALNUM")+"]");a.const_set(l[0],"CC_WORD",""+B(l,"CC_ALNUM")+B(l,"P_Pc"));a.const_set(l[0],"CG_WORD","["+B(l,"CC_WORD")+"]");a.const_set(l[0],"CG_BLANK","[ \\t]");a.const_set(l[0],"CC_EOL","(?=\\n|$)");a.const_set(l[0],"CG_GRAPH",
"[^\\s\\x00-\\x1F\\x7F]");a.const_set(l[0],"CC_ALL","[\\s\\S]")}(k[0],k)};Opal.modules.strscan=function(a){var c=[],k=a.nil,t=a.klass,B=a.send;a.add_stubs("$attr_reader $anchor $scan_until $length $size $rest $pos= $- $private".split(" "));return function(c,$super,b){function d(){}c=d=t(c,$super,"StringScanner",d);var g=c.$$proto;[c].concat(b);var m,p,l,e,q,n,r,v,C,x,u,A,z,J,I,w,fa,Q,ea,N,O,X,R,P,ja;g.pos=g.string=g.working=g.matched=g.prev_pos=g.match=k;c.$attr_reader("pos");c.$attr_reader("matched");
a.def(c,"$initialize",m=function(a){this.string=a;this.pos=0;this.matched=k;this.working=a;return this.match=[]},m.$$arity=1);c.$attr_reader("string");a.def(c,"$beginning_of_line?",p=function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)},p.$$arity=0);a.alias(c,"bol?","beginning_of_line?");a.def(c,"$scan",l=function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=k:"object"===typeof a?(this.prev_pos=this.pos,this.pos+=a[0].length,this.working=this.working.substring(a[0].length),
this.matched=a[0],this.match=a,a[0]):"string"===typeof a?(this.pos+=a.length,this.working=this.working.substring(a.length),a):k},l.$$arity=1);a.def(c,"$scan_until",e=function(a){a=this.$anchor(a);for(var b=this.pos,c=this.working,d;;)if(d=a.exec(c),b+=1,c=c.substr(1),null==d){if(0===c.length)return this.matched=k}else return this.matched=this.string.substr(this.pos,b-this.pos-1+d[0].length),this.prev_pos=b-1,this.pos=b,this.working=c.substr(d[0].length),this.matched},e.$$arity=1);a.def(c,"$[]",q=
function(a){var b=this.match;0>a&&(a+=b.length);return 0>a||a>=b.length||null==b[a]?k:b[a]},q.$$arity=1);a.def(c,"$check",n=function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=k:this.matched=a[0]},n.$$arity=1);a.def(c,"$check_until",r=function(a){var b=this.prev_pos,c=this.pos;a=this.$scan_until(a);a!==k&&(this.matched=a.substr(-1),this.working=this.string.substr(c));this.prev_pos=b;this.pos=c;return a},r.$$arity=1);a.def(c,"$peek",v=function(a){return this.working.substring(0,
a)},v.$$arity=1);a.def(c,"$eos?",C=function(){return 0===this.working.length},C.$$arity=0);a.def(c,"$exist?",x=function(a){a=a.exec(this.working);return null==a?k:0==a.index?0:a.index+1},x.$$arity=1);a.def(c,"$skip",u=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return this.matched=k;a=a[0];var b=a.length;this.matched=a;this.prev_pos=this.pos;this.pos+=b;this.working=this.working.substring(b);return b},u.$$arity=1);a.def(c,"$skip_until",A=function(a){a=this.$scan_until(a);if(a===
k)return k;this.matched=a.substr(-1);return a.length},A.$$arity=1);a.def(c,"$get_byte",z=function(){var a=k;this.pos<this.string.length?(this.prev_pos=this.pos,this.pos+=1,a=this.matched=this.working.substring(0,1),this.working=this.working.substring(1)):this.matched=k;return a},z.$$arity=0);a.alias(c,"getch","get_byte");a.def(c,"$match?",J=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return k;this.prev_pos=this.pos;return a[0].length},J.$$arity=1);a.def(c,"$pos=",I=function(a){0>
a&&(a+=this.string.$length());this.pos=a;return this.working=this.string.slice(a)},I.$$arity=1);a.def(c,"$matched_size",w=function(){return this.matched===k?k:this.matched.length},w.$$arity=0);a.def(c,"$post_match",fa=function(){return this.matched===k?k:this.string.substr(this.pos)},fa.$$arity=0);a.def(c,"$pre_match",Q=function(){return this.matched===k?k:this.string.substr(0,this.prev_pos)},Q.$$arity=0);a.def(c,"$reset",ea=function(){this.working=this.string;this.matched=k;return this.pos=0},ea.$$arity=
0);a.def(c,"$rest",N=function(){return this.working},N.$$arity=0);a.def(c,"$rest?",O=function(){return 0!==this.working.length},O.$$arity=0);a.def(c,"$rest_size",X=function(){return this.$rest().$size()},X.$$arity=0);a.def(c,"$terminate",R=function(){var b=k;this.match=k;b=[this.string.$length()];B(this,"pos=",a.to_a(b));var c=b,b=b.length,b="number"===typeof b?b-1:b["$-"](1);return c[b]},R.$$arity=0);a.def(c,"$unscan",P=function(){this.pos=this.prev_pos;this.match=this.prev_pos=k;return this},P.$$arity=
0);c.$private();return(a.def(c,"$anchor",ja=function(a){var b=a.toString().match(/\/([^\/]+)$/),b=b?b[1]:void 0;return new RegExp("^(?:"+a.source+")",b)},ja.$$arity=1),k)&&"anchor"}(c[0],null,c)};Opal.modules["asciidoctor/js"]=function(a){var c=a.top;a.add_stubs(["$require"]);c.$require("asciidoctor/js/opal_ext");c.$require("asciidoctor/js/rx");return c.$require("strscan")};Opal.modules.logger=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}var k=[],t=a.nil,
B=a.const_get_qualified,y=a.const_get_relative,h=a.klass,b=a.module,d=a.send,f=a.truthy;a.add_stubs("$include $to_h $map $constants $const_get $to_s $format $chr $strftime $message_as_string $=== $+ $message $class $join $backtrace $inspect $attr_reader $attr_accessor $new $key $upcase $raise $add $to_proc $<= $< $write $call $[] $now".split(" "));return function(m,$super,l){function e(){}m=e=h(m,$super,"Logger",e);var k=m.$$proto,n=[m].concat(l),p,F,C,r,v,x,u,J,I,w,A,z,ea,N,O;k.level=k.progname=
k.pipe=k.formatter=t;(function(c,d){var e=[b(c,"Severity")].concat(d);a.const_set(e[0],"DEBUG",0);a.const_set(e[0],"INFO",1);a.const_set(e[0],"WARN",2);a.const_set(e[0],"ERROR",3);a.const_set(e[0],"FATAL",4);a.const_set(e[0],"UNKNOWN",5)})(n[0],n);m.$include(y(n,"Severity"));a.const_set(n[0],"SEVERITY_LABELS",d(y(n,"Severity").$constants(),"map",[],(p=function(a){null==a&&(a=t);return[y(n,"Severity").$const_get(a),a.$to_s()]},p.$$s=m,p.$$arity=1,p)).$to_h());(function(b,$super,c){function d(){}b=
d=h(b,$super,"Formatter",d);var e=[b].concat(c),g,l;a.const_set(e[0],"MESSAGE_FORMAT","%s, [%s] %5s -- %s: %s\n");a.const_set(e[0],"DATE_TIME_FORMAT","%Y-%m-%dT%H:%M:%S.%6N");a.def(b,"$call",g=function(a,b,c,d){return this.$format(y(e,"MESSAGE_FORMAT"),a.$chr(),b.$strftime(y(e,"DATE_TIME_FORMAT")),a,c,this.$message_as_string(d))},g.$$arity=4);return(a.def(b,"$message_as_string",l=function(a){var b,c=t;return function(){c=a;if(B("::","String")["$==="](c))return a;if(B("::","Exception")["$==="](c)){var d=
""+a.$message()+" ("+a.$class()+")\n",e=(f(b=a.$backtrace())?b:[]).$join("\n");return"number"===typeof d&&"number"===typeof e?d+e:d["$+"](e)}return a.$inspect()}()},l.$$arity=1),t)&&"message_as_string"})(n[0],null,n);m.$attr_reader("level");m.$attr_accessor("progname");m.$attr_accessor("formatter");a.def(m,"$initialize",F=function(a){this.pipe=a;this.level=y(n,"DEBUG");return this.formatter=y(n,"Formatter").$new()},F.$$arity=1);a.def(m,"$level=",C=function(a){var b=t;return f(B("::","Integer")["$==="](a))?
this.level=a:f(b=y(n,"SEVERITY_LABELS").$key(a.$to_s().$upcase()))?this.level=b:this.$raise(y(n,"ArgumentError"),"invalid log level: "+a)},C.$$arity=1);a.def(m,"$info",r=function(a){var b=r.$$p,c=b||t;null==a&&(a=t);b&&(r.$$p=null);return d(this,"add",[y(n,"INFO"),t,a],c.$to_proc())},r.$$arity=-1);a.def(m,"$debug",v=function(a){var b=v.$$p,c=b||t;null==a&&(a=t);b&&(v.$$p=null);return d(this,"add",[y(n,"DEBUG"),t,a],c.$to_proc())},v.$$arity=-1);a.def(m,"$warn",x=function(a){var b=x.$$p,c=b||t;null==
a&&(a=t);b&&(x.$$p=null);return d(this,"add",[y(n,"WARN"),t,a],c.$to_proc())},x.$$arity=-1);a.def(m,"$error",u=function(a){var b=u.$$p,c=b||t;null==a&&(a=t);b&&(u.$$p=null);return d(this,"add",[y(n,"ERROR"),t,a],c.$to_proc())},u.$$arity=-1);a.def(m,"$fatal",J=function(a){var b=J.$$p,c=b||t;null==a&&(a=t);b&&(J.$$p=null);return d(this,"add",[y(n,"FATAL"),t,a],c.$to_proc())},J.$$arity=-1);a.def(m,"$unknown",I=function(a){var b=I.$$p,c=b||t;null==a&&(a=t);b&&(I.$$p=null);return d(this,"add",[y(n,"UNKNOWN"),
t,a],c.$to_proc())},I.$$arity=-1);a.def(m,"$info?",w=function(){return c(this.level,y(n,"INFO"))},w.$$arity=0);a.def(m,"$debug?",A=function(){return c(this.level,y(n,"DEBUG"))},A.$$arity=0);a.def(m,"$warn?",z=function(){return c(this.level,y(n,"WARN"))},z.$$arity=0);a.def(m,"$error?",ea=function(){return c(this.level,y(n,"ERROR"))},ea.$$arity=0);a.def(m,"$fatal?",N=function(){return c(this.level,y(n,"FATAL"))},N.$$arity=0);return(a.def(m,"$add",O=function(b,c,d){var e,g=O.$$p,h=g||t;null==c&&(c=t);
null==d&&(d=t);g&&(O.$$p=null);var g=b=f(e=b)?e:y(n,"UNKNOWN"),l=this.level,g="number"===typeof g&&"number"===typeof l?g<l:g["$<"](l);if(f(g))return!0;d=f(e=d)?e:this.progname;f(c)||(h!==t?c=a.yieldX(h,[]):(c=d,d=this.progname));this.pipe.$write(this.formatter.$call(f(e=y(n,"SEVERITY_LABELS")["$[]"](b))?e:"ANY",B("::","Time").$now(),d,c));return!0},O.$$arity=-2),t)&&"add"}(k[0],null,k)};Opal.modules["asciidoctor/logging"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?
a-b:a["$-"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}var t=a.top,B=[],y=a.nil,h=a.const_get_qualified,b=a.const_get_relative,d=a.module,f=a.klass,m=a.send,p=a.truthy,l=a.hash2,e=a.gvars;a.add_stubs("$require $attr_reader $progname= $- $new $formatter= $level= $> $[] $=== $inspect $map $constants $const_get $to_sym $<< $clear $empty? $max $attr_accessor $memoize_logger $private $alias_method $== $define_method $extend $logger $merge".split(" "));t.$require("logger");
return function(q,n){var t=[d(q,"Asciidoctor")].concat(n);(function(e,$super,n){function q(){}e=q=f(e,$super,"Logger",q);var t=e.$$proto,B=[e].concat(n),r,v;t.max_severity=y;e.$attr_reader("max_severity");a.def(e,"$initialize",r=function(d){var e,f=r.$$p,h=y,l=e=h=y,h=arguments.length;e=h-0;0>e&&(e=0);e=Array(e);for(l=0;l<h;l++)e[l-0]=arguments[l];f&&(r.$$p=null);e=0;l=arguments.length;for(h=Array(l);e<l;e++)h[e]=arguments[e];m(this,a.find_super_dispatcher(this,"initialize",r,!1),h,f);h=["asciidoctor"];
m(this,"progname=",a.to_a(h));h[c(h.length,1)];h=[b(B,"BasicFormatter").$new()];m(this,"formatter=",a.to_a(h));h[c(h.length,1)];h=[b(B,"WARN")];m(this,"level=",a.to_a(h));return h[c(h.length,1)]},r.$$arity=-1);a.def(e,"$add",v=function(c,d,e){var g,f=v.$$p,h=y,l=y,n=y;null==d&&(d=y);null==e&&(e=y);f&&(v.$$p=null);l=0;n=arguments.length;for(h=Array(n);l<n;l++)h[l]=arguments[l];p(k(c=p(g=c)?g:b(B,"UNKNOWN"),this.max_severity=p(g=this.max_severity)?g:c))&&(this.max_severity=c);return m(this,a.find_super_dispatcher(this,
"add",v,!1),h,f)},v.$$arity=-2);(function(c,$super,d){function e(){}c=e=f(c,$super,"BasicFormatter",e);var g=[c].concat(d),n;a.const_set(g[0],"SEVERITY_LABELS",l(["WARN","FATAL"],{WARN:"WARNING",FATAL:"FAILED"}));return(a.def(c,"$call",n=function(a,c,d,e){var f;return""+d+": "+(p(f=b(g,"SEVERITY_LABELS")["$[]"](a))?f:a)+": "+(p(h("::","String")["$==="](e))?e:e.$inspect())+"\n"},n.$$arity=4),y)&&"call"})(B[0],b(B,"Formatter"),B);return function(b,c){var e=d(b,"AutoFormattingMessage");[e].concat(c);
var g;a.def(e,"$inspect",g=function(){var a=y;return p(a=this["$[]"]("source_location"))?""+a+": "+this["$[]"]("text"):this["$[]"]("text")},g.$$arity=0)}(B[0],B)})(t[0],h("::","Logger"),t);(function(d,$super,e){function n(){}d=n=f(d,$super,"MemoryLogger",n);var k=d.$$proto,q=[d].concat(e),t,B,w,F,r,v;k.messages=y;a.const_set(q[0],"SEVERITY_LABELS",h("::","Hash")["$[]"](m(b(q,"Severity").$constants(),"map",[],(t=function(a){null==a&&(a=y);return[b(q,"Severity").$const_get(a),a.$to_sym()]},t.$$s=d,
t.$$arity=1,t))));d.$attr_reader("messages");a.def(d,"$initialize",B=function(){var d=y,d=[b(q,"WARN")];m(this,"level=",a.to_a(d));d[c(d.length,1)];return this.messages=[]},B.$$arity=0);a.def(d,"$add",w=function(c,d,e){var g=w.$$p,f=g||y;null==d&&(d=y);null==e&&(e=y);g&&(w.$$p=null);p(d)||(d=f!==y?a.yieldX(f,[]):e);this.messages["$<<"](l(["severity","message"],{severity:b(q,"SEVERITY_LABELS")["$[]"](p(c)?c:b(q,"UNKNOWN")),message:d}));return!0},w.$$arity=-2);a.def(d,"$clear",F=function(){return this.messages.$clear()},
F.$$arity=0);a.def(d,"$empty?",r=function(){return this.messages["$empty?"]()},r.$$arity=0);return(a.def(d,"$max_severity",v=function(){var a;return p(this["$empty?"]())?y:m(this.messages,"map",[],(a=function(a){null==a&&(a=y);return b(q,"Severity").$const_get(a["$[]"]("severity"))},a.$$s=this,a.$$arity=1,a)).$max()},v.$$arity=0),y)&&"max_severity"})(t[0],h("::","Logger"),t);(function(c,$super,d){function e(){}c=e=f(c,$super,"NullLogger",e);var g=c.$$proto,h=[c].concat(d),l,n;g.max_severity=y;c.$attr_reader("max_severity");
a.def(c,"$initialize",l=function(){return y},l.$$arity=0);return(a.def(c,"$add",n=function(a,c,d){var e;p(k(a=p(e=a)?e:b(h,"UNKNOWN"),this.max_severity=p(e=this.max_severity)?e:a))&&(this.max_severity=a);return!0},n.$$arity=-2),y)&&"add"})(t[0],h("::","Logger"),t);(function(c,g){var f=d(c,"LoggerManager"),h=[f].concat(g);f.logger_class=b(h,"Logger");(function(c,d){var g=[c].concat(d),f,h,l;c.$attr_accessor("logger_class");a.def(c,"$logger",f=function(a){var b;null==this.logger&&(this.logger=y);null==
this.logger_class&&(this.logger_class=y);null==e.stderr&&(e.stderr=y);null==a&&(a=e.stderr);this.$memoize_logger();return this.logger=p(b=this.logger)?b:this.logger_class.$new(a)},f.$$arity=-1);a.def(c,"$logger=",h=function(a){null==this.logger_class&&(this.logger_class=y);null==e.stderr&&(e.stderr=y);return this.logger=p(a)?a:this.logger_class.$new(e.stderr)},h.$$arity=1);c.$private();return(a.def(c,"$memoize_logger",l=function(){return function(a,c){var d=[a].concat(c),e;a.$alias_method("logger",
"logger");return b(d,"RUBY_ENGINE")["$=="]("opal")?m(a,"define_method",["logger"],(e=function(){var a=e.$$s||this;null==a.logger&&(a.logger=y);return a.logger},e.$$s=a,e.$$arity=0,e)):y}(a.get_singleton_class(this),g)},l.$$arity=0),y)&&"memoize_logger"})(a.get_singleton_class(f),h)})(t[0],t);(function(c,e){var g=d(c,"Logging"),f=[g].concat(e),n,m,k;a.defs(g,"$included",n=function(a){return a.$extend(b(f,"Logging"))},n.$$arity=1);g.$private();a.def(g,"$logger",m=function(){return b(f,"LoggerManager").$logger()},
m.$$arity=0);a.def(g,"$message_with_context",k=function(a,c){null==c&&(c=l([],{}));return l(["text"],{text:a}).$merge(c).$extend(h(b(f,"Logger"),"AutoFormattingMessage"))},k.$$arity=-2)})(t[0],t)}(B[0],B)};Opal.modules["asciidoctor/timings"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var k=[],t=a.nil,B=a.const_get_qualified,y=a.const_get_relative,h=a.module,b=a.klass,d=a.hash2,f=a.send,m=a.truthy,p=a.gvars;a.add_stubs("$now $[]= $- $delete $reduce $+ $[] $> $time $puts $% $to_f $read_parse $convert $read_parse_convert $const_defined? $respond_to? $clock_gettime".split(" "));
return function(l,e){var k=[h(l,"Asciidoctor")].concat(e);(function(e,$super,h){function l(){}e=l=b(e,$super,"Timings",l);var k=e.$$proto,q=[e].concat(h),F,r,v,x,w,u,A,z,N,O,X,R,P,ja,Z;k.timers=k.log=t;a.def(e,"$initialize",F=function(){this.log=d([],{});return this.timers=d([],{})},F.$$arity=0);a.def(e,"$start",r=function(b){var d=t,d=[b,this.$now()];f(this.timers,"[]=",a.to_a(d));return d[c(d.length,1)]},r.$$arity=1);a.def(e,"$record",v=function(b){var d=t,d=[b,c(this.$now(),this.timers.$delete(b))];
f(this.log,"[]=",a.to_a(d));return d[c(d.length,1)]},v.$$arity=1);a.def(e,"$time",x=function(a){var b,c,d=t,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];d=f(c,"reduce",[0],(b=function(a,c){var d=b.$$s||this,e;null==d.log&&(d.log=t);null==a&&(a=t);null==c&&(c=t);d=m(e=d.log["$[]"](c))?e:0;return"number"===typeof a&&"number"===typeof d?a+d:a["$+"](d)},b.$$s=this,b.$$arity=2,b));return m("number"===typeof d?0<d:d["$>"](0))?d:t},x.$$arity=-1);a.def(e,"$read",
w=function(){return this.$time("read")},w.$$arity=0);a.def(e,"$parse",u=function(){return this.$time("parse")},u.$$arity=0);a.def(e,"$read_parse",A=function(){return this.$time("read","parse")},A.$$arity=0);a.def(e,"$convert",z=function(){return this.$time("convert")},z.$$arity=0);a.def(e,"$read_parse_convert",N=function(){return this.$time("read","parse","convert")},N.$$arity=0);a.def(e,"$write",O=function(){return this.$time("write")},O.$$arity=0);a.def(e,"$total",X=function(){return this.$time("read",
"parse","convert","write")},X.$$arity=0);a.def(e,"$print_report",R=function(a,b){null==p.stdout&&(p.stdout=t);null==a&&(a=p.stdout);null==b&&(b=t);m(b)&&a.$puts("Input file: "+b);a.$puts("  Time to read and parse source: "+"%05.5f"["$%"](this.$read_parse().$to_f()));a.$puts("  Time to convert document: "+"%05.5f"["$%"](this.$convert().$to_f()));return a.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](this.$read_parse_convert().$to_f()))},R.$$arity=-1);return m(m(P=B("::","Process")["$const_defined?"]("CLOCK_MONOTONIC"))?
B("::","Process")["$respond_to?"]("clock_gettime"):P)?(a.const_set(q[0],"CLOCK_ID",B(B("::","Process"),"CLOCK_MONOTONIC")),(a.def(e,"$now",ja=function(){return B("::","Process").$clock_gettime(y(q,"CLOCK_ID"))},ja.$$arity=0),t)&&"now"):(a.def(e,"$now",Z=function(){return B("::","Time").$now()},Z.$$arity=0),t)&&"now"})(k[0],null,k)}(k[0],k)};Opal.modules["asciidoctor/version"]=function(a){var c=[],k=a.module,c=[k(c[0],"Asciidoctor")].concat(c);a.const_set(c[0],"VERSION","1.5.7.1")};Opal.modules["asciidoctor/core_ext/nil_or_empty"]=
function(a){var c=[],k=a.nil,t=a.klass,B=a.truthy;a.add_stubs(["$method_defined?"]);(function(c,$super,b){function d(){}c=d=t(c,$super,"NilClass",d);[c].concat(b);return B(c["$method_defined?"]("nil_or_empty?"))?k:a.alias(c,"nil_or_empty?","nil?")})(c[0],null,c);(function(c,$super,b){function d(){}c=d=t(c,$super,"String",d);[c].concat(b);return B(c["$method_defined?"]("nil_or_empty?"))?k:a.alias(c,"nil_or_empty?","empty?")})(c[0],null,c);(function(c,$super,b){function d(){}c=d=t(c,$super,"Array",
d);[c].concat(b);return B(c["$method_defined?"]("nil_or_empty?"))?k:a.alias(c,"nil_or_empty?","empty?")})(c[0],null,c);(function(c,$super,b){function d(){}c=d=t(c,$super,"Hash",d);[c].concat(b);return B(c["$method_defined?"]("nil_or_empty?"))?k:a.alias(c,"nil_or_empty?","empty?")})(c[0],null,c);return function(c,$super,b){function d(){}c=d=t(c,$super,"Numeric",d);[c].concat(b);return B(c["$method_defined?"]("nil_or_empty?"))?k:a.alias(c,"nil_or_empty?","nil?")}(c[0],null,c)};Opal.modules["asciidoctor/core_ext/regexp/is_match"]=
function(a){var c=[],k=a.nil,t=a.klass,B=a.truthy;a.add_stubs(["$method_defined?"]);return function(c,$super,b){function d(){}c=d=t(c,$super,"Regexp",d);[c].concat(b);return B(c["$method_defined?"]("match?"))?k:a.alias(c,"match?","===")}(c[0],null,c)};Opal.modules["asciidoctor/core_ext/string/limit_bytesize"]=function(a){var c=[],k=a.nil,t=a.const_get_qualified,B=a.klass,p=a.truthy;a.add_stubs("$method_defined? $< $bytesize $valid_encoding? $force_encoding $byteslice $-".split(" "));return function(c,
$super,d){function g(){}c=g=B(c,$super,"String",g);[c].concat(d);var m;return p(c["$method_defined?"]("limit_bytesize"))?k:(a.def(c,"$limit_bytesize",m=function(a){var c=k,c=this.$bytesize(),c="number"===typeof a&&"number"===typeof c?a<c:a["$<"](c);if(!p(c))return this;for(;!p((c=this.$byteslice(0,a)).$force_encoding(t(t("::","Encoding"),"UTF_8"))["$valid_encoding?"]());)a="number"===typeof a?a-1:a["$-"](1);return c},m.$$arity=1),k)&&"limit_bytesize"}(c[0],null,c)};Opal.modules["asciidoctor/core_ext/1.8.7/io/binread"]=
function(a){var c,k=[],t=a.nil,B=a.const_get_relative,p=a.truthy,h=a.send;a.add_stubs(["$respond_to?","$open","$==","$seek","$read"]);return p(B(k,"IO")["$respond_to?"]("binread"))?t:(a.defs(B(k,"IO"),"$binread",c=function(a,c,g){var m;null==c&&(c=t);null==g&&(g=0);return h(B(k,"File"),"open",[a,"rb"],(m=function(a){null==a&&(a=t);g["$=="](0)||a.$seek(g);return p(c)?a.$read(c):a.$read()},m.$$s=this,m.$$arity=1,m))},c.$$arity=-2),t)&&"binread"};Opal.modules["asciidoctor/core_ext/1.8.7/io/write"]=function(a){var c,
k=[],t=a.nil,B=a.const_get_relative,p=a.truthy,h=a.send;a.add_stubs(["$respond_to?","$open","$write"]);return p(B(k,"IO")["$respond_to?"]("write"))?t:(a.defs(B(k,"IO"),"$write",c=function(a,c,g,m){var p;null==g&&(g=0);null==m&&(m=t);return h(B(k,"File"),"open",[a,"w"],(p=function(a){null==a&&(a=t);return a.$write(c)},p.$$s=this,p.$$arity=1,p))},c.$$arity=-3),t)&&"write"};Opal.modules["asciidoctor/core_ext"]=function(a){var c=a.top,k=[],t=a.nil,B=a.const_get_relative,p=a.truthy;a.add_stubs(["$require",
"$==","$!="]);c.$require("asciidoctor/core_ext/nil_or_empty");c.$require("asciidoctor/core_ext/regexp/is_match");if(p(B(k,"RUBY_MIN_VERSION_1_9")))return c.$require("asciidoctor/core_ext/string/limit_bytesize"),B(k,"RUBY_ENGINE")["$=="]("opal")?(c.$require("asciidoctor/core_ext/1.8.7/io/binread"),c.$require("asciidoctor/core_ext/1.8.7/io/write")):t;p(B(k,"RUBY_ENGINE")["$!="]("opal"));return t};Opal.modules["asciidoctor/helpers"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?
a-b:a["$-"](b)}var k=[],t=a.nil,B=a.const_get_qualified,p=a.const_get_relative,h=a.module,b=a.truthy,d=a.send,f=a.range,m=a.gvars,r=a.hash2;a.add_stubs("$require $include? $include $== $=== $raise $warn $logger $chomp $message $normalize_lines_from_string $normalize_lines_array $empty? $unpack $[] $slice $map $each_line $encode $force_encoding $join $rstrip $[]= $- $encoding $nil_or_empty? $match? $=~ $gsub $each_byte $sprintf $rindex $length $basename $extname $directory? $dirname $mkdir_p $mkdir $divmod $*".split(" "));
return function(l,e){var k=[h(l,"Asciidoctor")].concat(e);(function(e,l){var k=h(e,"Helpers"),q=[k].concat(l),F,v,x,u,J,I,w,A,z,E,N;a.defs(k,"$require_library",F=function(c,d,e){var g=t,f=t;null==d&&(d=!0);null==e&&(e="abort");try{return this.$require(c)}catch(h){if(a.rescue(h,[B("::","LoadError")])){g=h;try{return b(this["$include?"](p(q,"Logging")))||this.$include(p(q,"Logging")),b(d)?(d["$=="](!0)&&(d=c),f=e,"abort"["$==="](f)?this.$raise(B("::","LoadError"),"asciidoctor: FAILED: required gem '"+
d+"' is not installed. Processing aborted."):"warn"["$==="](f)&&this.$logger().$warn("optional gem '"+d+"' is not installed. Functionality disabled.")):(f=e,"abort"["$==="](f)?this.$raise(B("::","LoadError"),"asciidoctor: FAILED: "+g.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](f)&&this.$logger().$warn(""+g.$message().$chomp(".")+". Functionality disabled.")),t}finally{a.pop_exception()}}else throw h;}},F.$$arity=-2);a.defs(k,"$normalize_lines",v=function(a){return b(B("::","String")["$==="](a))?
this.$normalize_lines_from_string(a):this.$normalize_lines_array(a)},v.$$arity=1);a.defs(k,"$normalize_lines_array",x=function(e){var h,l,n,k,m=t,w=t,F=t,r=t,m=t;if(b(e["$empty?"]()))return e;m=(w=e["$[]"](0)).$unpack("C3");if(b(p(q,"COERCE_ENCODING"))){F=B(B("::","Encoding"),"UTF_8");if((r=m.$slice(0,2))["$=="](p(q,"BOM_BYTES_UTF_16LE")))return d(e.$join().$force_encoding(B(B("::","Encoding"),"UTF_16LE"))["$[]"](f(1,-1,!1)).$encode(F).$each_line(),"map",[],(h=function(a){null==a&&(a=t);return a.$rstrip()},
h.$$s=this,h.$$arity=1,h));if(r["$=="](p(q,"BOM_BYTES_UTF_16BE")))return m=[0,w.$force_encoding(B(B("::","Encoding"),"UTF_16BE"))["$[]"](f(1,-1,!1))],d(e,"[]=",a.to_a(m)),m[c(m.length,1)],d(e,"map",[],(l=function(a){null==a&&(a=t);return""+a.$force_encoding(B(B("::","Encoding"),"UTF_16BE")).$encode(F).$rstrip()},l.$$s=this,l.$$arity=1,l));m["$=="](p(q,"BOM_BYTES_UTF_8"))&&(m=[0,w.$force_encoding(F)["$[]"](f(1,-1,!1))],d(e,"[]=",a.to_a(m)),m[c(m.length,1)]);return d(e,"map",[],(n=function(a){null==
a&&(a=t);return a.$encoding()["$=="](F)?a.$rstrip():a.$force_encoding(F).$rstrip()},n.$$s=this,n.$$arity=1,n))}m["$=="](p(q,"BOM_BYTES_UTF_8"))&&(m=[0,w["$[]"](f(3,-1,!1))],d(e,"[]=",a.to_a(m)),m[c(m.length,1)]);return d(e,"map",[],(k=function(a){null==a&&(a=t);return a.$rstrip()},k.$$s=this,k.$$arity=1,k))},x.$$arity=1);a.defs(k,"$normalize_lines_from_string",u=function(a){var c,e=t,g=t,h=t;if(b(a["$nil_or_empty?"]()))return[];e=a.$unpack("C3");b(p(q,"COERCE_ENCODING"))?(g=B(B("::","Encoding"),"UTF_8"),
(h=e.$slice(0,2))["$=="](p(q,"BOM_BYTES_UTF_16LE"))?a=a.$force_encoding(B(B("::","Encoding"),"UTF_16LE"))["$[]"](f(1,-1,!1)).$encode(g):h["$=="](p(q,"BOM_BYTES_UTF_16BE"))?a=a.$force_encoding(B(B("::","Encoding"),"UTF_16BE"))["$[]"](f(1,-1,!1)).$encode(g):e["$=="](p(q,"BOM_BYTES_UTF_8"))?a=a.$encoding()["$=="](g)?a["$[]"](f(1,-1,!1)):a.$force_encoding(g)["$[]"](f(1,-1,!1)):a.$encoding()["$=="](g)||(a=a.$force_encoding(g))):e["$=="](p(q,"BOM_BYTES_UTF_8"))&&(a=a["$[]"](f(3,-1,!1)));return d(a.$each_line(),
"map",[],(c=function(a){null==a&&(a=t);return a.$rstrip()},c.$$s=this,c.$$arity=1,c))},u.$$arity=1);a.defs(k,"$uriish?",J=function(a){var c;return b(c=a["$include?"](":"))?p(q,"UriSniffRx")["$match?"](a):c},J.$$arity=1);a.defs(k,"$uri_prefix",I=function(a){var c;return b(b(c=a["$include?"](":"))?p(q,"UriSniffRx")["$=~"](a):c)?(c=m["~"])===t?t:c["$[]"](0):t},I.$$arity=1);a.const_set(q[0],"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/);a.defs(k,"$uri_encode",w=function(a){var b;return d(a,"gsub",
[p(q,"REGEXP_ENCODE_URI_CHARS")],(b=function(){var a=b.$$s||this,c,e;return d(((c=m["~"])===t?t:c["$[]"](0)).$each_byte(),"map",[],(e=function(a){var b=e.$$s||this;null==a&&(a=t);return b.$sprintf("%%%02X",a)},e.$$s=a,e.$$arity=1,e)).$join()},b.$$s=this,b.$$arity=0,b))},w.$$arity=1);a.defs(k,"$rootname",A=function(a){var c;return a.$slice(0,b(c=a.$rindex("."))?c:a.$length())},A.$$arity=1);a.defs(k,"$basename",z=function(a,c){null==c&&(c=t);return b(c)?B("::","File").$basename(a,c["$=="](!0)?B("::",
"File").$extname(a):c):B("::","File").$basename(a)},z.$$arity=-2);a.defs(k,"$mkdir_p",E=function(c){var d=t;if(b(B("::","File")["$directory?"](c)))return t;(d=B("::","File").$dirname(c))["$=="](".")||this.$mkdir_p(d);try{return B("::","Dir").$mkdir(c)}catch(e){if(a.rescue(e,[B("::","SystemCallError")]))try{return b(B("::","File")["$directory?"](c))?t:this.$raise()}finally{a.pop_exception()}else throw e;}},E.$$arity=1);a.const_set(q[0],"ROMAN_NUMERALS",r("M CM D CD C XC L XL X IX V IV I".split(" "),
{M:1E3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1}));a.defs(k,"$int_to_roman",N=function(b){var c;return d(p(q,"ROMAN_NUMERALS"),"map",[],(c=function(c,d){var e,g,f=t;null==c&&(c=t);null==d&&(d=t);g=b.$divmod(d);e=a.to_ary(g);f=null==e[0]?t:e[0];b=null==e[1]?t:e[1];g;return"number"===typeof c&&"number"===typeof f?c*f:c["$*"](f)},c.$$s=this,c.$$arity=2,c)).$join()},N.$$arity=1)})(k[0],k)}(k[0],k)};Opal.modules["asciidoctor/substitutors"]=function(a){function c(a,b){return"number"===
typeof a&&"number"===typeof b?a+b:a["$+"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function t(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function y(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var h=[],b=a.nil,d=a.const_get_qualified,f=a.const_get_relative,m=a.slice,r=a.module,l=a.hash2,e=a.hash,q=a.truthy,n=a.send,v=a.gvars,x=a.range;
a.add_stubs("$freeze $+ $keys $chr $attr_reader $empty? $! $=== $[] $join $include? $extract_passthroughs $each $sub_specialchars $sub_quotes $sub_attributes $sub_replacements $sub_macros $highlight_source $sub_callouts $sub_post_replacements $warn $logger $restore_passthroughs $split $apply_subs $compat_mode $gsub $== $length $> $* $- $end_with? $parse_attributes $size $[]= $unescape_brackets $resolve_pass_subs $start_with? $extract_inner_passthrough $to_sym $attributes $basebackend? $=~ $to_i $convert $new $clear $match? $convert_quoted_text $do_replacement $sub $shift $store_attribute $!= $attribute_undefined $counter $key? $downcase $attribute_missing $tr_s $delete $reject $slice $strip $index $min $compact $map $chop $unescape_bracketed_text $pop $rstrip $extensions $inline_macros? $inline_macros $regexp $instance $names $config $dup $nil_or_empty? $process_method $register $tr $basename $split_simple_csv $normalize_string $!~ $parse $uri_encode $sub_inline_xrefs $sub_inline_anchors $find $footnotes $id $text $style $lstrip $parse_into $extname $catalog $fetch $outfilesuffix $natural_xrefs $key $attr? $escape $attr $read_next_id $callouts $< $<< $parse_quoted_text_attributes $shorthand_property_syntax $concat $each_char $& $resolve_subs $nil? $require_library $sub_source $resolve_highlight_lines $highlight $find_by_alias $find_by_mimetype $name $option? $to_a $uniq $sort $resolve_block_subs".split(" "));
return function(h,u){var A=[r(h,"Asciidoctor")].concat(u);(function(h,C){var u,I=u=r(h,"Substitutors"),w=[I].concat(C),A,z,L,N,E,X,R,P,ja,Z,H,ba,T,ga,ca,aa,da,la,ma,ha,pa,Y,qa,na,ia,xa,ra,wa,ua,va,ya,Aa,Ea,Ba;a.const_set(w[0],"SpecialCharsRx",/[<&>]/);a.const_set(w[0],"SpecialCharsTr",l([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"}));a.const_set(w[0],"QuotedTextSniffRx",e(!1,/[*_`#^~]/,!0,/[*'_+#^~]/));a.const_set(w[0],"BASIC_SUBS",["specialcharacters"]).$freeze();a.const_set(w[0],"HEADER_SUBS",
["specialcharacters","attributes"]).$freeze();a.const_set(w[0],"NORMAL_SUBS","specialcharacters quotes attributes replacements macros post_replacements".split(" ")).$freeze();a.const_set(w[0],"NONE_SUBS",[]).$freeze();a.const_set(w[0],"TITLE_SUBS","specialcharacters quotes replacements macros attributes post_replacements".split(" ")).$freeze();a.const_set(w[0],"REFTEXT_SUBS",["specialcharacters","quotes","replacements"]).$freeze();a.const_set(w[0],"VERBATIM_SUBS",["specialcharacters","callouts"]).$freeze();
a.const_set(w[0],"SUB_GROUPS",l(["none","normal","verbatim","specialchars"],{none:f(w,"NONE_SUBS"),normal:f(w,"NORMAL_SUBS"),verbatim:f(w,"VERBATIM_SUBS"),specialchars:f(w,"BASIC_SUBS")}));a.const_set(w[0],"SUB_HINTS",l("amnpqrcv".split(""),{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"}));a.const_set(w[0],"SUB_OPTIONS",l(["block","inline"],{block:c(c(f(w,"SUB_GROUPS").$keys(),f(w,"NORMAL_SUBS")),["callouts"]),inline:c(f(w,
"SUB_GROUPS").$keys(),f(w,"NORMAL_SUBS"))}));a.const_set(w[0],"SUB_HIGHLIGHT",["coderay","pygments"]);q(d("::","RUBY_MIN_VERSION_1_9"))?(a.const_set(w[0],"CAN","\u0018"),a.const_set(w[0],"DEL","\u007f"),a.const_set(w[0],"PASS_START","\u0096"),a.const_set(w[0],"PASS_END","\u0097")):(a.const_set(w[0],"CAN",(24).$chr()),a.const_set(w[0],"DEL",(127).$chr()),a.const_set(w[0],"PASS_START",(150).$chr()),a.const_set(w[0],"PASS_END",(151).$chr()));a.const_set(w[0],"PassSlotRx",new RegExp(""+f(w,"PASS_START")+
"(\\d+)"+f(w,"PASS_END")));a.const_set(w[0],"HighlightedPassSlotRx",new RegExp("<span\\b[^>]*>"+f(w,"PASS_START")+"</span>[^\\d]*(\\d+)[^\\d]*<span\\b[^>]*>"+f(w,"PASS_END")+"</span>"));a.const_set(w[0],"RS","\\");a.const_set(w[0],"R_SB","]");a.const_set(w[0],"ESC_R_SB","\\]");a.const_set(w[0],"PLUS","+");a.const_set(w[0],"PygmentsWrapperDivRx",/<div class="pyhl">(.*)<\/div>/m);a.const_set(w[0],"PygmentsWrapperPreRx",/<pre\b[^>]*?>(.*?)<\/pre>\s*/m);I.$attr_reader("passthroughs");a.def(I,"$apply_subs",
A=function(a,c){var e,g,h=b,l=b;null==this.passthroughs&&(this.passthroughs=b);null==c&&(c=f(w,"NORMAL_SUBS"));if(q(q(e=a["$empty?"]())?e:c["$!"]()))return a;q(h=d("::","Array")["$==="](a))&&(a=q(a["$[]"](1))?a.$join(f(w,"LF")):a["$[]"](0));q(l=c["$include?"]("macros"))&&(a=this.$extract_passthroughs(a),q(this.passthroughs["$empty?"]())&&(l=!1));n(c,"each",[],(g=function(d){var e=g.$$s||this,h=b;null==d&&(d=b);h=d;return"specialcharacters"["$==="](h)?a=e.$sub_specialchars(a):"quotes"["$==="](h)?a=
e.$sub_quotes(a):"attributes"["$==="](h)?q(a["$include?"](f(w,"ATTR_REF_HEAD")))?a=e.$sub_attributes(a):b:"replacements"["$==="](h)?a=e.$sub_replacements(a):"macros"["$==="](h)?a=e.$sub_macros(a):"highlight"["$==="](h)?a=e.$highlight_source(a,c["$include?"]("callouts")):"callouts"["$==="](h)?q(c["$include?"]("highlight"))?b:a=e.$sub_callouts(a):"post_replacements"["$==="](h)?a=e.$sub_post_replacements(a):e.$logger().$warn("unknown substitution type "+d)},g.$$s=this,g.$$arity=1,g));q(l)&&(a=this.$restore_passthroughs(a));
return q(h)?a.$split(f(w,"LF"),-1):a},A.$$arity=-2);a.def(I,"$apply_normal_subs",z=function(a){return this.$apply_subs(a)},z.$$arity=1);a.def(I,"$apply_title_subs",L=function(a){return this.$apply_subs(a,f(w,"TITLE_SUBS"))},L.$$arity=1);a.def(I,"$apply_reftext_subs",N=function(a){return this.$apply_subs(a,f(w,"REFTEXT_SUBS"))},N.$$arity=1);a.def(I,"$apply_header_subs",E=function(a){return this.$apply_subs(a,f(w,"HEADER_SUBS"))},E.$$arity=1);a.def(I,"$extract_passthroughs",X=function(c){var d,e,g,
h,m,C=b,y=b,r=b,I=b;null==this.document&&(this.document=b);C=this.document.$compat_mode();q(q(d=q(e=c["$include?"]("++"))?e:c["$include?"]("$$"))?d:c["$include?"]("ss:"))&&(c=n(c,"gsub",[f(w,"InlinePassMacroRx")],(g=function(){var c=g.$$s||this,d,e=b,h=b,m=b,K=b,y=b,Na=b,r=b,K=m=e=b;null==c.passthroughs&&(c.passthroughs=b);null==v["~"]&&(v["~"]=b);e=v["~"];h=b;if(q(m=e["$[]"](4))){if(q(q(d=C)?m["$=="]("++"):d))return q(e["$[]"](2))?""+e["$[]"](1)+"["+e["$[]"](2)+"]"+e["$[]"](3)+"++"+c.$extract_passthroughs(e["$[]"](5))+
"++":""+e["$[]"](1)+e["$[]"](3)+"++"+c.$extract_passthroughs(e["$[]"](5))+"++";K=e["$[]"](2);y=e["$[]"](3).$length();Na=e["$[]"](5);r=!1;if(q(K)){if(q(k(y,0)))return""+e["$[]"](1)+"["+K+"]"+t(f(w,"RS"),p(y,1))+m+e["$[]"](5)+m;e["$[]"](1)["$=="](f(w,"RS"))?(h="["+K+"]",K=b):(q(m["$=="]("++")?K["$end_with?"]("x-"):m["$=="]("++"))&&(r=!0,K=K["$[]"](x(0,-2,!0))),K=c.$parse_attributes(K))}else if(q(k(y,0)))return""+t(f(w,"RS"),p(y,1))+m+e["$[]"](5)+m;e=m["$=="]("+++")?[]:f(w,"BASIC_SUBS");m=c.passthroughs.$size();
K=q(K)?q(r)?[m,l(["text","subs","type","attributes"],{text:Na,subs:f(w,"NORMAL_SUBS"),type:"monospaced",attributes:K})]:[m,l(["text","subs","type","attributes"],{text:Na,subs:e,type:"unquoted",attributes:K})]:[m,l(["text","subs"],{text:Na,subs:e})]}else{if(e["$[]"](6)["$=="](f(w,"RS")))return e["$[]"](0)["$[]"](x(1,-1,!1));K=[m=c.passthroughs.$size(),l(["text","subs"],{text:c.$unescape_brackets(e["$[]"](8)),subs:q(e["$[]"](7))?c.$resolve_pass_subs(e["$[]"](7)):b})]}n(c.passthroughs,"[]=",a.to_a(K));
K[p(K.length,1)];return""+h+f(w,"PASS_START")+m+f(w,"PASS_END")},g.$$s=this,g.$$arity=0,g)));e=f(w,"InlinePassRx")["$[]"](C);d=a.to_ary(e);y=null==d[0]?b:d[0];r=null==d[1]?b:d[1];I=null==d[2]?b:d[2];e;q(q(d=c["$include?"](y))?d:q(e=r)?c["$include?"](r):e)&&(c=n(c,"gsub",[I],(h=function(){var c=h.$$s||this,d,e=b,g=b,k=b,m=b,t=b,y=b,r=b,t=k=e=b;null==c.passthroughs&&(c.passthroughs=b);null==v["~"]&&(v["~"]=b);e=v["~"];g=e["$[]"](1);k=e["$[]"](2);q(e["$[]"](3)["$start_with?"](f(w,"RS")))&&(m=f(w,"RS"));
t=e["$[]"](4);y=e["$[]"](5);q(C)?r=!0:q(r=q(d=k)?k["$end_with?"]("x-"):d)&&(k=k["$[]"](x(0,-2,!0)));if(q(k)){if(q(t["$=="]("`")?r["$!"]():t["$=="]("`")))return c.$extract_inner_passthrough(y,""+g+"["+k+"]"+m,k);if(q(m))return""+g+"["+k+"]"+e["$[]"](3)["$[]"](x(1,-1,!1));g["$=="](f(w,"RS"))?(g="["+k+"]",k=b):k=c.$parse_attributes(k)}else{if(q(t["$=="]("`")?r["$!"]():t["$=="]("`")))return c.$extract_inner_passthrough(y,""+g+m);if(q(m))return""+g+e["$[]"](3)["$[]"](x(1,-1,!1))}e=c.passthroughs.$size();
q(C)?k=[e,l(["text","subs","attributes","type"],{text:y,subs:f(w,"BASIC_SUBS"),attributes:k,type:"monospaced"})]:q(k)?q(r)?(t=t["$=="]("`")?f(w,"BASIC_SUBS"):f(w,"NORMAL_SUBS"),k=[e,l(["text","subs","attributes","type"],{text:y,subs:t,attributes:k,type:"monospaced"})]):k=[e,l(["text","subs","attributes","type"],{text:y,subs:f(w,"BASIC_SUBS"),attributes:k,type:"unquoted"})]:k=[e,l(["text","subs"],{text:y,subs:f(w,"BASIC_SUBS")})];n(c.passthroughs,"[]=",a.to_a(k));k[p(k.length,1)];return""+g+f(w,"PASS_START")+
e+f(w,"PASS_END")},h.$$s=this,h.$$arity=0,h)));q(q(d=c["$include?"](":"))?q(e=c["$include?"]("stem:"))?e:c["$include?"]("math:"):d)&&(c=n(c,"gsub",[f(w,"InlineStemMacroRx")],(m=function(){var c=m.$$s||this,d=b,e=b,g=b,h=b,d=e=b;null==c.document&&(c.document=b);null==c.passthroughs&&(c.passthroughs=b);null==v["~"]&&(v["~"]=b);d=v["~"];if(q(d["$[]"](0)["$start_with?"](f(w,"RS"))))return d["$[]"](0)["$[]"](x(1,-1,!1));(e=d["$[]"](1).$to_sym())["$=="]("stem")&&(e=f(w,"STEM_TYPE_ALIASES")["$[]"](c.document.$attributes()["$[]"]("stem")).$to_sym());
g=c.$unescape_brackets(d["$[]"](3));h=q(d["$[]"](2))?c.$resolve_pass_subs(d["$[]"](2)):q(c.document["$basebackend?"]("html"))?f(w,"BASIC_SUBS"):b;e=[d=c.passthroughs.$size(),l(["text","subs","type"],{text:g,subs:h,type:e})];n(c.passthroughs,"[]=",a.to_a(e));e[p(e.length,1)];return""+f(w,"PASS_START")+d+f(w,"PASS_END")},m.$$s=this,m.$$arity=0,m)));return c},X.$$arity=1);a.def(I,"$extract_inner_passthrough",R=function(c,d,e){var g,h,k=b,m=b;null==this.passthroughs&&(this.passthroughs=b);null==e&&(e=
b);if(q(q(g=q(h=c["$end_with?"]("+"))?c["$start_with?"]("+","\\+"):h)?f(w,"SinglePlusInlinePassRx")["$=~"](c):g)){if(q((g=v["~"])===b?b:g["$[]"](1)))return""+d+"`+"+((g=v["~"])===b?b:g["$[]"](2))+"+`";k=[m=this.passthroughs.$size(),q(e)?l(["text","subs","attributes","type"],{text:(g=v["~"])===b?b:g["$[]"](2),subs:f(w,"BASIC_SUBS"),attributes:e,type:"unquoted"}):l(["text","subs"],{text:(g=v["~"])===b?b:g["$[]"](2),subs:f(w,"BASIC_SUBS")})];n(this.passthroughs,"[]=",a.to_a(k));k[p(k.length,1)];return""+
d+"`"+f(w,"PASS_START")+m+f(w,"PASS_END")+"`"}return""+d+"`"+c+"`"},R.$$arity=-3);a.def(I,"$restore_passthroughs",P=function(a,c){var d,e,g,h=this;null==h.passthroughs&&(h.passthroughs=b);null==c&&(c=!0);return function(){try{return q(q(d=c)?q(e=h.passthroughs["$empty?"]())?e:a["$include?"](f(w,"PASS_START"))["$!"]():d)?a:n(a,"gsub",[f(w,"PassSlotRx")],(g=function(){var a=g.$$s||this,c,d=b,e=b,h=b;null==a.passthroughs&&(a.passthroughs=b);d=a.passthroughs["$[]"](((c=v["~"])===b?b:c["$[]"](1)).$to_i());
e=a.$apply_subs(d["$[]"]("text"),d["$[]"]("subs"));q(h=d["$[]"]("type"))&&(e=f(w,"Inline").$new(a,"quoted",e,l(["type","attributes"],{type:h,attributes:d["$[]"]("attributes")})).$convert());return q(e["$include?"](f(w,"PASS_START")))?a.$restore_passthroughs(e,!1):e},g.$$s=h,g.$$arity=0,g))}finally{q(c)&&h.passthroughs.$clear()}}()},P.$$arity=-2);f(w,"RUBY_ENGINE")["$=="]("opal")?(a.def(I,"$sub_quotes",ja=function(a){var c,d=b;null==this.document&&(this.document=b);q(f(w,"QuotedTextSniffRx")["$[]"](d=
this.document.$compat_mode())["$match?"](a))&&n(f(w,"QUOTE_SUBS")["$[]"](d),"each",[],(c=function(d,e,g){var f=c.$$s||this,h;null==d&&(d=b);null==e&&(e=b);null==g&&(g=b);return a=n(a,"gsub",[g],(h=function(){var a=h.$$s||this;null==v["~"]&&(v["~"]=b);return a.$convert_quoted_text(v["~"],d,e)},h.$$s=f,h.$$arity=0,h))},c.$$s=this,c.$$arity=3,c));return a},ja.$$arity=1),a.def(I,"$sub_replacements",Z=function(a){var c;q(f(w,"ReplaceableTextRx")["$match?"](a))&&n(f(w,"REPLACEMENTS"),"each",[],(c=function(d,
e,g){var f=c.$$s||this,h;null==d&&(d=b);null==e&&(e=b);null==g&&(g=b);return a=n(a,"gsub",[d],(h=function(){var a=h.$$s||this;null==v["~"]&&(v["~"]=b);return a.$do_replacement(v["~"],e,g)},h.$$s=f,h.$$arity=0,h))},c.$$s=this,c.$$arity=3,c));return a},Z.$$arity=1)):b;q(d("::","RUBY_MIN_VERSION_1_9"))?a.def(I,"$sub_specialchars",H=function(a){var b,c;return q(q(b=q(c=a["$include?"]("<"))?c:a["$include?"]("&"))?b:a["$include?"](">"))?a.$gsub(f(w,"SpecialCharsRx"),f(w,"SpecialCharsTr")):a},H.$$arity=
1):a.def(I,"$sub_specialchars",ba=function(a){var c,d,e;return q(q(c=q(d=a["$include?"]("<"))?d:a["$include?"]("&"))?c:a["$include?"](">"))?n(a,"gsub",[f(w,"SpecialCharsRx")],(e=function(){var a;return f(w,"SpecialCharsTr")["$[]"]((a=v["~"])===b?b:a["$[]"](0))},e.$$s=this,e.$$arity=0,e)):a},ba.$$arity=1);a.alias(I,"sub_specialcharacters","sub_specialchars");a.def(I,"$do_replacement",T=function(a,c,d){var e=b,e=b;q((e=a["$[]"](0))["$include?"](f(w,"RS")))?a=e.$sub(f(w,"RS"),""):(e=d,a="none"["$==="](e)?
c:"bounding"["$==="](e)?""+a["$[]"](1)+c+a["$[]"](2):""+a["$[]"](1)+c);return a},T.$$arity=3);a.def(I,"$sub_attributes",ga=function(c,d){var e,g,h,k,m=b,t=b,p=b,C=b,D=b,V=b,za=b,za=b;null==this.document&&(this.document=b);null==d&&(d=l([],{}));m=this.document.$attributes();t=p=C=D=V=b;za=n(c,"gsub",[f(w,"AttributeReferenceRx")],(e=function(){var c=e.$$s||this,g,h,l,k=b,za=b,B=b,y=b;null==c.document&&(c.document=b);return q(q(g=((h=v["~"])===b?b:h["$[]"](1))["$=="](f(w,"RS")))?g:((h=v["~"])===b?b:
h["$[]"](4))["$=="](f(w,"RS")))?"{"+((g=v["~"])===b?b:g["$[]"](2))+"}":q((g=v["~"])===b?b:g["$[]"](3))?function(){k=(za=((g=v["~"])===b?b:g["$[]"](2)).$split(":",3)).$shift();return"set"["$==="](k)?(h=f(w,"Parser").$store_attribute(za["$[]"](0),q(l=za["$[]"](1))?l:"",c.document),g=a.to_ary(h),B=null==g[1]?b:g[1],h,q(q(g=B)?g:(D=q(h=D)?h:q(l=m["$[]"]("attribute-undefined"))?l:f(w,"Compliance").$attribute_undefined())["$!="]("drop-line"))?t=C=f(w,"DEL"):t=p=f(w,"CAN")):"counter2"["$==="](k)?(n(c.document,
"counter",a.to_a(za)),t=C=f(w,"DEL")):n(c.document,"counter",a.to_a(za))}():q(m["$key?"](y=((g=v["~"])===b?b:g["$[]"](2)).$downcase()))?m["$[]"](y):q(B=f(w,"INTRINSIC_ATTRIBUTES")["$[]"](y))?B:function(){k=V=q(g=V)?g:q(h=q(l=d["$[]"]("attribute_missing"))?l:m["$[]"]("attribute-missing"))?h:f(w,"Compliance").$attribute_missing();if("drop"["$==="](k))return t=C=f(w,"DEL");if("drop-line"["$==="](k))return c.$logger().$warn("dropping line containing reference to missing attribute: "+y),t=p=f(w,"CAN");
"warn"["$==="](k)&&c.$logger().$warn("skipping reference to missing attribute: "+y);return(g=v["~"])===b?b:g["$[]"](0)}()},e.$$s=this,e.$$arity=0,e));return q(t)?q(C)?(za=za.$tr_s(f(w,"DEL"),f(w,"DEL")).$split(f(w,"LF"),-1),q(p)?n(za,"reject",[],(g=function(a){var c,d,e;null==a&&(a=b);return q(c=q(d=q(e=a["$=="](f(w,"DEL")))?e:a["$=="](f(w,"CAN")))?d:a["$start_with?"](f(w,"CAN")))?c:a["$include?"](f(w,"CAN"))},g.$$s=this,g.$$arity=1,g)).$join(f(w,"LF")).$delete(f(w,"DEL")):n(za,"reject",[],(h=function(a){null==
a&&(a=b);return a["$=="](f(w,"DEL"))},h.$$s=this,h.$$arity=1,h)).$join(f(w,"LF")).$delete(f(w,"DEL"))):q(za["$include?"](f(w,"LF")))?n(za.$split(f(w,"LF"),-1),"reject",[],(k=function(a){var c,d;null==a&&(a=b);return q(c=q(d=a["$=="](f(w,"CAN")))?d:a["$start_with?"](f(w,"CAN")))?c:a["$include?"](f(w,"CAN"))},k.$$s=this,k.$$arity=1,k)).$join(f(w,"LF")):"":za},ga.$$arity=-2);a.def(I,"$sub_macros",ca=function(c){try{var e,g,h,t,C,y,r,I,u,D,V,za,U=b,La=b,K=b,Pa=b,Na=b,Oa=b,S=b,G=b,J=b,A=b;null==this.document&&
(this.document=b);U=l([],{});La=(K=["square_bracket",c["$include?"]("[")],n(U,"[]=",a.to_a(K)),K[p(K.length,1)]);Pa=c["$include?"](":");Na=(K=["macroish",q(e=La)?Pa:e],n(U,"[]=",a.to_a(K)),K[p(K.length,1)]);Oa=q(e=Na)?c["$include?"](":["):e;S=(G=this.document).$attributes();J=c;q(S["$key?"]("experimental"))&&(q(q(e=Oa)?q(g=J["$include?"]("kbd:"))?g:J["$include?"]("btn:"):e)&&(J=n(J,"gsub",[f(w,"InlineKbdBtnMacroRx")],(h=function(){var c=h.$$s||this,d,e,g,m=b,D=b,t=b;return q((d=v["~"])===b?b:d["$[]"](1))?
((d=v["~"])===b?b:d["$[]"](0)).$slice(1,((d=v["~"])===b?b:d["$[]"](0)).$length()):((d=v["~"])===b?b:d["$[]"](2))["$=="]("kbd")?(q((m=((d=v["~"])===b?b:d["$[]"](3)).$strip())["$include?"](f(w,"R_SB")))&&(m=m.$gsub(f(w,"ESC_R_SB"),f(w,"R_SB"))),q(q(d=k(m.$length(),1))?D=q(D=m.$index(",",1))?[D,m.$index("+",1)].$compact().$min():m.$index("+",1):d)?(t=m.$slice(D,1),q(m["$end_with?"](t))?(m=n(m.$chop().$split(t,-1),"map",[],(e=function(a){null==a&&(a=b);return a.$strip()},e.$$s=c,e.$$arity=1,e)),K=[-1,
""+m["$[]"](-1)+t],n(m,"[]=",a.to_a(K)),K[p(K.length,1)]):m=n(m.$split(t),"map",[],(g=function(a){null==a&&(a=b);return a.$strip()},g.$$s=c,g.$$arity=1,g))):m=[m],f(w,"Inline").$new(c,"kbd",b,l(["attributes"],{attributes:l(["keys"],{keys:m})})).$convert()):f(w,"Inline").$new(c,"button",c.$unescape_bracketed_text((d=v["~"])===b?b:d["$[]"](3))).$convert()},h.$$s=this,h.$$arity=0,h))),q(q(e=Na)?J["$include?"]("menu:"):e)&&(J=n(J,"gsub",[f(w,"InlineMenuMacroRx")],(t=function(){var a=t.$$s||this,c,d,e=
b,g=e=c=b,h=g=c=b;null==v["~"]&&(v["~"]=b);e=v["~"];if(q((c=e["$[]"](0))["$start_with?"](f(w,"RS"))))return c["$[]"](x(1,-1,!1));c=[e["$[]"](1),e["$[]"](2)];e=c[0];g=c[1];c;q(g)?(q(g["$include?"](f(w,"R_SB")))&&(g=g.$gsub(f(w,"ESC_R_SB"),f(w,"R_SB"))),q(c=q(g["$include?"]("&gt;"))?"&gt;":q(g["$include?"](","))?",":b)?(g=n(g.$split(c),"map",[],(d=function(a){null==a&&(a=b);return a.$strip()},d.$$s=a,d.$$arity=1,d)),h=g.$pop()):(c=[[],g.$rstrip()],g=c[0],h=c[1],c)):(c=[[],b],g=c[0],h=c[1],c);return f(w,
"Inline").$new(a,"menu",b,l(["attributes"],{attributes:l(["menu","submenus","menuitem"],{menu:e,submenus:g,menuitem:h})})).$convert()},t.$$s=this,t.$$arity=0,t))),q(q(e=J["$include?"]('"'))?J["$include?"]("&gt;"):e)&&(J=n(J,"gsub",[f(w,"InlineMenuRx")],(C=function(){var c=C.$$s||this,d,e,g=b,h=g=g=e=b;e=b;null==v["~"]&&(v["~"]=b);g=v["~"];if(q((e=g["$[]"](0))["$start_with?"](f(w,"RS"))))return e["$[]"](x(1,-1,!1));g=g["$[]"](1);e=n(g.$split("&gt;"),"map",[],(d=function(a){null==a&&(a=b);return a.$strip()},
d.$$s=c,d.$$arity=1,d));d=a.to_ary(e);g=null==d[0]?b:d[0];h=m.call(d,1);e;e=h.$pop();return f(w,"Inline").$new(c,"menu",b,l(["attributes"],{attributes:l(["menu","submenus","menuitem"],{menu:g,submenus:h,menuitem:e})})).$convert()},C.$$s=this,C.$$arity=0,C))));q(q(e=A=G.$extensions())?A["$inline_macros?"]():e)&&n(A.$inline_macros(),"each",[],(y=function(c){var d=y.$$s||this,e;null==c&&(c=b);return J=n(J,"gsub",[c.$instance().$regexp()],(e=function(){var d=e.$$s||this,g,h=b,k=h=b,m=b,D=b,h=b;null==
v["~"]&&(v["~"]=b);h=v["~"];if(q(h["$[]"](0)["$start_with?"](f(w,"RS"))))return h["$[]"](0)["$[]"](x(1,-1,!1));var t;a:{try{t=h.$names();break a}catch(U){if(a.rescue(U,[f(w,"StandardError")]))try{t=[];break a}finally{a.pop_exception()}else throw U;}t=void 0}if(q(t["$empty?"]()))g=[h["$[]"](1),h["$[]"](2),c.$config()];else{var V;a:{try{V=h["$[]"]("target");break a}catch(U){if(a.rescue(U,[f(w,"StandardError")]))try{V=b;break a}finally{a.pop_exception()}else throw U;}V=void 0}t=V;a:{try{g=h["$[]"]("content");
break a}catch(U){if(a.rescue(U,[f(w,"StandardError")]))try{g=b;break a}finally{a.pop_exception()}else throw U;}g=void 0}g=[t,g,c.$config()]}h=g[0];k=g[1];m=g[2];g;D=q(D=m["$[]"]("default_attrs"))?D.$dup():l([],{});q(k["$nil_or_empty?"]())?q(q(g=k)?m["$[]"]("content_model")["$!="]("attributes"):g)&&(K=["text",k],n(D,"[]=",a.to_a(K)),K[p(K.length,1)]):(k=d.$unescape_bracketed_text(k),m["$[]"]("content_model")["$=="]("attributes")?d.$parse_attributes(k,q(g=m["$[]"]("pos_attrs"))?g:[],l(["sub_result",
"into"],{sub_result:!1,into:D})):(K=["text",k],n(D,"[]=",a.to_a(K)),K[p(K.length,1)]));h=c.$process_method()["$[]"](d,q(g=h)?g:k,D);return q(f(w,"Inline")["$==="](h))?h.$convert():h},e.$$s=d,e.$$arity=0,e))},y.$$s=this,y.$$arity=1,y));q(q(e=Na)?q(g=J["$include?"]("image:"))?g:J["$include?"]("icon:"):e)&&(J=n(J,"gsub",[f(w,"InlineImageMacroRx")],(r=function(){var c=r.$$s||this,d,e=b,g=b,h=g=b,k=b,e=b;null==v["~"]&&(v["~"]=b);e=v["~"];if(q((g=(d=v["~"])===b?b:d["$[]"](0))["$start_with?"](f(w,"RS"))))return g["$[]"](x(1,
-1,!1));d=q(g["$start_with?"]("icon:"))?["icon",["size"]]:["image",["alt","width","height"]];g=d[0];h=d[1];d;q((k=e["$[]"](1))["$include?"](f(w,"ATTR_REF_HEAD")))&&(k=c.$sub_attributes(k));g["$=="]("icon")||G.$register("images",k);e=c.$parse_attributes(e["$[]"](2),h,l(["unescape_input"],{unescape_input:!0}));q(d=e["$[]"]("alt"))?d:(K=["alt",(K=["default-alt",f(w,"Helpers").$basename(k,!0).$tr("_-"," ")],n(e,"[]=",a.to_a(K)),K[p(K.length,1)])],n(e,"[]=",a.to_a(K)),K[p(K.length,1)]);return f(w,"Inline").$new(c,
"image",b,l(["type","target","attributes"],{type:g,target:k,attributes:e})).$convert()},r.$$s=this,r.$$arity=0,r)));q(q(e=q(g=J["$include?"]("(("))?J["$include?"]("))"):g)?e:q(g=Oa)?J["$include?"]("dexterm"):g)&&(J=n(J,"gsub",[f(w,"InlineIndextermMacroRx")],(I=function(){var a=I.$$s||this,c,d=b,e=b,g=b,h=b,n=b,k=b,m=b,D=b;return function(){d=(c=v["~"])===b?b:c["$[]"](1);if("indexterm"["$==="](d)){e=(c=v["~"])===b?b:c["$[]"](2);if(q((g=(c=v["~"])===b?b:c["$[]"](0))["$start_with?"](f(w,"RS"))))return g.$slice(1,
g.$length());h=a.$split_simple_csv(a.$normalize_string(e,!0));G.$register("indexterms",h);return f(w,"Inline").$new(a,"indexterm",b,l(["attributes"],{attributes:l(["terms"],{terms:h})})).$convert()}if("indexterm2"["$==="](d)){e=(c=v["~"])===b?b:c["$[]"](2);if(q((g=(c=v["~"])===b?b:c["$[]"](0))["$start_with?"](f(w,"RS"))))return g.$slice(1,g.$length());n=a.$normalize_string(e,!0);G.$register("indexterms",[n]);return f(w,"Inline").$new(a,"indexterm",n,l(["type"],{type:"visible"})).$convert()}e=(c=v["~"])===
b?b:c["$[]"](3);if(q((g=(c=v["~"])===b?b:c["$[]"](0))["$start_with?"](f(w,"RS"))))if(q(q(c=e["$start_with?"]("("))?e["$end_with?"](")"):c))e=e.$slice(1,p(e.$length(),2)),c=[!0,"(",")"],k=c[0],m=c[1],D=c[2],c;else return g.$slice(1,g.$length());else k=!0,q(e["$start_with?"]("("))?(q(e["$end_with?"](")"))?(c=[e.$slice(1,p(e.$length(),2)),!1],e=c[0],k=c[1]):(c=[e.$slice(1,e.$length()),"(",""],e=c[0],m=c[1],D=c[2]),c):q(e["$end_with?"](")"))&&(c=[e.$slice(0,p(e.$length(),1)),"",")"],e=c[0],m=c[1],D=c[2],
c);q(k)?(n=a.$normalize_string(e),G.$register("indexterms",[n]),J=f(w,"Inline").$new(a,"indexterm",n,l(["type"],{type:"visible"})).$convert()):(h=a.$split_simple_csv(a.$normalize_string(e)),G.$register("indexterms",h),J=f(w,"Inline").$new(a,"indexterm",b,l(["attributes"],{attributes:l(["terms"],{terms:h})})).$convert());return q(m)?""+m+J+D:J}()},I.$$s=this,I.$$arity=0,I)));q(q(e=Pa)?J["$include?"]("://"):e)&&(J=n(J,"gsub",[f(w,"InlineLinkRx")],(u=function(){var c=u.$$s||this,d,e,g=b,h=b,k=b,m=b,
D=b,t=b,h=g=h=b;null==v["~"]&&(v["~"]=b);g=v["~"];if(q(g["$[]"](2)["$start_with?"](f(w,"RS"))))return""+g["$[]"](1)+g["$[]"](2)["$[]"](x(1,-1,!1))+g["$[]"](3);d=[g["$[]"](1),g["$[]"](2),q(e=h=g["$[]"](3))?e:"",""];k=d[0];m=d[1];D=d[2];t=d[3];d;if(k["$=="]("link:"))if(q(h))k="";else return g["$[]"](0);q(q(d=h)?d:f(w,"UriTerminatorRx")["$!~"](m))||(h=(d=v["~"])===b?b:d["$[]"](0),")"["$==="](h)?(m=m.$chop(),t=")"):";"["$==="](h)?q(q(d=k["$start_with?"]("&lt;"))?m["$end_with?"]("&gt;"):d)?(k=k["$[]"](x(4,
-1,!1)),m=m["$[]"](x(0,-4,!0))):q((m=m.$chop())["$end_with?"](")"))?(m=m.$chop(),t=");"):t=";":":"["$==="](h)&&(q((m=m.$chop())["$end_with?"](")"))?(m=m.$chop(),t="):"):t=":"),q(m["$end_with?"]("://"))&&a.ret(g["$[]"](0)));d=[b,l(["type"],{type:"link"})];g=d[0];h=d[1];d;q(D["$empty?"]())||(q(D["$include?"](f(w,"R_SB")))&&(D=D.$gsub(f(w,"ESC_R_SB"),f(w,"R_SB"))),q(q(d=G.$compat_mode()["$!"]())?D["$include?"]("="):d)&&(D=q(d=(g=f(w,"AttributeList").$new(D,c).$parse())["$[]"](1))?d:"",q(g["$key?"]("id"))&&
(K=["id",g.$delete("id")],n(h,"[]=",a.to_a(K)),K[p(K.length,1)])),q(D["$end_with?"]("^"))&&(D=D.$chop(),q(g)?q(d=g["$[]"]("window"))?d:(K=["window","_blank"],n(g,"[]=",a.to_a(K)),K[p(K.length,1)]):g=l(["window"],{window:"_blank"})));q(D["$empty?"]())&&(D=q(S["$key?"]("hide-uri-scheme"))?m.$sub(f(w,"UriSniffRx"),""):m,q(g)?(K=["role",q(g["$key?"]("role"))?"bare "+g["$[]"]("role"):"bare"],n(g,"[]=",a.to_a(K)),K[p(K.length,1)]):g=l(["role"],{role:"bare"}));G.$register("links",(K=["target",m],n(h,"[]=",
a.to_a(K)),K[p(K.length,1)]));q(g)&&(K=["attributes",g],n(h,"[]=",a.to_a(K)),K[p(K.length,1)]);return""+k+f(w,"Inline").$new(c,"anchor",D,h).$convert()+t},u.$$s=this,u.$$arity=0,u)));q(q(e=Na)?q(g=J["$include?"]("link:"))?g:J["$include?"]("mailto:"):e)&&(J=n(J,"gsub",[f(w,"InlineLinkMacroRx")],(D=function(){var c=D.$$s||this,d,e=b,g=b,h=b,k=b,m=b,t=b;null==v["~"]&&(v["~"]=b);e=v["~"];if(q(e["$[]"](0)["$start_with?"](f(w,"RS"))))return e["$[]"](0)["$[]"](x(1,-1,!1));g=q(h=e["$[]"](1))?"mailto:"+e["$[]"](2):
e["$[]"](2);d=[b,l(["type"],{type:"link"})];k=d[0];m=d[1];d;q((t=e["$[]"](3))["$empty?"]())||(q(t["$include?"](f(w,"R_SB")))&&(t=t.$gsub(f(w,"ESC_R_SB"),f(w,"R_SB"))),q(h)?q(q(d=G.$compat_mode()["$!"]())?t["$include?"](","):d)&&(t=q(d=(k=f(w,"AttributeList").$new(t,c).$parse())["$[]"](1))?d:"",q(k["$key?"]("id"))&&(K=["id",k.$delete("id")],n(m,"[]=",a.to_a(K)),K[p(K.length,1)]),q(k["$key?"](2))&&(g=q(k["$key?"](3))?""+g+"?subject="+f(w,"Helpers").$uri_encode(k["$[]"](2))+"&amp;body="+f(w,"Helpers").$uri_encode(k["$[]"](3)):
""+g+"?subject="+f(w,"Helpers").$uri_encode(k["$[]"](2)))):q(q(d=G.$compat_mode()["$!"]())?t["$include?"]("="):d)&&(t=q(d=(k=f(w,"AttributeList").$new(t,c).$parse())["$[]"](1))?d:"",q(k["$key?"]("id"))&&(K=["id",k.$delete("id")],n(m,"[]=",a.to_a(K)),K[p(K.length,1)])),q(t["$end_with?"]("^"))&&(t=t.$chop(),q(k)?q(d=k["$[]"]("window"))?d:(K=["window","_blank"],n(k,"[]=",a.to_a(K)),K[p(K.length,1)]):k=l(["window"],{window:"_blank"})));q(t["$empty?"]())&&(q(h)?t=e["$[]"](2):(t=q(S["$key?"]("hide-uri-scheme"))?
g.$sub(f(w,"UriSniffRx"),""):g,q(k)?(K=["role",q(k["$key?"]("role"))?"bare "+k["$[]"]("role"):"bare"],n(k,"[]=",a.to_a(K)),K[p(K.length,1)]):k=l(["role"],{role:"bare"})));G.$register("links",(K=["target",g],n(m,"[]=",a.to_a(K)),K[p(K.length,1)]));q(k)&&(K=["attributes",k],n(m,"[]=",a.to_a(K)),K[p(K.length,1)]);return f(w,"Inline").$new(c,"anchor",t,m).$convert()},D.$$s=this,D.$$arity=0,D)));q(J["$include?"]("@"))&&(J=n(J,"gsub",[f(w,"InlineEmailRx")],(V=function(){var a=V.$$s||this,c,d,e=b,g=b;c=
b;c=[(d=v["~"])===b?b:d["$[]"](0),(d=v["~"])===b?b:d["$[]"](1)];e=c[0];g=c[1];c;if(q(g))return g["$=="](f(w,"RS"))?e["$[]"](x(1,-1,!1)):e;c="mailto:"+e;G.$register("links",c);return f(w,"Inline").$new(a,"anchor",e,l(["type","target"],{type:"link",target:c})).$convert()},V.$$s=this,V.$$arity=0,V)));q(q(e=Na)?J["$include?"]("tnote"):e)&&(J=n(J,"gsub",[f(w,"InlineFootnoteMacroRx")],(za=function(){var c=za.$$s||this,e,g,h,k=b,m=b,D=b,t=k=g=b,D=b;null==v["~"]&&(v["~"]=b);k=v["~"];if(q(k["$[]"](0)["$start_with?"](f(w,
"RS"))))return k["$[]"](0)["$[]"](x(1,-1,!1));q(k["$[]"](1))?(g=(q(e=k["$[]"](3))?e:"").$split(",",2),e=a.to_ary(g),m=null==e[0]?b:e[0],D=null==e[1]?b:e[1],g):(e=[k["$[]"](2),k["$[]"](3)],m=e[0],D=e[1],e);if(q(m))q(D)?(D=c.$restore_passthroughs(c.$sub_inline_xrefs(c.$sub_inline_anchors(c.$normalize_string(D,!0))),!1),g=G.$counter("footnote-number"),G.$register("footnotes",d(f(w,"Document"),"Footnote").$new(g,m,D)),e=["ref",b],k=e[0],t=e[1]):(q(D=n(G.$footnotes(),"find",[],(h=function(a){null==a&&
(a=b);return a.$id()["$=="](m)},h.$$s=c,h.$$arity=1,h)))?e=[D.$index(),D.$text()]:(c.$logger().$warn("invalid footnote reference: "+m),e=[b,m]),g=e[0],D=e[1],e,e=["xref",m,b],k=e[0],t=e[1],m=e[2]),e;else if(q(D))D=c.$restore_passthroughs(c.$sub_inline_xrefs(c.$sub_inline_anchors(c.$normalize_string(D,!0))),!1),g=G.$counter("footnote-number"),G.$register("footnotes",d(f(w,"Document"),"Footnote").$new(g,m,D)),k=t=b;else return k["$[]"](0);return f(w,"Inline").$new(c,"footnote",D,l(["attributes","id",
"target","type"],{attributes:l(["index"],{index:g}),id:m,target:t,type:k})).$convert()},za.$$s=this,za.$$arity=0,za)));return this.$sub_inline_xrefs(this.$sub_inline_anchors(J,U),U)}catch(z){if(z===a.returner)return z.$v;throw z;}},ca.$$arity=1);a.def(I,"$sub_inline_anchors",aa=function(a,c){var d,e,g,h,k;null==this.context&&(this.context=b);null==this.parent&&(this.parent=b);null==c&&(c=b);q((d=this.context["$=="]("list_item"))?this.parent.$style()["$=="]("bibliography"):this.context["$=="]("list_item"))&&
(a=n(a,"sub",[f(w,"InlineBiblioAnchorRx")],(e=function(){var a=e.$$s||this,c,d;return f(w,"Inline").$new(a,"anchor","["+(q(c=(d=v["~"])===b?b:d["$[]"](2))?c:(d=v["~"])===b?b:d["$[]"](1))+"]",l(["type","id","target"],{type:"bibref",id:(c=v["~"])===b?b:c["$[]"](1),target:(c=v["~"])===b?b:c["$[]"](1)})).$convert()},e.$$s=this,e.$$arity=0,e)));q(q(d=q(g=q(h=c["$!"]())?h:c["$[]"]("square_bracket"))?a["$include?"]("[["):g)?d:q(g=q(h=c["$!"]())?h:c["$[]"]("macroish"))?a["$include?"]("or:"):g)&&(a=n(a,"gsub",
[f(w,"InlineAnchorRx")],(k=function(){var a=k.$$s||this,c,d,e=b,g=b;if(q((c=v["~"])===b?b:c["$[]"](1)))return((c=v["~"])===b?b:c["$[]"](0)).$slice(1,((c=v["~"])===b?b:c["$[]"](0)).$length());q(e=(c=v["~"])===b?b:c["$[]"](2))?g=(c=v["~"])===b?b:c["$[]"](3):(e=(c=v["~"])===b?b:c["$[]"](4),q(q(c=g=(d=v["~"])===b?b:d["$[]"](5))?g["$include?"](f(w,"R_SB")):c)&&(g=g.$gsub(f(w,"ESC_R_SB"),f(w,"R_SB"))));return f(w,"Inline").$new(a,"anchor",g,l(["type","id","target"],{type:"ref",id:e,target:e})).$convert()},
k.$$s=this,k.$$arity=0,k)));return a},aa.$$arity=-2);a.def(I,"$sub_inline_xrefs",da=function(e,h){var m,t,C;null==h&&(h=b);q(q(m=q(t=q(h)?h["$[]"]("macroish"):e["$include?"]("["))?e["$include?"]("xref:"):t)?m:q(t=e["$include?"]("&"))?e["$include?"]("lt;&"):t)&&(e=n(e,"gsub",[f(w,"InlineXrefMacroRx")],(C=function(){var e=C.$$s||this,h,m,n=b,t=b,D=b,V=b,za=n=b,U=b,La=b,K=b,y=K=b,r=b,I=b;null==e.document&&(e.document=b);null==v["~"]&&(v["~"]=b);null==v.VERBOSE&&(v.VERBOSE=b);n=v["~"];if(q(n["$[]"](0)["$start_with?"](f(w,
"RS"))))return n["$[]"](0)["$[]"](x(1,-1,!1));h=[l([],{}),e.document];t=h[0];D=h[1];h;q(V=n["$[]"](1))?(m=V.$split(",",2),h=a.to_ary(m),V=null==h[0]?b:h[0],n=null==h[1]?b:h[1],m,q(n)&&(n=n.$lstrip())):(za=!0,V=n["$[]"](2),q(n=n["$[]"](3))&&(q(n["$include?"](f(w,"R_SB")))&&(n=n.$gsub(f(w,"ESC_R_SB"),f(w,"R_SB"))),q(q(h=D.$compat_mode()["$!"]())?n["$include?"]("="):h)&&(n=f(w,"AttributeList").$new(n,e).$parse_into(t)["$[]"](1))));q(D.$compat_mode())?U=V:q(La=V.$index("#"))?q(k(La,0))?(q(k(K=p(p(V.$length(),
La),1),0))?(h=[V.$slice(0,La),V.$slice(c(La,1),K)],K=h[0],U=h[1],h):K=V.$slice(0,La),q((y=d("::","File").$extname(K))["$empty?"]())?r=K:q(f(w,"ASCIIDOC_EXTENSIONS")["$[]"](y))&&(r=K=K.$slice(0,p(K.$length(),y.$length())))):(h=[V,V.$slice(1,V.$length())],I=h[0],U=h[1],h):q(q(h=za)?V["$end_with?"](".adoc"):h)?r=K=V.$slice(0,p(V.$length(),5)):U=V;q(I)?(V=U,q(q(h=v.VERBOSE)?D.$catalog()["$[]"]("ids")["$key?"](V)["$!"]():h)&&e.$logger().$warn("invalid reference: "+V)):q(K)?q(q(h=r)?q(m=D.$attributes()["$[]"]("docname")["$=="](K))?
m:D.$catalog()["$[]"]("includes")["$[]"](K):h)?q(U)?(h=[U,b,"#"+U],V=h[0],K=h[1],I=h[2],h,q(q(h=v.VERBOSE)?D.$catalog()["$[]"]("ids")["$key?"](V)["$!"]():h)&&e.$logger().$warn("invalid reference: "+V)):(h=[b,b,"#"],V=h[0],K=h[1],I=h[2],h):(h=[K,""+D.$attributes()["$[]"]("relfileprefix")+K+(q(r)?D.$attributes().$fetch("relfilesuffix",D.$outfilesuffix()):"")],V=h[0],K=h[1],h,q(U)?(h=[""+V+"#"+U,""+K+"#"+U],V=h[0],I=h[1],h):I=K):q(q(h=D.$compat_mode())?h:f(w,"Compliance").$natural_xrefs()["$!"]())?(h=
[U,"#"+U],V=h[0],I=h[1],h,q(q(h=v.VERBOSE)?D.$catalog()["$[]"]("ids")["$key?"](V)["$!"]():h)&&e.$logger().$warn("invalid reference: "+V)):q(D.$catalog()["$[]"]("ids")["$key?"](U))?(h=[U,"#"+U],V=h[0],I=h[1],h):q(q(h=V=D.$catalog()["$[]"]("ids").$key(U))?q(m=U["$include?"](" "))?m:U.$downcase()["$!="](U):h)?(h=[V,"#"+V],U=h[0],I=h[1],h):(h=[U,"#"+U],V=h[0],I=h[1],h,q(v.VERBOSE)&&e.$logger().$warn("invalid reference: "+V));h=[K,U,V];t["$[]="]("path",h[0]);t["$[]="]("fragment",h[1]);t["$[]="]("refid",
h[2]);h;return f(w,"Inline").$new(e,"anchor",n,l(["type","target","attributes"],{type:"xref",target:I,attributes:t})).$convert()},C.$$s=this,C.$$arity=0,C)));return e},da.$$arity=-2);a.def(I,"$sub_callouts",la=function(a){var c,e=b,e=q(this["$attr?"]("line-comment"))?new RegExp("(?:"+d("::","Regexp").$escape(this.$attr("line-comment"))+" )?"+f(w,"CalloutSourceRxt")):f(w,"CalloutSourceRx");return n(a,"gsub",[e],(c=function(){var a=c.$$s||this,d;null==a.document&&(a.document=b);return q((d=v["~"])===
b?b:d["$[]"](1))?((d=v["~"])===b?b:d["$[]"](0)).$sub(f(w,"RS"),""):f(w,"Inline").$new(a,"callout",(d=v["~"])===b?b:d["$[]"](3),l(["id"],{id:a.document.$callouts().$read_next_id()})).$convert()},c.$$s=this,c.$$arity=0,c))},la.$$arity=1);a.def(I,"$sub_post_replacements",ma=function(a){var c,d,e,g=b,h=b;null==this.document&&(this.document=b);null==this.attributes&&(this.attributes=b);if(q(q(c=this.document.$attributes()["$key?"]("hardbreaks"))?c:this.attributes["$key?"]("hardbreaks-option"))){g=a.$split(f(w,
"LF"),-1);if(q(y(g.$size(),2)))return a;h=g.$pop();return t(n(g,"map",[],(d=function(a){var c=d.$$s||this;null==a&&(a=b);return f(w,"Inline").$new(c,"break",q(a["$end_with?"](f(w,"HARD_LINE_BREAK")))?a.$slice(0,p(a.$length(),2)):a,l(["type"],{type:"line"})).$convert()},d.$$s=this,d.$$arity=1,d))["$<<"](h),f(w,"LF"))}return q(q(c=a["$include?"](f(w,"PLUS")))?a["$include?"](f(w,"HARD_LINE_BREAK")):c)?n(a,"gsub",[f(w,"HardLineBreakRx")],(e=function(){var a=e.$$s||this,c;return f(w,"Inline").$new(a,"break",
(c=v["~"])===b?b:c["$[]"](1),l(["type"],{type:"line"})).$convert()},e.$$s=this,e.$$arity=0,e)):a},ma.$$arity=1);a.def(I,"$convert_quoted_text",ha=function(a,c,d){var e=b,g=b,h=b,k=b,n=b;if(q(a["$[]"](0)["$start_with?"](f(w,"RS"))))if(q(d["$=="]("constrained")?e=a["$[]"](2):d["$=="]("constrained")))g="["+e+"]";else return a["$[]"](0)["$[]"](x(1,-1,!1));if(d["$=="]("constrained")){if(q(g))return""+g+f(w,"Inline").$new(this,"quoted",a["$[]"](3),l(["type"],{type:c})).$convert();q(h=a["$[]"](2))&&(k=(n=
this.$parse_quoted_text_attributes(h)).$delete("id"),c["$=="]("mark")&&(c="unquoted"));return""+a["$[]"](1)+f(w,"Inline").$new(this,"quoted",a["$[]"](3),l(["type","id","attributes"],{type:c,id:k,attributes:n})).$convert()}q(h=a["$[]"](1))&&(k=(n=this.$parse_quoted_text_attributes(h)).$delete("id"),c["$=="]("mark")&&(c="unquoted"));return f(w,"Inline").$new(this,"quoted",a["$[]"](2),l(["type","id","attributes"],{type:c,id:k,attributes:n})).$convert()},ha.$$arity=3);a.def(I,"$parse_quoted_text_attributes",
pa=function(c){var d,e=b,g=b,h=b,g=h=e=b;q(c["$include?"](f(w,"ATTR_REF_HEAD")))&&(c=this.$sub_attributes(c,l(["multiline"],{multiline:!0})));q(c["$include?"](","))&&(c=c.$slice(0,c.$index(",")));return q((c=c.$strip())["$empty?"]())?l([],{}):q(q(d=c["$start_with?"](".","#"))?f(w,"Compliance").$shorthand_property_syntax():d)?(e=c.$split("#",2),q(k(e.$size(),1))?(c=e["$[]"](1).$split("."),d=a.to_ary(c),g=null==d[0]?b:d[0],h=m.call(d,1),c):(g=b,h=[]),e=q(e["$[]"](0)["$empty?"]())?[]:e["$[]"](0).$split("."),
q(k(e.$size(),1))&&e.$shift(),q(k(h.$size(),0))&&e.$concat(h),h=l([],{}),q(g)&&(g=["id",g],n(h,"[]=",a.to_a(g)),g[p(g.length,1)]),q(e["$empty?"]())||(g=["role",t(e," ")],n(h,"[]=",a.to_a(g)),g[p(g.length,1)]),h):l(["role"],{role:c})},pa.$$arity=1);a.def(I,"$parse_attributes",Y=function(a,c,d){var e,g=b,h=b;null==this.document&&(this.document=b);null==c&&(c=["role"]);null==d&&(d=l([],{}));if(!q(a))return b;if(q(a["$empty?"]()))return l([],{});q(q(e=d["$[]"]("sub_input"))?a["$include?"](f(w,"ATTR_REF_HEAD")):
e)&&(a=this.document.$sub_attributes(a));q(d["$[]"]("unescape_input"))&&(a=this.$unescape_bracketed_text(a));g=q(d.$fetch("sub_result",!0))?this:b;return q(h=d["$[]"]("into"))?f(w,"AttributeList").$new(a,g).$parse_into(h,c):f(w,"AttributeList").$new(a,g).$parse(c)},Y.$$arity=-2);a.def(I,"$expand_subs",qa=function(a){var e,h,l=b;if(q(d("::","Symbol")["$==="](a)))return a["$=="]("none")?b:q(e=f(w,"SUB_GROUPS")["$[]"](a))?e:[a];l=[];n(a,"each",[],(h=function(a){var d=b;null==a&&(a=b);return a["$=="]("none")?
b:q(d=f(w,"SUB_GROUPS")["$[]"](a))?l=c(l,d):l["$<<"](a)},h.$$s=this,h.$$arity=1,h));return q(l["$empty?"]())?b:l},qa.$$arity=1);a.def(I,"$unescape_bracketed_text",na=function(a){q(a["$empty?"]())||q((a=a.$strip().$tr(f(w,"LF")," "))["$include?"](f(w,"R_SB")))&&(a=a.$gsub(f(w,"ESC_R_SB"),f(w,"R_SB")));return a},na.$$arity=1);a.def(I,"$normalize_string",ia=function(a,b){var c;null==b&&(b=!1);q(a["$empty?"]())||(a=a.$strip().$tr(f(w,"LF")," "),q(q(c=b)?a["$include?"](f(w,"R_SB")):c)&&(a=a.$gsub(f(w,
"ESC_R_SB"),f(w,"R_SB"))));return a},ia.$$arity=-2);a.def(I,"$unescape_brackets",xa=function(a){q(a["$empty?"]())||q(a["$include?"](f(w,"RS")))&&(a=a.$gsub(f(w,"ESC_R_SB"),f(w,"R_SB")));return a},xa.$$arity=1);a.def(I,"$split_simple_csv",ra=function(a){var c,d,e=b,g=b,f=b;q(a["$empty?"]())?e=[]:q(a["$include?"]('"'))?(e=[],g=[],f=!1,n(a,"each_char",[],(c=function(a){var c=b;null==a&&(a=b);return function(){c=a;if(","["$==="](c)){if(q(f))return g["$<<"](a);e["$<<"](g.$join().$strip());return g=[]}return'"'["$==="](c)?
f=f["$!"]():g["$<<"](a)}()},c.$$s=this,c.$$arity=1,c)),e["$<<"](g.$join().$strip())):e=n(a.$split(","),"map",[],(d=function(a){null==a&&(a=b);return a.$strip()},d.$$s=this,d.$$arity=1,d));return e},ra.$$arity=1);a.def(I,"$resolve_subs",wa=function(a,d,e,h){var l,m=b,C=b,y=b,v=b;null==d&&(d="block");null==e&&(e=b);null==h&&(h=b);if(q(a["$nil_or_empty?"]()))return b;m=b;q(a["$include?"](" "))&&(a=a.$delete(" "));C=f(w,"SubModifierSniffRx")["$match?"](a);n(a.$split(","),"each",[],(l=function(a){var h,
l,k=b,n=h=b,t=n=b,k=b;null==a&&(a=b);k=b;q(C)&&((h=a.$chr())["$=="]("+")?(k="append",a=a["$[]"](x(1,-1,!1))):h["$=="]("-")?(k="remove",a=a["$[]"](x(1,-1,!1))):q(a["$end_with?"]("+"))&&(k="prepend",a=a.$chop()));a=a.$to_sym();q((h=d["$=="]("inline"))?q(l=a["$=="]("verbatim"))?l:a["$=="]("v"):d["$=="]("inline"))?n=f(w,"BASIC_SUBS"):q(f(w,"SUB_GROUPS")["$key?"](a))?n=f(w,"SUB_GROUPS")["$[]"](a):q(q(h=d["$=="]("inline")?a.$length()["$=="](1):d["$=="]("inline"))?f(w,"SUB_HINTS")["$key?"](a):h)?(n=f(w,
"SUB_HINTS")["$[]"](a),n=q(t=f(w,"SUB_GROUPS")["$[]"](n))?t:[n]):n=[a];if(q(k))return m=q(h=m)?h:q(e)?e.$dup():[],"append"["$==="](k)?m=c(m,n):"prepend"["$==="](k)?m=c(n,m):"remove"["$==="](k)?m=p(m,n):b;m=q(h=m)?h:[];return m=c(m,n)},l.$$s=this,l.$$arity=1,l));if(!q(m))return b;y=m["$&"](f(w,"SUB_OPTIONS")["$[]"](d));q(p(m,y)["$empty?"]())||(v=p(m,y),this.$logger().$warn("invalid substitution type"+(q(k(v.$size(),1))?"s":"")+(q(h)?" for ":"")+h+": "+t(v,", ")));return y},wa.$$arity=-2);a.def(I,"$resolve_block_subs",
ua=function(a,b,c){return this.$resolve_subs(a,"block",b,c)},ua.$$arity=3);a.def(I,"$resolve_pass_subs",va=function(a){return this.$resolve_subs(a,"inline",b,"passthrough macro")},va.$$arity=1);a.def(I,"$highlight_source",ya=function(e,h,k){var m,C,y,r,F,x,I=b,D=b,V=b,za=b,U=b,La=b,K=b,Pa=b,Na=b,Oa=b,S=I=b,G=b,A=b;null==this.document&&(this.document=b);null==this.passthroughs&&(this.passthroughs=b);null==k&&(k=b);I=k=q(m=k)?m:this.document.$attributes()["$[]"]("source-highlighter");"coderay"["$==="](I)?
q(q(m=q(C=D=d("::","CodeRay","skip_raise")?"constant":b)?C:(y=u.$$cvars["@@coderay_unavailable"],null!=y)?"class variable":b)?m:this.document.$attributes()["$[]"]("coderay-unavailable"))||(q(f(w,"Helpers").$require_library("coderay",!0,"warn")["$nil?"]())?a.class_variable_set(u,"@@coderay_unavailable",!0):D=!0):"pygments"["$==="](I)?q(q(m=q(C=D=d("::","Pygments","skip_raise")?"constant":b)?C:(r=u.$$cvars["@@pygments_unavailable"],null!=r)?"class variable":b)?m:this.document.$attributes()["$[]"]("pygments-unavailable"))||
(q(f(w,"Helpers").$require_library("pygments","pygments.rb","warn")["$nil?"]())?a.class_variable_set(u,"@@pygments_unavailable",!0):D=!0):D=!1;if(!q(D))return this.$sub_source(e,h);V=0;za=!1;q(h)?(U=l([],{}),La=-1,K=q(this["$attr?"]("line-comment"))?new RegExp("(?:"+d("::","Regexp").$escape(this.$attr("line-comment"))+" )?"+f(w,"CalloutExtractRxt")):f(w,"CalloutExtractRx"),e=t(n(e.$split(f(w,"LF"),-1),"map",[],(F=function(d){var e=F.$$s||this,h;null==d&&(d=b);V=c(V,1);return n(d,"gsub",[K],(h=function(){var c,
d=b,e=b;null==v["~"]&&(v["~"]=b);d=v["~"];if(d["$[]"](1)["$=="](f(w,"RS")))return d["$[]"](0).$sub(f(w,"RS"),"");(q(c=U["$[]"](V))?c:(e=[V,[]],n(U,"[]=",a.to_a(e)),e[p(e.length,1)]))["$<<"](d["$[]"](3));La=V;return b},h.$$s=e,h.$$arity=0,h))},F.$$s=this,F.$$arity=1,F)),f(w,"LF")),za=La["$=="](V),q(U["$empty?"]())&&(U=b)):U=b;Na=Pa=b;I=k;"coderay"["$==="](I)?(q(Pa=q(this["$attr?"]("linenums",b,!1))?(q(m=this.document.$attributes()["$[]"]("coderay-linenums-mode"))?m:"table").$to_sym():b)&&q(this["$attr?"]("highlight",
b,!1))&&(Na=this.$resolve_highlight_lines(this.$attr("highlight",b,!1))),Oa=d(d("::","CodeRay"),"Duo")["$[]"](this.$attr("language","text",!1).$to_sym(),"html",l(["css","line_numbers","line_number_anchors","highlight_lines","bold_every"],{css:(q(m=this.document.$attributes()["$[]"]("coderay-css"))?m:"class").$to_sym(),line_numbers:Pa,line_number_anchors:!1,highlight_lines:Na,bold_every:!1})).$highlight(e)):"pygments"["$==="](I)&&(I=q(m=d(d("::","Pygments"),"Lexer").$find_by_alias(this.$attr("language",
"text",!1)))?m:d(d("::","Pygments"),"Lexer").$find_by_mimetype("text/plain"),S=l(["cssclass","classprefix","nobackground","stripnl"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0,stripnl:!1}),I.$name()["$=="]("PHP")&&(G=["startinline",this["$option?"]("mixed")["$!"]()],n(S,"[]=",a.to_a(G)),G[p(G.length,1)]),(q(m=this.document.$attributes()["$[]"]("pygments-css"))?m:"class")["$=="]("class")||(G=["noclasses",!0],n(S,"[]=",a.to_a(G)),G[p(G.length,1)],G=["style",q(m=this.document.$attributes()["$[]"]("pygments-style"))?
m:d(f(w,"Stylesheets"),"DEFAULT_PYGMENTS_STYLE")],n(S,"[]=",a.to_a(G)),G[p(G.length,1)]),q(this["$attr?"]("highlight",b,!1))&&!q((Na=this.$resolve_highlight_lines(this.$attr("highlight",b,!1)))["$empty?"]())&&(G=["hl_lines",t(Na," ")],n(S,"[]=",a.to_a(G)),G[p(G.length,1)]),q(q(m=this["$attr?"]("linenums",b,!1))?(G=["linenos",q(C=this.document.$attributes()["$[]"]("pygments-linenums-mode"))?C:"table"],n(S,"[]=",a.to_a(G)),G[p(G.length,1)])["$=="]("table"):m)?(Pa="table",Oa=q(Oa=I.$highlight(e,l(["options"],
{options:S})))?Oa.$sub(f(w,"PygmentsWrapperDivRx"),"\\1").$gsub(f(w,"PygmentsWrapperPreRx"),"\\1"):this.$sub_specialchars(e)):q(Oa=I.$highlight(e,l(["options"],{options:S})))?q(f(w,"PygmentsWrapperPreRx")["$=~"](Oa))&&(Oa=(m=v["~"])===b?b:m["$[]"](1)):Oa=this.$sub_specialchars(e));q(this.passthroughs["$empty?"]())||(Oa=Oa.$gsub(f(w,"HighlightedPassSlotRx"),""+f(w,"PASS_START")+"\\1"+f(w,"PASS_END")));return q(q(m=h)?U:m)?(V=0,A=Pa["$!="]("table"),t(n(Oa.$split(f(w,"LF"),-1),"map",[],(x=function(a){var d=
x.$$s||this,e,h,m,D=b,K=b,p=b,D=b;null==d.document&&(d.document=b);null==a&&(a=b);if(!q(A)){if(!q(a["$include?"]('<td class="code">')))return a;A=!0}V=c(V,1);if(q(D=U.$delete(V))){K=b;q(q(e=q(h=za)?U["$empty?"]():h)?Pa["$=="]("table"):e)&&(q((e=k["$=="]("coderay"))?p=a.$index("</pre>"):k["$=="]("coderay"))?(e=[a.$slice(0,p),a.$slice(p,a.$length())],a=e[0],K=e[1],e):q((e=k["$=="]("pygments"))?p=a["$start_with?"]("</td>"):k["$=="]("pygments"))&&(e=["",a],a=e[0],K=e[1],e));if(D.$size()["$=="](1))return""+
a+f(w,"Inline").$new(d,"callout",D["$[]"](0),l(["id"],{id:d.document.$callouts().$read_next_id()})).$convert()+K;D=t(n(D,"map",[],(m=function(a){var c=m.$$s||this;null==c.document&&(c.document=b);null==a&&(a=b);return f(w,"Inline").$new(c,"callout",a,l(["id"],{id:c.document.$callouts().$read_next_id()})).$convert()},m.$$s=d,m.$$arity=1,m))," ");return""+a+D+K}return a},x.$$s=this,x.$$arity=1,x)),f(w,"LF"))):Oa},ya.$$arity=-3);a.def(I,"$resolve_highlight_lines",Aa=function(c){var d,e=b,e=[];n((q(c["$include?"](" "))?
c.$delete(" "):c).$split(f(w,"DataDelimiterRx")),"map",[],(d=function(c){var d,g=b,f=b,f=d=b;null==c&&(c=b);g=!1;q(c["$start_with?"]("!"))&&(c=c["$[]"](x(1,-1,!1)),g=!0);return q(c["$include?"]("-"))?(c=c.$split("-",2),d=a.to_ary(c),f=null==d[0]?b:d[0],d=null==d[1]?b:d[1],c,f=a.Range.$new(f.$to_i(),d.$to_i(),!1).$to_a(),q(g)?e=p(e,f):e.$concat(f)):q(g)?e.$delete(c.$to_i()):e["$<<"](c.$to_i())},d.$$s=this,d.$$arity=1,d));return e.$sort().$uniq()},Aa.$$arity=1);a.def(I,"$sub_source",Ea=function(a,b){return q(b)?
this.$sub_callouts(this.$sub_specialchars(a)):this.$sub_specialchars(a)},Ea.$$arity=2);a.def(I,"$lock_in_subs",Ba=function(){var c,d,e,g,h=b,l=h=b,k=b,h=b;null==this.default_subs&&(this.default_subs=b);null==this.content_model&&(this.content_model=b);null==this.context&&(this.context=b);null==this.subs&&(this.subs=b);null==this.attributes&&(this.attributes=b);null==this.style&&(this.style=b);null==this.document&&(this.document=b);if(!q(h=this.default_subs))if(h=this.content_model,"simple"["$==="](h))h=
f(w,"NORMAL_SUBS");else if("verbatim"["$==="](h))h=q(q(c=this.context["$=="]("listing"))?c:(d=this.context["$=="]("literal"))?this["$option?"]("listparagraph")["$!"]():this.context["$=="]("literal"))?f(w,"VERBATIM_SUBS"):this.context["$=="]("verse")?f(w,"NORMAL_SUBS"):f(w,"BASIC_SUBS");else if("raw"["$==="](h))h=this.context["$=="]("stem")?f(w,"BASIC_SUBS"):f(w,"NONE_SUBS");else return this.subs;q(l=this.attributes["$[]"]("subs"))?this.subs=q(c=this.$resolve_block_subs(l,h,this.context))?c:[]:this.subs=
h.$dup();q(q(c=q(d=q(e=q(g=this.context["$=="]("listing")?this.style["$=="]("source"):this.context["$=="]("listing"))?this.attributes["$key?"]("language"):g)?this.document["$basebackend?"]("html"):e)?f(w,"SUB_HIGHLIGHT")["$include?"](this.document.$attributes()["$[]"]("source-highlighter")):d)?k=this.subs.$index("specialcharacters"):c)&&(h=[k,"highlight"],n(this.subs,"[]=",a.to_a(h)),h[p(h.length,1)]);return this.subs},Ba.$$arity=0)})(A[0],A)}(h[0],h)};Opal.modules["asciidoctor/abstract_node"]=function(a){function c(a,
b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function t(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var p=[],y=a.nil,h=a.const_get_qualified,b=a.const_get_relative,d=a.module,f=a.klass,m=a.truthy,v=a.hash2,l=a.send,e=a.range;a.add_stubs("$include $attr_reader $attr_accessor $== $document $to_s $key? $dup $[] $raise $converter $attributes $nil? $[]= $- $delete $update $nil_or_empty? $split $include? $empty? $* $apply_reftext_subs $attr? $extname $attr $image_uri $< $safe $uriish? $uri_encode_spaces $normalize_web_path $generate_data_uri_from_uri $generate_data_uri $normalize_system_path $readable? $strict_encode64 $binread $warn $logger $require_library $! $open $content_type $read $base_dir $root? $path_resolver $join $system_path $web_path $=== $!= $normalize_lines_from_string $open_uri $fetch $read_asset $gsub".split(" "));
return function(q,n){var p=[d(q,"Asciidoctor")].concat(n);(function(d,$super,n){function q(){}d=q=f(d,$super,"AbstractNode",q);var p=d.$$proto,B=[d].concat(n),r,x,w,u,A,z,N,E,X,R,P,ja,Z,H,ba,T,ga,ca,aa,sa,la,Ma,ha,pa,Y,qa,na,ia,xa,ra,wa,ua;p.document=p.attributes=p.parent=y;d.$include(b(B,"Logging"));d.$include(b(B,"Substitutors"));d.$attr_reader("attributes");d.$attr_reader("context");d.$attr_reader("document");d.$attr_accessor("id");d.$attr_reader("node_name");d.$attr_reader("parent");a.def(d,"$initialize",
r=function(a,b,c){null==c&&(c=v([],{}));b["$=="]("document")?(a=[this,y],this.document=a[0],this.parent=a[1],a):m(a)?(a=[a.$document(),a],this.document=a[0],this.parent=a[1],a):this.document=this.parent=y;this.node_name=(this.context=b).$to_s();this.attributes=m(c["$key?"]("attributes"))?c["$[]"]("attributes").$dup():v([],{});return this.passthroughs=v([],{})},r.$$arity=-3);a.def(d,"$block?",x=function(){return this.$raise(h("::","NotImplementedError"))},x.$$arity=0);a.def(d,"$inline?",w=function(){return this.$raise(h("::",
"NotImplementedError"))},w.$$arity=0);a.def(d,"$converter",u=function(){return this.document.$converter()},u.$$arity=0);a.def(d,"$parent=",A=function(a){var b;return b=[a,a.$document()],this.parent=b[0],this.document=b[1],b},A.$$arity=1);a.def(d,"$attr",z=function(a,b,c){var d,e;null==b&&(b=y);null==c&&(c=!0);a=a.$to_s();return m(d=this.attributes["$[]"](a))?d:m(m(e=c)?this.parent:e)?m(e=this.document.$attributes()["$[]"](a))?e:b:b},z.$$arity=-2);a.def(d,"$attr?",N=function(a,b,c){var d,e,g;null==
b&&(b=y);null==c&&(c=!0);a=a.$to_s();return m(b["$nil?"]())?m(d=this.attributes["$key?"](a))?d:m(e=m(g=c)?this.parent:g)?this.document.$attributes()["$key?"](a):e:b["$=="](m(d=this.attributes["$[]"](a))?d:m(m(e=c)?this.parent:e)?this.document.$attributes()["$[]"](a):y)},N.$$arity=-2);a.def(d,"$set_attr",E=function(b,d,e){var f=y;null==d&&(d="");null==e&&(e=!0);if(m(e["$=="](!1)?this.attributes["$key?"](b):e["$=="](!1)))return!1;f=[b,d];l(this.attributes,"[]=",a.to_a(f));f[c(f.length,1)];return!0},
E.$$arity=-2);a.def(d,"$remove_attr",X=function(a){return this.attributes.$delete(a)},X.$$arity=1);a.def(d,"$option?",R=function(a){return this.attributes["$key?"](""+a+"-option")},R.$$arity=1);a.def(d,"$set_option",P=function(b){var d=y,d=m(this.attributes["$key?"]("options"))?["options",""+this.attributes["$[]"]("options")+","+b]:["options",b];l(this.attributes,"[]=",a.to_a(d));d[c(d.length,1)];d=[""+b+"-option",""];l(this.attributes,"[]=",a.to_a(d));return d[c(d.length,1)]},P.$$arity=1);a.def(d,
"$update_attributes",ja=function(a){this.attributes.$update(a);return y},ja.$$arity=1);a.def(d,"$role",Z=function(){var a;return m(a=this.attributes["$[]"]("role"))?a:this.document.$attributes()["$[]"]("role")},Z.$$arity=0);a.def(d,"$roles",H=function(){var a,b=y;return m((b=m(a=this.attributes["$[]"]("role"))?a:this.document.$attributes()["$[]"]("role"))["$nil_or_empty?"]())?[]:b.$split()},H.$$arity=0);a.def(d,"$role?",ba=function(a){var b;null==a&&(a=y);return m(a)?a["$=="](m(b=this.attributes["$[]"]("role"))?
b:this.document.$attributes()["$[]"]("role")):m(b=this.attributes["$key?"]("role"))?b:this.document.$attributes()["$key?"]("role")},ba.$$arity=-1);a.def(d,"$has_role?",T=function(a){var b,c=y;return m(c=m(b=this.attributes["$[]"]("role"))?b:this.document.$attributes()["$[]"]("role"))?(" "+c+" ")["$include?"](" "+a+" "):!1},T.$$arity=1);a.def(d,"$add_role",ga=function(b){var d=y,d=y;if(m((d=this.attributes["$[]"]("role"))["$nil_or_empty?"]()))return d=["role",b],l(this.attributes,"[]=",a.to_a(d)),
d[c(d.length,1)],!0;if(m((" "+d+" ")["$include?"](" "+b+" ")))return!1;d=["role",""+d+" "+b];l(this.attributes,"[]=",a.to_a(d));d[c(d.length,1)];return!0},ga.$$arity=1);a.def(d,"$remove_role",ca=function(b){var d=y,d=y;return m((d=this.attributes["$[]"]("role"))["$nil_or_empty?"]())?!1:m((d=d.$split()).$delete(b))?(m(d["$empty?"]())?this.attributes.$delete("role"):(d=["role",k(d," ")],l(this.attributes,"[]=",a.to_a(d)),d[c(d.length,1)]),!0):!1},ca.$$arity=1);a.def(d,"$reftext",aa=function(){var a=
y;return m(a=this.attributes["$[]"]("reftext"))?this.$apply_reftext_subs(a):y},aa.$$arity=0);a.def(d,"$reftext?",sa=function(){return this.attributes["$key?"]("reftext")},sa.$$arity=0);a.def(d,"$icon_uri",la=function(a){var b=y;m(this["$attr?"]("icon"))?m(h("::","File").$extname(b=this.$attr("icon"))["$empty?"]())&&(b=""+b+"."+this.document.$attr("icontype","png")):b=""+a+"."+this.document.$attr("icontype","png");return this.$image_uri(b,"iconsdir")},la.$$arity=1);a.def(d,"$image_uri",Ma=function(a,
c){var d,e,g,f,l=y,k=y;null==c&&(c="imagesdir");return m(m(d=t((l=this.document).$safe(),h(b(B,"SafeMode"),"SECURE")))?l["$attr?"]("data-uri"):d)?m(m(d=m(e=b(B,"Helpers")["$uriish?"](a))?a=this.$uri_encode_spaces(a):e)?d:m(e=m(g=m(f=c)?k=l.$attr(c):f)?b(B,"Helpers")["$uriish?"](k):g)?a=this.$normalize_web_path(a,k,!1):e)?m(l["$attr?"]("allow-uri-read"))?this.$generate_data_uri_from_uri(a,l["$attr?"]("cache-uri")):a:this.$generate_data_uri(a,c):this.$normalize_web_path(a,m(c)?l.$attr(c):y)},Ma.$$arity=
-2);a.def(d,"$media_uri",ha=function(a,b){null==b&&(b="imagesdir");return this.$normalize_web_path(a,m(b)?this.document.$attr(b):y)},ha.$$arity=-2);a.def(d,"$generate_data_uri",pa=function(a,b){var c=y,d=c=y;null==b&&(b=y);c=h("::","File").$extname(a);c=c["$=="](".svg")?"image/svg+xml":"image/"+c["$[]"](e(1,-1,!1));d=m(b)?this.$normalize_system_path(a,this.document.$attr(b),y,v(["target_name"],{target_name:"image"})):this.$normalize_system_path(a);if(m(h("::","File")["$readable?"](d)))return"data:"+
c+";base64,"+h("::","Base64").$strict_encode64(h("::","IO").$binread(d));this.$logger().$warn("image to embed not found or not readable: "+d);return"data:"+c+";base64,"},pa.$$arity=-2);a.def(d,"$generate_data_uri_from_uri",Y=function(c,d){var e,g=y,f=y;null==d&&(d=!1);m(d)?b(B,"Helpers").$require_library("open-uri/cached","open-uri-cached"):m(h("::","RUBY_ENGINE_OPAL")["$!"]())&&h("::","OpenURI");try{return g=y,f=l(this,"open",[c,"rb"],(e=function(a){null==a&&(a=y);g=a.$content_type();return a.$read()},
e.$$s=this,e.$$arity=1,e)),"data:"+g+";base64,"+h("::","Base64").$strict_encode64(f)}catch(k){if(a.rescue(k,[b(B,"StandardError")]))try{return this.$logger().$warn("could not retrieve image data from URI: "+c),c}finally{a.pop_exception()}else throw k;}},Y.$$arity=-2);a.def(d,"$normalize_asset_path",qa=function(a,b,c){null==b&&(b="path");null==c&&(c=!0);return this.$normalize_system_path(a,this.document.$base_dir(),y,v(["target_name","recover"],{target_name:b,recover:c}))},qa.$$arity=-2);a.def(d,"$normalize_system_path",
na=function(a,c,d,e){var g=y;null==c&&(c=y);null==d&&(d=y);null==e&&(e=v([],{}));m(t((g=this.document).$safe(),h(b(B,"SafeMode"),"SAFE")))?m(c)?m(g.$path_resolver()["$root?"](c))||(c=h("::","File").$join(g.$base_dir(),c)):c=g.$base_dir():(m(c)||(c=g.$base_dir()),m(d)||(d=g.$base_dir()));return g.$path_resolver().$system_path(a,c,d,e)},na.$$arity=-2);a.def(d,"$normalize_web_path",ia=function(a,c,d){var e;null==c&&(c=y);null==d&&(d=!0);return m(m(e=d)?b(B,"Helpers")["$uriish?"](a):e)?this.$uri_encode_spaces(a):
this.document.$path_resolver().$web_path(a,c)},ia.$$arity=-2);a.def(d,"$read_asset",xa=function(a,c){var d;null==c&&(c=v([],{}));m(h("::","Hash")["$==="](c))||(c=v(["warn_on_failure"],{warn_on_failure:c["$!="](!1)}));if(m(h("::","File")["$readable?"](a)))return m(c["$[]"]("normalize"))?k(b(B,"Helpers").$normalize_lines_from_string(h("::","IO").$read(a)),b(B,"LF")):h("::","IO").$read(a);m(c["$[]"]("warn_on_failure"))&&this.$logger().$warn(""+(m(d=this.$attr("docfile"))?d:"<stdin>")+": "+(m(d=c["$[]"]("label"))?
d:"file")+" does not exist or cannot be read: "+a);return y},xa.$$arity=-2);a.def(d,"$read_contents",ra=function(c,d){var e,g,f,n,q=y,t=y,w=y;null==d&&(d=v([],{}));q=this.document;if(m(m(e=b(B,"Helpers")["$uriish?"](c))?e:m(g=m(f=t=d["$[]"]("start"))?b(B,"Helpers")["$uriish?"](t):f)?c=q.$path_resolver().$web_path(c,t):g))if(m(q["$attr?"]("allow-uri-read"))){m(q["$attr?"]("cache-uri"))&&b(B,"Helpers").$require_library("open-uri/cached","open-uri-cached");try{return w=l(h("::","OpenURI"),"open_uri",
[c],(n=function(a){null==a&&(a=y);return a.$read()},n.$$s=this,n.$$arity=1,n)),m(d["$[]"]("normalize"))&&(w=k(b(B,"Helpers").$normalize_lines_from_string(w),b(B,"LF"))),w}catch(p){if(a.rescue(p,[b(B,"StandardError")]))try{return m(d.$fetch("warn_on_failure",!0))&&this.$logger().$warn("could not retrieve contents of "+(m(e=d["$[]"]("label"))?e:"asset")+" at URI: "+c),y}finally{a.pop_exception()}else throw p;}}else return m(d.$fetch("warn_on_failure",!0))&&this.$logger().$warn("cannot retrieve contents of "+
(m(e=d["$[]"]("label"))?e:"asset")+" at URI: "+c+" (allow-uri-read attribute not enabled)"),y;else return c=this.$normalize_system_path(c,d["$[]"]("start"),y,v(["target_name"],{target_name:m(e=d["$[]"]("label"))?e:"asset"})),this.$read_asset(c,v(["normalize","warn_on_failure","label"],{normalize:d["$[]"]("normalize"),warn_on_failure:d.$fetch("warn_on_failure",!0),label:d["$[]"]("label")}))},ra.$$arity=-2);a.def(d,"$uri_encode_spaces",wa=function(a){return m(a["$include?"](" "))?a.$gsub(" ","%20"):
a},wa.$$arity=1);return(a.def(d,"$is_uri?",ua=function(a){return b(B,"Helpers")["$uriish?"](a)},ua.$$arity=1),y)&&"is_uri?"})(p[0],null,p)}(p[0],p)};Opal.modules["asciidoctor/abstract_block"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function t(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var p=[],v=a.nil,h=a.const_get_relative,b=a.module,d=a.klass,f=
a.send,m=a.truthy,r=a.hash2;a.add_stubs("$attr_reader $attr_writer $attr_accessor $== $!= $level $file $lineno $playback_attributes $convert $converter $* $map $to_s $parent $parent= $- $<< $! $empty? $> $[] $has_role? $header? $concat $find_by $to_proc $each $flatten $context $blocks $+ $find_index $next_adjacent_block $select $sub_specialchars $match? $sub_replacements $title $apply_title_subs $include? $delete $reftext $=== $sprintf $sub_quotes $compat_mode $attributes $chomp $increment_and_store_counter $index= $numbered $sectname $counter $number= $number $caption= $assign_numeral $reindex_sections".split(" "));
return function(l,e){var q=[b(l,"Asciidoctor")].concat(e);(function(b,$super,e){function l(){}b=l=d(b,$super,"AbstractBlock",l);var q=b.$$proto,p=[b].concat(e),B,x,u,I,w,A,z,E,N,O,X,R,P,ja,Z,H,ba,T,ga,ca,aa,sa,la,ma,ha,pa,Y;q.source_location=q.document=q.attributes=q.blocks=q.next_section_index=q.context=q.style=q.id=q.header=q.caption=q.title_converted=q.converted_title=q.title=q.subs=q.number=q.next_section_number=v;b.$attr_reader("blocks");b.$attr_writer("caption");b.$attr_accessor("content_model");
b.$attr_accessor("level");b.$attr_accessor("number");b.$attr_accessor("source_location");b.$attr_accessor("style");b.$attr_reader("subs");a.def(b,"$initialize",B=function(b,c,d){var e=B.$$p,g=v,h=v,l=v;null==d&&(d=r([],{}));e&&(B.$$p=null);h=0;l=arguments.length;for(g=Array(l);h<l;h++)g[h]=arguments[h];f(this,a.find_super_dispatcher(this,"initialize",B,!1),g,e);this.content_model="compound";this.blocks=[];this.subs=[];this.id=this.title=this.title_converted=this.caption=this.number=this.style=this.default_subs=
this.source_location=v;c["$=="]("document")?this.level=0:m(m(b)?c["$!="]("section"):b)?this.level=b.$level():this.level=v;this.next_section_index=0;return this.next_section_number=1},B.$$arity=-3);a.def(b,"$block?",x=function(){return!0},x.$$arity=0);a.def(b,"$inline?",u=function(){return!1},u.$$arity=0);a.def(b,"$file",I=function(){var a;return m(a=this.source_location)?this.source_location.$file():a},I.$$arity=0);a.def(b,"$lineno",w=function(){var a;return m(a=this.source_location)?this.source_location.$lineno():
a},w.$$arity=0);a.def(b,"$convert",A=function(){this.document.$playback_attributes(this.attributes);return this.$converter().$convert(this)},A.$$arity=0);a.alias(b,"render","convert");a.def(b,"$content",z=function(){var a;return c(f(this.blocks,"map",[],(a=function(a){null==a&&(a=v);return a.$convert()},a.$$s=this,a.$$arity=1,a)),h(p,"LF"))},z.$$arity=0);a.def(b,"$context=",E=function(a){return this.node_name=(this.context=a).$to_s()},E.$$arity=1);a.def(b,"$<<",N=function(b){var c=v;b.$parent()["$=="](this)||
(c=[this],f(b,"parent=",a.to_a(c)),c[k(c.length,1)]);this.blocks["$<<"](b);return this},N.$$arity=1);a.alias(b,"append","<<");a.def(b,"$blocks?",O=function(){return this.blocks["$empty?"]()["$!"]()},O.$$arity=0);a.def(b,"$sections?",X=function(){var a=this.next_section_index;return"number"===typeof a?0<a:a["$>"](0)},X.$$arity=0);a.def(b,"$find_by",R=function(b){var c,d,e,g,h,l,k=R.$$p,n=k||v,q=v,t=v,w=v,p=v,C=v,B=v;null==b&&(b=r([],{}));k&&(R.$$p=null);q=[];if(m(m(c=m(d=m(e=m(g=t=(w=b["$[]"]("context"))["$!"]())?
g:w["$=="](this.context))?m(g=(p=b["$[]"]("style"))["$!"]())?g:p["$=="](this.style):e)?m(e=(C=b["$[]"]("role"))["$!"]())?e:this["$has_role?"](C):d)?m(d=(B=b["$[]"]("id"))["$!"]())?d:B["$=="](this.id):c)){if(m(B))return n!==v?m(a.yield1(n,this))?[this]:q:[this];if(n!==v){if(m(a.yield1(n,this)))q["$<<"](this)}else q["$<<"](this)}m(m(c=(d=this.context["$=="]("document"))?m(e=t)?e:w["$=="]("section"):this.context["$=="]("document"))?this["$header?"]():c)&&q.$concat(f(this.header,"find_by",[b],n.$to_proc()));
w["$=="]("document")||(this.context["$=="]("dlist")?m(m(c=t)?c:w["$!="]("section"))&&f(this.blocks.$flatten(),"each",[],(h=function(a){null==a&&(a=v);return m(a)?q.$concat(f(a,"find_by",[b],n.$to_proc())):v},h.$$s=this,h.$$arity=1,h)):m(f(this.blocks,"each",[],(l=function(a){null==a&&(a=v);return m(w["$=="]("section")?a.$context()["$!="]("section"):w["$=="]("section"))?v:q.$concat(f(a,"find_by",[b],n.$to_proc()))},l.$$s=this,l.$$arity=1,l))));return q},R.$$arity=-1);a.alias(b,"query","find_by");a.def(b,
"$next_adjacent_block",P=function(){var a=v,b=v;return this.context["$=="]("document")?v:m(a=(b=this.$parent()).$blocks()["$[]"](t(b.$blocks().$find_index(this),1)))?a:b.$next_adjacent_block()},P.$$arity=0);a.def(b,"$sections",ja=function(){var a;return f(this.blocks,"select",[],(a=function(a){null==a&&(a=v);return a.$context()["$=="]("section")},a.$$s=this,a.$$arity=1,a))},ja.$$arity=0);a.def(b,"$alt",Z=function(){var a=v;if(m(a=this.attributes["$[]"]("alt"))){if(a["$=="](this.attributes["$[]"]("default-alt")))return this.$sub_specialchars(a);
a=this.$sub_specialchars(a);return m(h(p,"ReplaceableTextRx")["$match?"](a))?this.$sub_replacements(a):a}return v},Z.$$arity=0);a.def(b,"$caption",H=function(){return this.context["$=="]("admonition")?this.attributes["$[]"]("textlabel"):this.caption},H.$$arity=0);a.def(b,"$captioned_title",ba=function(){return""+this.caption+this.$title()},ba.$$arity=0);a.def(b,"$list_marker_keyword",T=function(a){var b;null==a&&(a=v);return h(p,"ORDERED_LIST_KEYWORDS")["$[]"](m(b=a)?b:this.style)},T.$$arity=-1);
a.def(b,"$title",ga=function(){var a,b;return m(this.title_converted)?this.converted_title:this.converted_title=m(a=m(b=this.title_converted=!0)?this.title:b)?this.$apply_title_subs(this.title):a},ga.$$arity=0);a.def(b,"$title?",ca=function(){return m(this.title)?!0:!1},ca.$$arity=0);a.def(b,"$title=",aa=function(a){var b;return b=[a,v],this.title=b[0],this.title_converted=b[1],b},aa.$$arity=1);a.def(b,"$sub?",sa=function(a){return this.subs["$include?"](a)},sa.$$arity=1);a.def(b,"$remove_sub",la=
function(a){this.subs.$delete(a);return v},la.$$arity=1);a.def(b,"$xreftext",ma=function(a){var b,c,d=v,e=v,g=e=v;null==a&&(a=v);m(m(b=d=this.$reftext())?d["$empty?"]()["$!"]():b)?b=d:(m(m(b=m(c=a)?this.title:c)?this.caption:b)?(e=a,"full"["$==="](e)?(e=this.$sprintf(this.$sub_quotes(m(this.document.$compat_mode())?"``%s''":'"`%s`"'),this.$title()),a=m(m(b=this.number)?g=this.document.$attributes()["$[]"](this.context["$=="]("image")?"figure-caption":""+this.context+"-caption"):b)?""+g+" "+this.number+
", "+e:""+this.caption.$chomp(". ")+", "+e):a="short"["$==="](e)?m(m(b=this.number)?g=this.document.$attributes()["$[]"](this.context["$=="]("image")?"figure-caption":""+this.context+"-caption"):b)?""+g+" "+this.number:this.caption.$chomp(". "):this.$title()):a=this.$title(),b=a);return b},ma.$$arity=-1);a.def(b,"$assign_caption",ha=function(a,b){var c,d,e=v;null==a&&(a=v);null==b&&(b=v);!m(m(c=m(d=this.caption)?d:this.title["$!"]())?c:this.caption=m(d=a)?d:this.document.$attributes()["$[]"]("caption"))&&
m(e=this.document.$attributes()["$[]"](""+(b=m(c=b)?c:this.context)+"-caption"))&&(this.caption=""+e+" "+(this.number=this.document.$increment_and_store_counter(""+b+"-number",this))+". ");return v},ha.$$arity=-1);a.def(b,"$assign_numeral",pa=function(b){var c,d=v,e=v,g=v,h=v;this.next_section_index=t((d=[this.next_section_index],f(b,"index=",a.to_a(d)),d[k(d.length,1)]),1);m(e=b.$numbered())&&((g=b.$sectname())["$=="]("appendix")?(d=[this.document.$counter("appendix-number","A")],f(b,"number=",a.to_a(d)),
d[k(d.length,1)],d=m(h=this.document.$attributes()["$[]"]("appendix-caption"))?[""+h+" "+b.$number()+": "]:[""+b.$number()+". "],f(b,"caption=",a.to_a(d)),d[k(d.length,1)]):m(m(c=g["$=="]("chapter"))?c:e["$=="]("chapter"))?(d=[this.document.$counter("chapter-number",1)],f(b,"number=",a.to_a(d)),d[k(d.length,1)]):this.next_section_number=t((d=[this.next_section_number],f(b,"number=",a.to_a(d)),d[k(d.length,1)]),1));return v},pa.$$arity=1);return(a.def(b,"$reindex_sections",Y=function(){var a;this.next_section_index=
0;this.next_section_number=1;return f(this.blocks,"each",[],(a=function(b){var c=a.$$s||this;null==b&&(b=v);return b.$context()["$=="]("section")?(c.$assign_numeral(b),b.$reindex_sections()):v},a.$$s=this,a.$$arity=1,a))},Y.$$arity=0),v)&&"reindex_sections"})(q[0],h(q,"AbstractNode"),q)}(p[0],p)};Opal.modules["asciidoctor/attribute_list"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}
var t=[],p=a.nil,v=a.const_get_qualified,h=a.const_get_relative,b=a.module,d=a.klass,f=a.hash2,m=a.truthy,r=a.send;a.add_stubs("$new $[] $update $parse $parse_attribute $eos? $skip_delimiter $+ $rekey $each_with_index $[]= $- $skip_blank $== $peek $parse_attribute_value $get_byte $scan_name $! $!= $* $scan_to_delimiter $=== $include? $delete $each $split $empty? $strip $apply_subs $scan_to_quote $gsub $skip $scan".split(" "));return function(l,e){var q=[b(l,"Asciidoctor")].concat(e);(function(b,$super,
e){function l(){}b=l=d(b,$super,"AttributeList",l);var q=b.$$proto,t=[b].concat(e),x,u,J,I,w,A,z,E,N,O,X,R;q.attributes=q.scanner=q.delimiter=q.block=q.delimiter_skip_pattern=q.delimiter_boundary_pattern=p;a.const_set(t[0],"BACKSLASH","\\");a.const_set(t[0],"BoundaryRxs",f(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":/.*?(?=[ \t]*(,|$))/}));a.const_set(t[0],"EscapedQuotes",f(['"',"'"],{'"':'\\"',"'":"\\'"}));a.const_set(t[0],"NameRx",new RegExp(""+h(t,"CG_WORD")+"["+h(t,"CC_WORD")+"\\-.]*"));
a.const_set(t[0],"BlankRx",/[ \t]+/);a.const_set(t[0],"SkipRxs",f(["blank",","],{blank:h(t,"BlankRx"),",":/[ \t]*(,|$)/}));a.def(b,"$initialize",x=function(a,b,c){null==b&&(b=p);null==c&&(c=",");this.scanner=v("::","StringScanner").$new(a);this.block=b;this.delimiter=c;this.delimiter_skip_pattern=h(t,"SkipRxs")["$[]"](c);this.delimiter_boundary_pattern=h(t,"BoundaryRxs")["$[]"](c);return this.attributes=p},x.$$arity=-2);a.def(b,"$parse_into",u=function(a,b){null==b&&(b=[]);return a.$update(this.$parse(b))},
u.$$arity=-2);a.def(b,"$parse",J=function(a){var b=p;null==a&&(a=[]);if(m(this.attributes))return this.attributes;this.attributes=f([],{});for(b=0;m(this.$parse_attribute(b,a))&&!m(this.scanner["$eos?"]());)this.$skip_delimiter(),b=c(b,1);return this.attributes},J.$$arity=-1);a.def(b,"$rekey",I=function(a){return h(t,"AttributeList").$rekey(this.attributes,a)},I.$$arity=1);a.defs(b,"$rekey",w=function(b,d){var e;r(d,"each_with_index",[],(e=function(d,e){var f=p,f=f=p;null==d&&(d=p);null==e&&(e=p);
if(!m(d))return p;f=c(e,1);return m(f=b["$[]"](f))?(f=[d,f],r(b,"[]=",a.to_a(f)),f[k(f.length,1)]):p},e.$$s=this,e.$$arity=2,e));return b},w.$$arity=2);a.def(b,"$parse_attribute",A=function(b,d){var e,f,h=p,l=p,n=l=p,q=p,t=p,l=h=l=q=p;null==b&&(b=0);null==d&&(d=[]);h=!1;this.$skip_blank();if((l=this.scanner.$peek(1))["$=="]('"'))l=this.$parse_attribute_value(this.scanner.$get_byte()),n=p;else if(l["$=="]("'"))l=this.$parse_attribute_value(this.scanner.$get_byte()),n=p,h=!0;else{l=this.$scan_name();
q=0;t=p;if(m(this.scanner["$eos?"]())){if(!m(l))return!1}else q=m(e=this.$skip_blank())?e:0,t=this.scanner.$get_byte();if(m(m(e=t["$!"]())?e:t["$=="](this.delimiter)))n=p;else if(m(m(e=t["$!="]("="))?e:l["$!"]()))l=""+l+" "["$*"](q)+t+this.$scan_to_delimiter(),n=p;else if(this.$skip_blank(),m(this.scanner.$peek(1)))if((t=this.scanner.$get_byte())["$=="]('"'))n=this.$parse_attribute_value(t);else if(t["$=="]("'"))n=this.$parse_attribute_value(t),h=!0;else if(t["$=="](this.delimiter))n=p;else if(n=
""+t+this.$scan_to_delimiter(),n["$=="]("None"))return!0}m(n)?(q=l,"options"["$==="](q)||"opts"["$==="](q)?(m(n["$include?"](","))?(m(n["$include?"](" "))&&(n=n.$delete(" ")),r(n.$split(","),"each",[],(f=function(b){var c=f.$$s||this,d=p;null==c.attributes&&(c.attributes=p);null==b&&(b=p);if(m(b["$empty?"]()))return p;d=[""+b+"-option",""];r(c.attributes,"[]=",a.to_a(d));return d[k(d.length,1)]},f.$$s=this,f.$$arity=1,f))):(l=[""+(n=n.$strip())+"-option",""],r(this.attributes,"[]=",a.to_a(l)),l[k(l.length,
1)]),l=["options",n]):m(m(e=h)?this.block:e)?(q=l,l="title"["$==="](q)||"reftext"["$==="](q)?[l,n]:[l,this.block.$apply_subs(n)]):l=[l,n]):(h=m(m(e=h)?this.block:e)?this.block.$apply_subs(l):l,m(l=d["$[]"](b))&&(l=[l,h],r(this.attributes,"[]=",a.to_a(l)),l[k(l.length,1)]),l=[c(b,1),h]);r(this.attributes,"[]=",a.to_a(l));l[k(l.length,1)];return!0},A.$$arity=-1);a.def(b,"$parse_attribute_value",z=function(a){var b=p;return this.scanner.$peek(1)["$=="](a)?(this.scanner.$get_byte(),""):m(b=this.$scan_to_quote(a))?
(this.scanner.$get_byte(),m(b["$include?"](h(t,"BACKSLASH")))?b.$gsub(h(t,"EscapedQuotes")["$[]"](a),a):b):""+a+this.$scan_to_delimiter()},z.$$arity=1);a.def(b,"$skip_blank",E=function(){return this.scanner.$skip(h(t,"BlankRx"))},E.$$arity=0);a.def(b,"$skip_delimiter",N=function(){return this.scanner.$skip(this.delimiter_skip_pattern)},N.$$arity=0);a.def(b,"$scan_name",O=function(){return this.scanner.$scan(h(t,"NameRx"))},O.$$arity=0);a.def(b,"$scan_to_delimiter",X=function(){return this.scanner.$scan(this.delimiter_boundary_pattern)},
X.$$arity=0);return(a.def(b,"$scan_to_quote",R=function(a){return this.scanner.$scan(h(t,"BoundaryRxs")["$[]"](a))},R.$$arity=1),p)&&"scan_to_quote"})(q[0],null,q)}(t[0],t)};Opal.modules["asciidoctor/block"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var t=[],p=a.nil,v=a.const_get_qualified,h=a.const_get_relative,b=a.module,d=a.klass,f=a.send,m=a.hash2,r=a.truthy;a.add_stubs("$default= $- $attr_accessor $[] $key? $== $=== $dup $delete $[]= $lock_in_subs $nil_or_empty? $normalize_lines_from_string $apply_subs $* $< $size $empty? $rstrip $shift $pop $warn $logger $to_s $class $object_id $inspect".split(" "));
return function(l,e){var q=[b(l,"Asciidoctor")].concat(e);(function(b,$super,e){function l(){}b=l=d(b,$super,"Block",l);var q=b.$$proto,t=[b].concat(e),x,u,J,I;e=p;q.attributes=q.content_model=q.lines=q.subs=q.blocks=q.context=q.style=p;e=["simple"];f(a.const_set(t[0],"DEFAULT_CONTENT_MODEL",m("audio image listing literal stem open page_break pass thematic_break video".split(" "),{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",
thematic_break:"empty",video:"empty"})),"default=",a.to_a(e));e[c(e.length,1)];a.alias(b,"blockname","context");b.$attr_accessor("lines");a.def(b,"$initialize",x=function(b,d,e){var l,k=x.$$p,n=p,q=n=p,C=n=p,F=p;null==e&&(e=m([],{}));k&&(x.$$p=null);C=0;F=arguments.length;for(n=Array(F);C<F;C++)n[C]=arguments[C];f(this,a.find_super_dispatcher(this,"initialize",x,!1),n,k);this.content_model=r(l=e["$[]"]("content_model"))?l:h(t,"DEFAULT_CONTENT_MODEL")["$[]"](d);r(e["$key?"]("subs"))?r(n=e["$[]"]("subs"))?
(n["$=="]("default")?this.default_subs=e["$[]"]("default_subs"):r(v("::","Array")["$==="](n))?(this.default_subs=n.$dup(),this.attributes.$delete("subs")):(this.default_subs=p,n=["subs",""+n],f(this.attributes,"[]=",a.to_a(n)),n[c(n.length,1)]),this.$lock_in_subs()):(this.default_subs=[],this.attributes.$delete("subs")):this.default_subs=p;return r((q=e["$[]"]("source"))["$nil_or_empty?"]())?this.lines=[]:r(v("::","String")["$==="](q))?this.lines=h(t,"Helpers").$normalize_lines_from_string(q):this.lines=
q.$dup()},x.$$arity=-3);a.def(b,"$content",u=function(){var b,c=this,d=u.$$p,e=p,g=p,l=p,m=p,n=p,q=p,v=p;d&&(u.$$p=null);q=0;v=arguments.length;for(n=Array(v);q<v;q++)n[q]=arguments[q];return function(){e=c.content_model;if("compound"["$==="](e))return f(c,a.find_super_dispatcher(c,"content",u,!1),n,d);if("simple"["$==="](e))return c.$apply_subs(k(c.lines,h(t,"LF")),c.subs);if("verbatim"["$==="](e)||"raw"["$==="](e)){g=c.$apply_subs(c.lines,c.subs);var q;q=g.$size();q="number"===typeof q?2>q:q["$<"](2);
if(r(q))return g["$[]"](0);for(;r(r(b=l=g["$[]"](0))?l.$rstrip()["$empty?"]():b);)g.$shift();for(;r(r(b=m=g["$[]"](-1))?m.$rstrip()["$empty?"]():b);)g.$pop();return k(g,h(t,"LF"))}c.content_model["$=="]("empty")||c.$logger().$warn("Unknown content model '"+c.content_model+"' for block: "+c.$to_s());return p}()},u.$$arity=0);a.def(b,"$source",J=function(){return k(this.lines,h(t,"LF"))},J.$$arity=0);return(a.def(b,"$to_s",I=function(){var a=p,a=this.content_model["$=="]("compound")?"blocks: "+this.blocks.$size():
"lines: "+this.lines.$size();return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", content_model: "+this.content_model.$inspect()+", style: "+this.style.$inspect()+", "+a+"}>"},I.$$arity=0),p)&&"to_s"})(q[0],h(q,"AbstractBlock"),q)}(t[0],t)};Opal.modules["asciidoctor/callouts"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var t=[],p=a.nil,v=a.module,
h=a.klass,b=a.hash2,d=a.truthy,f=a.send;a.add_stubs("$next_list $<< $current_list $to_i $generate_next_callout_id $+ $<= $size $[] $- $chop $join $map $== $< $generate_callout_id".split(" "));return function(m,t){var l=[v(m,"Asciidoctor")].concat(t);(function(e,$super,l){function m(){}e=m=h(e,$super,"Callouts",m);var t=e.$$proto;[e].concat(l);var v,r,y,x,u,J,I,w,A;t.co_index=t.lists=t.list_index=p;a.def(e,"$initialize",v=function(){this.lists=[];this.list_index=0;return this.$next_list()},v.$$arity=
0);a.def(e,"$register",r=function(a){var d=p;this.$current_list()["$<<"](b(["ordinal","id"],{ordinal:a.$to_i(),id:d=this.$generate_next_callout_id()}));this.co_index=c(this.co_index,1);return d},r.$$arity=1);a.def(e,"$read_next_id",y=function(){var a=p,b=p,a=p,b=this.$current_list(),e;e=this.co_index;var f=b.$size();e="number"===typeof e&&"number"===typeof f?e<=f:e["$<="](f);d(e)&&(a=b["$[]"](k(this.co_index,1))["$[]"]("id"));this.co_index=c(this.co_index,1);return a},y.$$arity=0);a.def(e,"$callout_ids",
x=function(a){var b;return f(this.$current_list(),"map",[],(b=function(b){null==b&&(b=p);return b["$[]"]("ordinal")["$=="](a)?""+b["$[]"]("id")+" ":""},b.$$s=this,b.$$arity=1,b)).$join().$chop()},x.$$arity=1);a.def(e,"$current_list",u=function(){return this.lists["$[]"](k(this.list_index,1))},u.$$arity=0);a.def(e,"$next_list",J=function(){this.list_index=c(this.list_index,1);var a;a=this.lists.$size();var b=this.list_index;a="number"===typeof a&&"number"===typeof b?a<b:a["$<"](b);if(d(a))this.lists["$<<"]([]);
this.co_index=1;return p},J.$$arity=0);a.def(e,"$rewind",I=function(){this.co_index=this.list_index=1;return p},I.$$arity=0);a.def(e,"$generate_next_callout_id",w=function(){return this.$generate_callout_id(this.list_index,this.co_index)},w.$$arity=0);return(a.def(e,"$generate_callout_id",A=function(a,b){return"CO"+a+"-"+b},A.$$arity=2),p)&&"generate_callout_id"})(l[0],null,l)}(t[0],t)};Opal.modules["asciidoctor/converter/base"]=function(a){var c=[],k=a.nil,t=a.const_get_relative,p=a.module,v=a.klass,
h=a.hash2,b=a.truthy;a.add_stubs(["$include","$node_name","$empty?","$send","$content"]);return function(c,g){var m=[p(c,"Asciidoctor")].concat(g);(function(a,b){[p(a,"Converter")].concat(b);k})(m[0],m);(function(a,$super,b){function c(){}a=c=v(a,$super,"Base",c);b=[a].concat(b);a.$include(t(b,"Logging"));return a.$include(t(b,"Converter"))})(t(m,"Converter"),null,m);(function(c,$super,d){function g(){}c=g=v(c,$super,"BuiltIn",g);d=[c].concat(d);var f,m,p,C;c.$include(t(d,"Logging"));a.def(c,"$initialize",
f=function(a,b){null==b&&h([],{});return k},f.$$arity=-2);a.def(c,"$convert",m=function(a,c,d){var e;null==c&&(c=k);null==d&&(d=h([],{}));c=b(e=c)?e:a.$node_name();return b(d["$empty?"]())?this.$send(c,a):this.$send(c,a,d)},m.$$arity=-2);a.alias(c,"handles?","respond_to?");a.def(c,"$content",p=function(a){return a.$content()},p.$$arity=1);a.alias(c,"pass","content");return(a.def(c,"$skip",C=function(a){return k},C.$$arity=1),k)&&"skip"})(t(m,"Converter"),null,m)}(c[0],c)};Opal.modules["asciidoctor/converter/factory"]=
function(a){var c=[],k=a.nil,t=a.const_get_qualified,p=a.const_get_relative,v=a.module,h=a.klass,b=a.truthy,d=a.hash2,f=a.send;a.add_stubs("$new $require $to_s $include? $include $warn $logger $register $default $resolve $create $converters $unregister_all $attr_reader $each $[]= $- $== $[] $clear $=== $supports_templates? $key?".split(" "));return function(c,g){var l=[v(c,"Asciidoctor")].concat(g);(function(c,g){var l=[v(c,"Converter")].concat(g);(function(c,$super,e){function g(){}c=g=h(c,$super,
"Factory",g);var l=c.$$proto,m=[c].concat(e),n,q,v,w,r;l.converters=l.star_converter=k;c.__default__=k;(function(c,e){var g=[c].concat(e),f,h,l,m,n,q;a.def(c,"$default",f=function(c){var d;null==this.__default__&&(this.__default__=k);null==c&&(c=!0);if(!b(c))return b(d=this.__default__)?d:this.$new();var e;if(b(d=this.__default__))e=d;else a:{try{b(t("::","ThreadSafe","skip_raise")?"constant":k)||this.$require("thread_safe".$to_s());e=this.$new(t(t("::","ThreadSafe"),"Cache").$new());break a}catch(f){if(a.rescue(f,
[t("::","LoadError")]))try{b(this["$include?"](p(g,"Logging")))||this.$include(p(g,"Logging"));this.$logger().$warn("gem 'thread_safe' is not installed. This gem is recommended when registering custom converters.");e=this.$new();break a}finally{a.pop_exception()}else throw f;}e=void 0}return this.__default__=e},f.$$arity=-1);a.def(c,"$register",h=function(a,b){null==b&&(b=["*"]);return this.$default().$register(a,b)},h.$$arity=-2);a.def(c,"$resolve",l=function(a){return this.$default().$resolve(a)},
l.$$arity=1);a.def(c,"$create",m=function(a,b){null==b&&(b=d([],{}));return this.$default().$create(a,b)},m.$$arity=-2);a.def(c,"$converters",n=function(){return this.$default().$converters()},n.$$arity=0);return(a.def(c,"$unregister_all",q=function(){return this.$default().$unregister_all()},q.$$arity=0),k)&&"unregister_all"})(a.get_singleton_class(c),m);c.$attr_reader("converters");a.def(c,"$initialize",n=function(a){var c;null==a&&(a=k);this.converters=b(c=a)?c:d([],{});return this.star_converter=
k},n.$$arity=-1);a.def(c,"$register",q=function(b,c){var d;null==c&&(c=["*"]);f(c,"each",[],(d=function(c){var e=d.$$s||this,g=k;null==e.converters&&(e.converters=k);null==c&&(c=k);g=[c,b];f(e.converters,"[]=",a.to_a(g));var h=g,g=g.length,g="number"===typeof g?g-1:g["$-"](1);h[g];return c["$=="]("*")?e.star_converter=b:k},d.$$s=this,d.$$arity=1,d));return k},q.$$arity=-2);a.def(c,"$resolve",v=function(a){var c,d;return b(c=this.converters)?b(d=this.converters["$[]"](a))?d:this.star_converter:c},
v.$$arity=1);a.def(c,"$unregister_all",w=function(){this.converters.$clear();return this.star_converter=k},w.$$arity=0);return(a.def(c,"$create",r=function(a,c){var e,g,f,h,l,n,q,w,v,C,r,y,x,I=k,u=k,I=I=k;null==c&&(c=d([],{}));if(b(I=this.$resolve(a))){if(u=b(t("::","Class")["$==="](I))?I.$new(a,c):I,!b(b(e=t(p(m,"Converter"),"BackendInfo")["$==="](u))?u["$supports_templates?"]():e))return u}else I=a,"html5"["$==="](I)?(b((f=t("::","Asciidoctor","skip_raise"))&&(g=t(f,"Converter","skip_raise"))&&
t(g,"Html5Converter","skip_raise")?"constant":k)||this.$require("asciidoctor/converter/html5".$to_s()),u=p(m,"Html5Converter").$new(a,c)):"docbook5"["$==="](I)?(b((l=t("::","Asciidoctor","skip_raise"))&&(h=t(l,"Converter","skip_raise"))&&t(h,"DocBook5Converter","skip_raise")?"constant":k)||this.$require("asciidoctor/converter/docbook5".$to_s()),u=p(m,"DocBook5Converter").$new(a,c)):"docbook45"["$==="](I)?(b((q=t("::","Asciidoctor","skip_raise"))&&(n=t(q,"Converter","skip_raise"))&&t(n,"DocBook45Converter",
"skip_raise")?"constant":k)||this.$require("asciidoctor/converter/docbook45".$to_s()),u=p(m,"DocBook45Converter").$new(a,c)):"manpage"["$==="](I)&&(b((v=t("::","Asciidoctor","skip_raise"))&&(w=t(v,"Converter","skip_raise"))&&t(w,"ManPageConverter","skip_raise")?"constant":k)||this.$require("asciidoctor/converter/manpage".$to_s()),u=p(m,"ManPageConverter").$new(a,c));if(!b(c["$key?"]("template_dirs")))return u;b((r=t("::","Asciidoctor","skip_raise"))&&(C=t(r,"Converter","skip_raise"))&&t(C,"TemplateConverter",
"skip_raise")?"constant":k)||this.$require("asciidoctor/converter/template".$to_s());I=p(m,"TemplateConverter").$new(a,c["$[]"]("template_dirs"),c);b((x=t("::","Asciidoctor","skip_raise"))&&(y=t(x,"Converter","skip_raise"))&&t(y,"CompositeConverter","skip_raise")?"constant":k)||this.$require("asciidoctor/converter/composite".$to_s());return p(m,"CompositeConverter").$new(a,I,u)},r.$$arity=-2),k)&&"create"})(l[0],null,l)})(l[0],l)}(c[0],c)};Opal.modules["asciidoctor/converter"]=function(a){function c(a,
b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var k=a.top,t=[],p=a.nil,v=a.const_get_qualified,h=a.const_get_relative,b=a.module,d=a.send,f=a.truthy,m=a.range,r=a.hash2;a.add_stubs("$register $== $send $include? $setup_backend_info $raise $class $sub $[] $[]= $backend_info $- $extend $include $respond_to? $write $chomp $require".split(" "));(function(l,e){var k=[b(l,"Asciidoctor")].concat(e);(function(e,l){var k=b(e,"Converter"),q=[k].concat(l),t,x;(function(c,e){var g=b(c,"Config"),
f=[g].concat(e),l;a.def(g,"$register_for",l=function(b){var c,e,g,l=p,l=arguments.length,k=l-0;0>k&&(k=0);g=Array(k);for(k=0;k<l;k++)g[k-0]=arguments[k];h(f,"Factory").$register(this,g);l=function(a,b){[a].concat(b);return a}(a.get_singleton_class(this),f);g["$=="](["*"])?d(l,"send",["define_method","converts?"],(c=function(a){return!0},c.$$s=this,c.$$arity=1,c)):d(l,"send",["define_method","converts?"],(e=function(a){null==a&&(a=p);return g["$include?"](a)},e.$$s=this,e.$$arity=1,e));return p},l.$$arity=
-1)})(q[0],q);(function(e,l){var k=b(e,"BackendInfo"),n=[k].concat(l),q,t,C,x,u,F,A,z;a.def(k,"$backend_info",q=function(){var a;null==this.backend_info&&(this.backend_info=p);return this.backend_info=f(a=this.backend_info)?a:this.$setup_backend_info()},q.$$arity=0);a.def(k,"$setup_backend_info",t=function(){var a=p,b=p,c=p,d=p;null==this.backend&&(this.backend=p);f(this.backend)||this.$raise(v("::","ArgumentError"),"Cannot determine backend for converter: "+this.$class());a=this.backend.$sub(h(n,
"TrailingDigitsRx"),"");f(b=h(n,"DEFAULT_EXTENSIONS")["$[]"](a))?c=b["$[]"](m(1,-1,!1)):(a="html",b=".html",d=c="html");return r(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:a,outfilesuffix:b,filetype:c,htmlsyntax:d})},t.$$arity=0);a.def(k,"$filetype",C=function(b){var e=p;null==b&&(b=p);return f(b)?(e=["filetype",b],d(this.$backend_info(),"[]=",a.to_a(e)),e[c(e.length,1)]):this.$backend_info()["$[]"]("filetype")},C.$$arity=-1);a.def(k,"$basebackend",x=function(b){var e=p;
null==b&&(b=p);return f(b)?(e=["basebackend",b],d(this.$backend_info(),"[]=",a.to_a(e)),e[c(e.length,1)]):this.$backend_info()["$[]"]("basebackend")},x.$$arity=-1);a.def(k,"$outfilesuffix",u=function(b){var e=p;null==b&&(b=p);return f(b)?(e=["outfilesuffix",b],d(this.$backend_info(),"[]=",a.to_a(e)),e[c(e.length,1)]):this.$backend_info()["$[]"]("outfilesuffix")},u.$$arity=-1);a.def(k,"$htmlsyntax",F=function(b){var e=p;null==b&&(b=p);return f(b)?(e=["htmlsyntax",b],d(this.$backend_info(),"[]=",a.to_a(e)),
e[c(e.length,1)]):this.$backend_info()["$[]"]("htmlsyntax")},F.$$arity=-1);a.def(k,"$supports_templates",A=function(){var b=p,b=["supports_templates",!0];d(this.$backend_info(),"[]=",a.to_a(b));return b[c(b.length,1)]},A.$$arity=0);a.def(k,"$supports_templates?",z=function(){return this.$backend_info()["$[]"]("supports_templates")},z.$$arity=0)})(q[0],q);(function(b,c){var d=[b].concat(c),e;return(a.def(b,"$included",e=function(a){return a.$extend(h(d,"Config"))},e.$$arity=1),p)&&"included"})(a.get_singleton_class(k),
q);k.$include(h(q,"Config"));k.$include(h(q,"BackendInfo"));a.def(k,"$initialize",t=function(a,b){null==b&&r([],{});this.backend=a;return this.$setup_backend_info()},t.$$arity=-2);a.def(k,"$convert",x=function(a,b,c){null==c&&r([],{});return this.$raise(v("::","NotImplementedError"))},x.$$arity=-2);a.alias(k,"handles?","respond_to?");a.alias(k,"convert_with_options","convert")})(k[0],k);(function(c,d){var e=b(c,"Writer"),g=[e].concat(d),l;a.def(e,"$write",l=function(a,b){f(b["$respond_to?"]("write"))?
(b.$write(a.$chomp()),b.$write(h(g,"LF"))):v("::","IO").$write(b,a);return p},l.$$arity=2)})(k[0],k);(function(c,d){var e=b(c,"VoidWriter"),g=[e].concat(d),f;e.$include(h(g,"Writer"));a.def(e,"$write",f=function(a,b){return p},f.$$arity=2)})(k[0],k)})(t[0],t);k.$require("asciidoctor/converter/base");return k.$require("asciidoctor/converter/factory")};Opal.modules["asciidoctor/document"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function k(a,b){return"number"===
typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function t(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var v=[],h=a.nil,b=a.const_get_qualified,d=a.const_get_relative,f=a.module,m=a.klass,r=a.truthy,l=a.send,e=a.hash2,q=a.gvars;a.add_stubs("$new $attr_reader $nil? $<< $[] $[]= $- $include? $strip $squeeze $gsub $empty? $! $rpartition $attr_accessor $delete $base_dir $options $inject $catalog $== $dup $attributes $safe $compat_mode $sourcemap $path_resolver $converter $extensions $each $end_with? $start_with? $slice $length $chop $downcase $extname $=== $value_for_name $to_s $key? $freeze $attribute_undefined $attribute_missing $name_for_value $expand_path $pwd $>= $+ $abs $to_i $delete_if $update_doctype_attributes $cursor $parse $restore_attributes $update_backend_attributes $utc $at $Integer $now $index $strftime $year $fetch $activate $create $to_proc $groups $preprocessors? $preprocessors $process_method $tree_processors? $tree_processors $!= $counter $nil_or_empty? $nextval $value $save_to $chr $ord $source $source_lines $doctitle $sectname= $title= $first_section $title $merge $find $context $assign_numeral $clear_playback_attributes $save_attributes $attribute_locked? $rewind $replace $name $negate $limit_bytesize $apply_attribute_value_subs $delete? $=~ $apply_subs $resolve_pass_subs $apply_header_subs $create_converter $basebackend $outfilesuffix $filetype $sub $raise $Array $backend $default $start $doctype $content_model $warn $logger $content $convert $postprocessors? $postprocessors $record $write $respond_to? $chomp $write_alternate_pages $map $split $resolve_docinfo_subs $& $normalize_system_path $read_asset $docinfo_processors? $compact $* $resolve_subs $docinfo_processors $class $object_id $inspect $size".split(" "));
return function(n,v){var y=[f(n,"Asciidoctor")].concat(v);(function(f,$super,n){function v(){}f=v=m(f,$super,"Document",v);var y=f.$$proto,x=[f].concat(n),I,w,u,A,z,E,O,X,R,P,ja,Z,H,ba,T,ga,ca,aa,ka,la,ma,ha,pa,Y,qa,na,ia,Ma,ra,wa,ua,va,ya,Aa,Ea,Ba,Ca,Da,Ha,Ia,M,Ka,oa,Fa,Ja;y.attributes=y.safe=y.sourcemap=y.reader=y.base_dir=y.parsed=y.parent_document=y.extensions=y.options=y.counters=y.catalog=y.header=y.blocks=y.attributes_modified=y.id=y.header_attributes=y.max_attribute_value_size=y.attribute_overrides=
y.backend=y.doctype=y.converter=y.timings=y.outfilesuffix=y.docinfo_processor_extensions=y.document=h;a.const_set(x[0],"Footnote",b("::","Struct").$new("index","id","text"));(function(b,$super,d){function e(){}b=e=m(b,$super,"AttributeEntry",e);[b].concat(d);var f,k;b.$attr_reader("name","value","negate");a.def(b,"$initialize",f=function(a,b,c){null==c&&(c=h);this.name=a;this.value=b;return this.negate=r(c["$nil?"]())?b["$nil?"]():c},f.$$arity=-3);return(a.def(b,"$save_to",k=function(b){var d,e=h;
(r(d=b["$[]"]("attribute_entries"))?d:(e=["attribute_entries",[]],l(b,"[]=",a.to_a(e)),e[c(e.length,1)]))["$<<"](this);return this},k.$$arity=1),h)&&"save_to"})(x[0],null,x);(function(b,$super,c){function g(){}b=g=m(b,$super,"Title",g);var f=b.$$proto,l=[b].concat(c),k,n,q,t;f.sanitized=f.subtitle=f.combined=h;b.$attr_reader("main");a.alias(b,"title","main");b.$attr_reader("subtitle");b.$attr_reader("combined");a.def(b,"$initialize",k=function(b,c){var g,f,k=h;null==c&&(c=e([],{}));r(r(g=this.sanitized=
c["$[]"]("sanitize"))?b["$include?"]("<"):g)&&(b=b.$gsub(d(l,"XmlSanitizeRx"),"").$squeeze(" ").$strip());r(r(g=(k=r(f=c["$[]"]("separator"))?f:":")["$empty?"]())?g:b["$include?"](k=""+k+" ")["$!"]())?(this.main=b,this.subtitle=h):(f=b.$rpartition(k),g=a.to_ary(f),this.main=null==g[0]?h:g[0],this.subtitle=null==g[2]?h:g[2],f);return this.combined=b},k.$$arity=-2);a.def(b,"$sanitized?",n=function(){return this.sanitized},n.$$arity=0);a.def(b,"$subtitle?",q=function(){return r(this.subtitle)?!0:!1},
q.$$arity=0);return(a.def(b,"$to_s",t=function(){return this.combined},t.$$arity=0),h)&&"to_s"})(x[0],null,x);f.$attr_reader("safe");f.$attr_reader("compat_mode");f.$attr_reader("backend");f.$attr_reader("doctype");f.$attr_accessor("sourcemap");f.$attr_reader("catalog");a.alias(f,"references","catalog");f.$attr_reader("counters");f.$attr_reader("header");f.$attr_reader("base_dir");f.$attr_reader("options");f.$attr_reader("outfilesuffix");f.$attr_reader("parent_document");f.$attr_reader("reader");
f.$attr_reader("path_resolver");f.$attr_reader("converter");f.$attr_reader("extensions");a.def(f,"$initialize",I=function(f,m){var n,q,p,w,K,v,y,C=I.$$p,B=h,G=h,u=h,A=h,z=h,E=z=z=h,L=h,Z=E=h,fa=E=E=h,T=h,z=z=T=E=B=h;null==f&&(f=h);null==m&&(m=e([],{}));C&&(I.$$p=null);l(this,a.find_super_dispatcher(this,"initialize",I,!1),[this,"document"],null);if(r(B=m.$delete("parent")))this.parent_document=B,r(n=m["$[]"]("base_dir"))?n:(G=["base_dir",B.$base_dir()],l(m,"[]=",a.to_a(G)),G[c(G.length,1)]),r(B.$options()["$[]"]("catalog_assets"))&&
(G=["catalog_assets",!0],l(m,"[]=",a.to_a(G)),G[c(G.length,1)]),this.catalog=l(B.$catalog(),"inject",[e([],{})],(q=function(b,d){var e,f;null==d&&(d=h);d=a.to_ary(d);e=a.slice.call(d,0,d.length);f=e.splice(0,1)[0];null==f&&(f=h);e=e.splice(0,1)[0];null==e&&(e=h);null==b&&(b=h);G=[f,f["$=="]("footnotes")?[]:e];l(b,"[]=",a.to_a(G));G[c(G.length,1)];return b},q.$$s=this,q.$$arity=2,q.$$has_top_level_mlhs_arg=!0,q)),this.attribute_overrides=u=B.$attributes().$dup(),A=u.$delete("doctype"),u.$delete("compat-mode"),
u.$delete("toc"),u.$delete("toc-placement"),u.$delete("toc-position"),this.safe=B.$safe(),r(this.compat_mode=B.$compat_mode())&&(G=["compat-mode",""],l(this.attributes,"[]=",a.to_a(G)),G[c(G.length,1)]),this.sourcemap=B.$sourcemap(),this.timings=h,this.path_resolver=B.$path_resolver(),this.converter=B.$converter(),z=!1,this.extensions=B.$extensions();else{this.parent_document=h;this.catalog=e("ids refs footnotes links images indexterms callouts includes".split(" "),{ids:e([],{}),refs:e([],{}),footnotes:[],
links:[],images:[],indexterms:[],callouts:d(x,"Callouts").$new(),includes:e([],{})});this.attribute_overrides=u=e([],{});l(r(n=m["$[]"]("attributes"))?n:e([],{}),"each",[],(p=function(b,d){var e;null==b&&(b=h);null==d&&(d=h);r(b["$end_with?"]("@"))?(e=r(b["$start_with?"]("!"))?[b.$slice(1,b.$length()),!1]:r(b["$end_with?"]("!@"))?[b.$slice(0,c(b.$length(),2)),!1]:[b.$chop(),""+d+"@"],b=e[0],d=e[1],e):r(b["$start_with?"]("!"))?(e=[b.$slice(1,b.$length()),d["$=="]("@")?!1:h],b=e[0],d=e[1],e):r(b["$end_with?"]("!"))&&
(e=[b.$chop(),d["$=="]("@")?!1:h],b=e[0],d=e[1],e);G=[b.$downcase(),d];l(u,"[]=",a.to_a(G));return G[c(G.length,1)]},p.$$s=this,p.$$arity=2,p));r(z=m["$[]"]("to_file"))&&(G=["outfilesuffix",b("::","File").$extname(z)],l(u,"[]=",a.to_a(G)),G[c(G.length,1)]);if(r((z=m["$[]"]("safe"))["$!"]()))this.safe=b(d(x,"SafeMode"),"SECURE");else if(r(b("::","Integer")["$==="](z)))this.safe=z;else try{this.safe=d(x,"SafeMode").$value_for_name(z.$to_s())}catch(M){if(a.rescue(M,[d(x,"StandardError")]))try{this.safe=
b(d(x,"SafeMode"),"SECURE")}finally{a.pop_exception()}else throw M;}this.compat_mode=u["$key?"]("compat-mode");this.sourcemap=m["$[]"]("sourcemap");this.timings=m.$delete("timings");this.path_resolver=d(x,"PathResolver").$new();this.converter=h;z=(w=b("::","Asciidoctor","skip_raise"))&&(n=b(w,"Extensions","skip_raise"))?"constant":h;this.extensions=h}this.parsed=!1;this.header=h;this.counters=e([],{});this.attributes_modified=b("::","Set").$new();this.docinfo_processor_extensions=e([],{});E=r(K=m["$[]"]("header_footer"))?
K:(G=["header_footer",!1],l(m,"[]=",a.to_a(G)),G[c(G.length,1)]);(this.options=m).$freeze();L=this.attributes;G=["sectids",""];l(L,"[]=",a.to_a(G));G[c(G.length,1)];G=["toc-placement","auto"];l(L,"[]=",a.to_a(G));G[c(G.length,1)];r(E)?(G=["copycss",""],l(L,"[]=",a.to_a(G)),G[c(G.length,1)],G=["embedded",h]):(G=["notitle",""],l(L,"[]=",a.to_a(G)),G[c(G.length,1)],G=["embedded",""]);l(u,"[]=",a.to_a(G));G[c(G.length,1)];G=["stylesheet",""];l(L,"[]=",a.to_a(G));G[c(G.length,1)];G=["webfonts",""];l(L,
"[]=",a.to_a(G));G[c(G.length,1)];G=["prewrap",""];l(L,"[]=",a.to_a(G));G[c(G.length,1)];G=["attribute-undefined",d(x,"Compliance").$attribute_undefined()];l(L,"[]=",a.to_a(G));G[c(G.length,1)];G=["attribute-missing",d(x,"Compliance").$attribute_missing()];l(L,"[]=",a.to_a(G));G[c(G.length,1)];G=["iconfont-remote",""];l(L,"[]=",a.to_a(G));G[c(G.length,1)];G=["caution-caption","Caution"];l(L,"[]=",a.to_a(G));G[c(G.length,1)];G=["important-caption","Important"];l(L,"[]=",a.to_a(G));G[c(G.length,1)];
G=["note-caption","Note"];l(L,"[]=",a.to_a(G));G[c(G.length,1)];G=["tip-caption","Tip"];l(L,"[]=",a.to_a(G));G[c(G.length,1)];G=["warning-caption","Warning"];l(L,"[]=",a.to_a(G));G[c(G.length,1)];G=["example-caption","Example"];l(L,"[]=",a.to_a(G));G[c(G.length,1)];G=["figure-caption","Figure"];l(L,"[]=",a.to_a(G));G[c(G.length,1)];G=["table-caption","Table"];l(L,"[]=",a.to_a(G));G[c(G.length,1)];G=["toc-title","Table of Contents"];l(L,"[]=",a.to_a(G));G[c(G.length,1)];G=["section-refsig","Section"];
l(L,"[]=",a.to_a(G));G[c(G.length,1)];G=["part-refsig","Part"];l(L,"[]=",a.to_a(G));G[c(G.length,1)];G=["chapter-refsig","Chapter"];l(L,"[]=",a.to_a(G));G[c(G.length,1)];G=["appendix-caption",(G=["appendix-refsig","Appendix"],l(L,"[]=",a.to_a(G)),G[c(G.length,1)])];l(L,"[]=",a.to_a(G));G[c(G.length,1)];G=["untitled-label","Untitled"];l(L,"[]=",a.to_a(G));G[c(G.length,1)];G=["version-label","Version"];l(L,"[]=",a.to_a(G));G[c(G.length,1)];G=["last-update-label","Last updated"];l(L,"[]=",a.to_a(G));
G[c(G.length,1)];G=["asciidoctor",""];l(u,"[]=",a.to_a(G));G[c(G.length,1)];G=["asciidoctor-version",d(x,"VERSION")];l(u,"[]=",a.to_a(G));G[c(G.length,1)];G=["safe-mode-name",E=d(x,"SafeMode").$name_for_value(this.safe)];l(u,"[]=",a.to_a(G));G[c(G.length,1)];G=["safe-mode-"+E,""];l(u,"[]=",a.to_a(G));G[c(G.length,1)];G=["safe-mode-level",this.safe];l(u,"[]=",a.to_a(G));G[c(G.length,1)];r(K=u["$[]"]("max-include-depth"))?K:(G=["max-include-depth",64],l(u,"[]=",a.to_a(G)),G[c(G.length,1)]);r(K=u["$[]"]("allow-uri-read"))?
K:(G=["allow-uri-read",h],l(u,"[]=",a.to_a(G)),G[c(G.length,1)]);G=["user-home",d(x,"USER_HOME")];l(u,"[]=",a.to_a(G));G[c(G.length,1)];r(u["$key?"]("numbered"))&&(G=["sectnums",u.$delete("numbered")],l(u,"[]=",a.to_a(G)),G[c(G.length,1)]);r(Z=m["$[]"]("base_dir"))?this.base_dir=(G=["docdir",b("::","File").$expand_path(Z)],l(u,"[]=",a.to_a(G)),G[c(G.length,1)]):r(u["$[]"]("docdir"))?this.base_dir=u["$[]"]("docdir"):this.base_dir=(G=["docdir",b("::","Dir").$pwd()],l(u,"[]=",a.to_a(G)),G[c(G.length,
1)]);r(E=m["$[]"]("backend"))&&(G=["backend",""+E],l(u,"[]=",a.to_a(G)),G[c(G.length,1)]);r(E=m["$[]"]("doctype"))&&(G=["doctype",""+E],l(u,"[]=",a.to_a(G)),G[c(G.length,1)]);r(k(this.safe,b(d(x,"SafeMode"),"SERVER")))&&(r(K=u["$[]"]("copycss"))?K:(G=["copycss",h],l(u,"[]=",a.to_a(G)),G[c(G.length,1)]),r(K=u["$[]"]("source-highlighter"))?K:(G=["source-highlighter",h],l(u,"[]=",a.to_a(G)),G[c(G.length,1)]),r(K=u["$[]"]("backend"))?K:(G=["backend",d(x,"DEFAULT_BACKEND")],l(u,"[]=",a.to_a(G)),G[c(G.length,
1)]),r(r(K=B["$!"]())?u["$key?"]("docfile"):K)&&(G=["docfile",u["$[]"]("docfile")["$[]"](a.Range.$new(t(u["$[]"]("docdir").$length(),1),-1,!1))],l(u,"[]=",a.to_a(G)),G[c(G.length,1)]),G=["docdir",""],l(u,"[]=",a.to_a(G)),G[c(G.length,1)],G=["user-home","."],l(u,"[]=",a.to_a(G)),G[c(G.length,1)],r(k(this.safe,b(d(x,"SafeMode"),"SECURE")))&&(r(u["$key?"]("max-attribute-value-size"))||(G=["max-attribute-value-size",4096],l(u,"[]=",a.to_a(G)),G[c(G.length,1)]),r(u["$key?"]("linkcss"))||(G=["linkcss",
""],l(u,"[]=",a.to_a(G)),G[c(G.length,1)]),r(K=u["$[]"]("icons"))?K:(G=["icons",h],l(u,"[]=",a.to_a(G)),G[c(G.length,1)])));this.max_attribute_value_size=r(fa=r(K=u["$[]"]("max-attribute-value-size"))?K:(G=["max-attribute-value-size",h],l(u,"[]=",a.to_a(G)),G[c(G.length,1)]))?fa.$to_i().$abs():h;l(u,"delete_if",[],(v=function(d,e){var f,k=h;null==d&&(d=h);null==e&&(e=h);r(e)?(r(r(f=b("::","String")["$==="](e))?e["$end_with?"]("@"):f)&&(f=[e.$chop(),!0],e=f[0],k=f[1],f),G=[d,e],l(L,"[]=",a.to_a(G)),
G[c(G.length,1)]):(L.$delete(d),k=e["$=="](!1));return k},v.$$s=this,v.$$arity=2,v));if(r(B))return this.backend=L["$[]"]("backend"),(this.doctype=(G=["doctype",A],l(L,"[]=",a.to_a(G)),G[c(G.length,1)]))["$=="](d(x,"DEFAULT_DOCTYPE"))||this.$update_doctype_attributes(d(x,"DEFAULT_DOCTYPE")),this.reader=d(x,"Reader").$new(f,m["$[]"]("cursor")),r(this.sourcemap)&&(this.source_location=this.reader.$cursor()),d(x,"Parser").$parse(this.reader,this),this.$restore_attributes(),this.parsed=!0;this.backend=
h;(r(K=L["$[]"]("backend"))?K:(G=["backend",d(x,"DEFAULT_BACKEND")],l(L,"[]=",a.to_a(G)),G[c(G.length,1)]))["$=="]("manpage")?this.doctype=(G=["doctype",(G=["doctype","manpage"],l(u,"[]=",a.to_a(G)),G[c(G.length,1)])],l(L,"[]=",a.to_a(G)),G[c(G.length,1)]):this.doctype=r(K=L["$[]"]("doctype"))?K:(G=["doctype",d(x,"DEFAULT_DOCTYPE")],l(L,"[]=",a.to_a(G)),G[c(G.length,1)]);this.$update_backend_attributes(L["$[]"]("backend"),!0);T=r(b("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?b("::","Time").$at(this.$Integer(b("::",
"ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():b("::","Time").$now();r(B=L["$[]"]("localdate"))?E=r(K=L["$[]"]("localyear"))?K:(G=["localyear",B.$index("-")["$=="](4)?B.$slice(0,4):h],l(L,"[]=",a.to_a(G)),G[c(G.length,1)]):(B=(G=["localdate",T.$strftime("%Y-%m-%d")],l(L,"[]=",a.to_a(G)),G[c(G.length,1)]),E=r(K=L["$[]"]("localyear"))?K:(G=["localyear",T.$year().$to_s()],l(L,"[]=",a.to_a(G)),G[c(G.length,1)]));if(r(K=L["$[]"]("localtime")))n=K;else{var N;a:{try{N=T.$strftime("%H:%M:%S %Z");break a}catch(M){if(a.rescue(M,
[d(x,"StandardError")]))try{N=T.$strftime("%H:%M:%S %z");break a}finally{a.pop_exception()}else throw M;}N=void 0}n=(G=["localtime",N],l(L,"[]=",a.to_a(G)),G[c(G.length,1)])}T=n;r(K=L["$[]"]("localdatetime"))?K:(G=["localdatetime",""+B+" "+T],l(L,"[]=",a.to_a(G)),G[c(G.length,1)]);r(K=L["$[]"]("docdate"))?K:(G=["docdate",B],l(L,"[]=",a.to_a(G)),G[c(G.length,1)]);r(K=L["$[]"]("docyear"))?K:(G=["docyear",E],l(L,"[]=",a.to_a(G)),G[c(G.length,1)]);r(K=L["$[]"]("doctime"))?K:(G=["doctime",T],l(L,"[]=",
a.to_a(G)),G[c(G.length,1)]);r(K=L["$[]"]("docdatetime"))?K:(G=["docdatetime",""+B+" "+T],l(L,"[]=",a.to_a(G)),G[c(G.length,1)]);r(K=L["$[]"]("stylesdir"))?K:(G=["stylesdir","."],l(L,"[]=",a.to_a(G)),G[c(G.length,1)]);r(K=L["$[]"]("iconsdir"))?K:(G=["iconsdir",""+L.$fetch("imagesdir","./images")+"/icons"],l(L,"[]=",a.to_a(G)),G[c(G.length,1)]);r(z)&&(r(z=m["$[]"]("extension_registry"))?r(r(K=b(d(x,"Extensions"),"Registry")["$==="](z))?K:r(y=b("::","RUBY_ENGINE_JRUBY"))?b(b(b("::","AsciidoctorJ"),
"Extensions"),"ExtensionRegistry")["$==="](z):y)&&(this.extensions=z.$activate(this)):r(b("::","Proc")["$==="](z=m["$[]"]("extensions")))?this.extensions=l(d(x,"Extensions"),"create",[],z.$to_proc()).$activate(this):r(d(x,"Extensions").$groups()["$empty?"]()["$!"]())&&(this.extensions=b(d(x,"Extensions"),"Registry").$new().$activate(this)));this.reader=d(x,"PreprocessorReader").$new(this,f,b(d(x,"Reader"),"Cursor").$new(L["$[]"]("docfile"),this.base_dir),e(["normalize"],{normalize:!0}));return r(this.sourcemap)?
this.source_location=this.reader.$cursor():h},I.$$arity=-1);a.def(f,"$parse",w=function(a){var c,g,f,k=h,m=h;null==a&&(a=h);if(r(this.parsed))return this;k=this;r(a)&&(this.reader=d(x,"PreprocessorReader").$new(k,a,b(d(x,"Reader"),"Cursor").$new(this.attributes["$[]"]("docfile"),this.base_dir),e(["normalize"],{normalize:!0})),r(this.sourcemap)&&(this.source_location=this.reader.$cursor()));r(r(c=m=r(this.parent_document)?h:this.extensions)?m["$preprocessors?"]():c)&&l(m.$preprocessors(),"each",[],
(g=function(a){var b=g.$$s||this,c;null==b.reader&&(b.reader=h);null==a&&(a=h);return b.reader=r(c=a.$process_method()["$[]"](k,b.reader))?c:b.reader},g.$$s=this,g.$$arity=1,g));d(x,"Parser").$parse(this.reader,k,e(["header_only"],{header_only:this.options["$[]"]("parse_header_only")}));this.$restore_attributes();r(r(c=m)?m["$tree_processors?"]():c)&&l(m.$tree_processors(),"each",[],(f=function(a){var b,c,e=h;null==a&&(a=h);return r(r(b=r(c=e=a.$process_method()["$[]"](k))?d(x,"Document")["$==="](e):
c)?e["$!="](k):b)?k=e:h},f.$$s=this,f.$$arity=1,f));this.parsed=!0;return k},w.$$arity=-1);a.def(f,"$counter",u=function(b,d){var e,f=h,k=h,m=h;null==d&&(d=h);if(r(this.parent_document))return this.parent_document.$counter(b,d);m=r(r(e=f=(k=this.attributes["$[]"](b))["$nil_or_empty?"]()["$!"]())?this.counters["$key?"](b):e)?[b,(m=[b,this.$nextval(k)],l(this.counters,"[]=",a.to_a(m)),m[c(m.length,1)])]:r(d)?[b,(m=[b,d["$=="](d.$to_i().$to_s())?d.$to_i():d],l(this.counters,"[]=",a.to_a(m)),m[c(m.length,
1)])]:[b,(m=[b,this.$nextval(r(f)?k:0)],l(this.counters,"[]=",a.to_a(m)),m[c(m.length,1)])];l(this.attributes,"[]=",a.to_a(m));return m[c(m.length,1)]},u.$$arity=-2);a.def(f,"$increment_and_store_counter",A=function(a,b){return d(x,"AttributeEntry").$new(a,this.$counter(a)).$save_to(b.$attributes()).$value()},A.$$arity=2);a.alias(f,"counter_increment","increment_and_store_counter");a.def(f,"$nextval",z=function(a){var c=h;if(r(b("::","Integer")["$==="](a)))return t(a,1);c=a.$to_i();return r(c.$to_s()["$!="](a.$to_s()))?
t(a["$[]"](0).$ord(),1).$chr():t(c,1)},z.$$arity=1);a.def(f,"$register",E=function(b,d){var e,f,k=this,m=h,n=h,q=h,p=h,w=h,v=h,y=h;return function(){m=b;if("ids"["$==="](m))return f=d,e=a.to_ary(f),n=null==e[0]?h:e[0],q=null==e[1]?h:e[1],f,p=k.catalog["$[]"]("ids"),r(e=p["$[]"](n))?e:(w=[n,r(f=q)?f:t(t("[",n),"]")],l(p,"[]=",a.to_a(w)),w[c(w.length,1)]);if("refs"["$==="](m)){f=d;e=a.to_ary(f);n=null==e[0]?h:e[0];v=null==e[1]?h:e[1];q=null==e[2]?h:e[2];f;if(r((y=k.catalog["$[]"]("refs"))["$key?"](n)))return h;
w=[n,r(e=q)?e:t(t("[",n),"]")];l(k.catalog["$[]"]("ids"),"[]=",a.to_a(w));w[c(w.length,1)];w=[n,v];l(y,"[]=",a.to_a(w));return w[c(w.length,1)]}return"footnotes"["$==="](m)||"indexterms"["$==="](m)?k.catalog["$[]"](b)["$<<"](d):r(k.options["$[]"]("catalog_assets"))?k.catalog["$[]"](b)["$<<"](d):h}()},E.$$arity=2);a.def(f,"$footnotes?",O=function(){return r(this.catalog["$[]"]("footnotes")["$empty?"]())?!1:!0},O.$$arity=0);a.def(f,"$footnotes",X=function(){return this.catalog["$[]"]("footnotes")},
X.$$arity=0);a.def(f,"$callouts",R=function(){return this.catalog["$[]"]("callouts")},R.$$arity=0);a.def(f,"$nested?",P=function(){return r(this.parent_document)?!0:!1},P.$$arity=0);a.def(f,"$embedded?",ja=function(){return this.attributes["$key?"]("embedded")},ja.$$arity=0);a.def(f,"$extensions?",Z=function(){return r(this.extensions)?!0:!1},Z.$$arity=0);a.def(f,"$source",H=function(){return r(this.reader)?this.reader.$source():h},H.$$arity=0);a.def(f,"$source_lines",ba=function(){return r(this.reader)?
this.reader.$source_lines():h},ba.$$arity=0);a.def(f,"$basebackend?",T=function(a){return this.attributes["$[]"]("basebackend")["$=="](a)},T.$$arity=1);a.def(f,"$title",ga=function(){return this.$doctitle()},ga.$$arity=0);a.def(f,"$title=",ca=function(b){var e=h,f=h;r(e=this.header)||(f=["header"],l(e=this.header=d(x,"Section").$new(this,0),"sectname=",a.to_a(f)),f[c(f.length,1)]);f=[b];l(e,"title=",a.to_a(f));return f[c(f.length,1)]},ca.$$arity=1);a.def(f,"$doctitle",aa=function(a){var b,c=h,g=h,
f=h;null==a&&(a=e([],{}));if(!r(c=this.attributes["$[]"]("title")))if(r(g=this.$first_section()))c=g.$title();else if(r((r(b=a["$[]"]("use_fallback"))?c=this.attributes["$[]"]("untitled-label"):b)["$!"]()))return h;return r(f=a["$[]"]("partition"))?d(x,"Title").$new(c,a.$merge(e(["separator"],{separator:f["$=="](!0)?this.attributes["$[]"]("title-separator"):f}))):r(r(b=a["$[]"]("sanitize"))?c["$include?"]("<"):b)?c.$gsub(d(x,"XmlSanitizeRx"),"").$squeeze(" ").$strip():c},aa.$$arity=-1);a.alias(f,
"name","doctitle");a.def(f,"$author",ka=function(){return this.attributes["$[]"]("author")},ka.$$arity=0);a.def(f,"$revdate",la=function(){return this.attributes["$[]"]("revdate")},la.$$arity=0);a.def(f,"$notitle",ma=function(){var a;return r(a=this.attributes["$key?"]("showtitle")["$!"]())?this.attributes["$key?"]("notitle"):a},ma.$$arity=0);a.def(f,"$noheader",ha=function(){return this.attributes["$key?"]("noheader")},ha.$$arity=0);a.def(f,"$nofooter",pa=function(){return this.attributes["$key?"]("nofooter")},
pa.$$arity=0);a.def(f,"$first_section",Y=function(){var a,b;return r(a=this.header)?a:l(this.blocks,"find",[],(b=function(a){null==a&&(a=h);return a.$context()["$=="]("section")},b.$$s=this,b.$$arity=1,b))},Y.$$arity=0);a.def(f,"$has_header?",qa=function(){return r(this.header)?!0:!1},qa.$$arity=0);a.alias(f,"header?","has_header?");a.def(f,"$<<",na=function(b){var c=na.$$p,d=h,e=h,g=h;c&&(na.$$p=null);e=0;g=arguments.length;for(d=Array(g);e<g;e++)d[e]=arguments[e];b.$context()["$=="]("section")&&
this.$assign_numeral(b);return l(this,a.find_super_dispatcher(this,"<<",na,!1),d,c)},na.$$arity=1);a.def(f,"$finalize_header",ia=function(b,d){var e=h;null==d&&(d=!0);this.$clear_playback_attributes(b);this.$save_attributes();r(d)||(e=["invalid-header",!0],l(b,"[]=",a.to_a(e)),e[c(e.length,1)]);return b},ia.$$arity=-2);a.def(f,"$save_attributes",Ma=function(){var b,e,f,k=h,m=h,n=h,q=m=h,t=h,p=h,w=h,p=q=h;(k=this.attributes)["$[]"]("basebackend")["$=="]("docbook")&&(r(r(b=this["$attribute_locked?"]("toc"))?
b:this.attributes_modified["$include?"]("toc"))||(m=["toc",""],l(k,"[]=",a.to_a(m)),m[c(m.length,1)]),r(r(b=this["$attribute_locked?"]("sectnums"))?b:this.attributes_modified["$include?"]("sectnums"))||(m=["sectnums",""],l(k,"[]=",a.to_a(m)),m[c(m.length,1)]));r(r(b=k["$key?"]("doctitle"))?b:(n=this.$doctitle())["$!"]())||(m=["doctitle",n],l(k,"[]=",a.to_a(m)),m[c(m.length,1)]);r(this.id)||(this.id=k["$[]"]("css-signature"));m=r(q=r(k.$delete("toc2"))?"left":k["$[]"]("toc"))?r(r(b=t=k.$fetch("toc-placement",
"macro"))?t["$!="]("auto"):b)?t:k["$[]"]("toc-position"):h;r(r(b=q)?r(e=q["$empty?"]()["$!"]())?e:m["$nil_or_empty?"]()["$!"]():b)&&(p="left",w="toc2",q=r(m["$nil_or_empty?"]()["$!"]())?m:r(q["$empty?"]()["$!"]())?q:p,m=["toc",""],l(k,"[]=",a.to_a(m)),m[c(m.length,1)],m=["toc-placement","auto"],l(k,"[]=",a.to_a(m)),m[c(m.length,1)],p=q,"left"["$==="](p)||"<"["$==="](p)||"&lt;"["$==="](p)?(m=["toc-position","left"],l(k,"[]=",a.to_a(m)),m[c(m.length,1)]):"right"["$==="](p)||">"["$==="](p)||"&gt;"["$==="](p)?
(m=["toc-position","right"],l(k,"[]=",a.to_a(m)),m[c(m.length,1)]):"top"["$==="](p)||"^"["$==="](p)?(m=["toc-position","top"],l(k,"[]=",a.to_a(m)),m[c(m.length,1)]):"bottom"["$==="](p)||"v"["$==="](p)?(m=["toc-position","bottom"],l(k,"[]=",a.to_a(m)),m[c(m.length,1)]):("preamble"["$==="](p)||"macro"["$==="](p)?(m=["toc-position","content"],l(k,"[]=",a.to_a(m)),m[c(m.length,1)],m=["toc-placement",q],l(k,"[]=",a.to_a(m)),m[c(m.length,1)]):k.$delete("toc-position"),w=h),r(w)&&(r(b=k["$[]"]("toc-class"))?
b:(m=["toc-class",w],l(k,"[]=",a.to_a(m)),m[c(m.length,1)])));r(this.compat_mode=k["$key?"]("compat-mode"))&&r(k["$key?"]("language"))&&(m=["source-language",k["$[]"]("language")],l(k,"[]=",a.to_a(m)),m[c(m.length,1)]);this.outfilesuffix=k["$[]"]("outfilesuffix");this.header_attributes=k.$dup();return r(this.parent_document)?h:l(d(x,"FLEXIBLE_ATTRIBUTES"),"each",[],(f=function(a){var b=f.$$s||this,c;null==b.attribute_overrides&&(b.attribute_overrides=h);null==a&&(a=h);return r(r(c=b.attribute_overrides["$key?"](a))?
b.attribute_overrides["$[]"](a):c)?b.attribute_overrides.$delete(a):h},f.$$s=this,f.$$arity=1,f))},Ma.$$arity=0);a.def(f,"$restore_attributes",ra=function(){r(this.parent_document)||this.catalog["$[]"]("callouts").$rewind();return this.attributes.$replace(this.header_attributes)},ra.$$arity=0);a.def(f,"$clear_playback_attributes",wa=function(a){return a.$delete("attribute_entries")},wa.$$arity=1);a.def(f,"$playback_attributes",ua=function(b){var d;return r(b["$key?"]("attribute_entries"))?l(b["$[]"]("attribute_entries"),
"each",[],(d=function(b){var e=d.$$s||this,f=h,k=h;null==e.attributes&&(e.attributes=h);null==b&&(b=h);f=b.$name();if(r(b.$negate()))return e.attributes.$delete(f),f["$=="]("compat-mode")?e.compat_mode=!1:h;k=[f,b.$value()];l(e.attributes,"[]=",a.to_a(k));k[c(k.length,1)];return f["$=="]("compat-mode")?e.compat_mode=!0:h},d.$$s=this,d.$$arity=1,d)):h},ua.$$arity=1);a.def(f,"$set_attribute",va=function(b,d){var e=h,f=h,f=h;null==d&&(d="");if(r(this["$attribute_locked?"](b)))return!1;e=r(this.max_attribute_value_size)?
this.$apply_attribute_value_subs(d).$limit_bytesize(this.max_attribute_value_size):this.$apply_attribute_value_subs(d);f=b;"backend"["$==="](f)?this.$update_backend_attributes(e,this.attributes_modified["$delete?"]("htmlsyntax")):"doctype"["$==="](f)?this.$update_doctype_attributes(e):(f=[b,e],l(this.attributes,"[]=",a.to_a(f)),f[c(f.length,1)]);this.attributes_modified["$<<"](b);return e},va.$$arity=-2);a.def(f,"$delete_attribute",ya=function(a){if(r(this["$attribute_locked?"](a)))return!1;this.attributes.$delete(a);
this.attributes_modified["$<<"](a);return!0},ya.$$arity=1);a.def(f,"$attribute_locked?",Aa=function(a){return this.attribute_overrides["$key?"](a)},Aa.$$arity=1);a.def(f,"$apply_attribute_value_subs",Ea=function(a){var b;return r(d(x,"AttributeEntryPassMacroRx")["$=~"](a))?r((b=q["~"])===h?h:b["$[]"](1))?this.$apply_subs((b=q["~"])===h?h:b["$[]"](2),this.$resolve_pass_subs((b=q["~"])===h?h:b["$[]"](1))):(b=q["~"])===h?h:b["$[]"](2):this.$apply_header_subs(a)},Ea.$$arity=1);a.def(f,"$update_backend_attributes",
Ba=function(e,f){var k,m,n=h,q=h,t=h,p=h,w=h,v=h,y=h,G=h,C=q=h,q=h;null==f&&(f=h);return r(r(k=f)?k:r(m=e)?e["$!="](this.backend):m)?(k=[this.backend,(n=this.attributes)["$[]"]("basebackend"),this.doctype],q=k[0],t=k[1],p=k[2],k,r(e["$start_with?"]("xhtml"))?(w=["htmlsyntax","xml"],l(n,"[]=",a.to_a(w)),w[c(w.length,1)],e=e.$slice(1,e.$length())):r(e["$start_with?"]("html"))&&!n["$[]"]("htmlsyntax")["$=="]("xml")&&(w=["htmlsyntax","html"],l(n,"[]=",a.to_a(w)),w[c(w.length,1)]),r(v=d(x,"BACKEND_ALIASES")["$[]"](e))&&
(e=v),r(p)?(r(q)&&(n.$delete("backend-"+q),n.$delete("backend-"+q+"-doctype-"+p)),w=["backend-"+e+"-doctype-"+p,""],l(n,"[]=",a.to_a(w)),w[c(w.length,1)],w=["doctype-"+p,""],l(n,"[]=",a.to_a(w)),w[c(w.length,1)]):r(q)&&n.$delete("backend-"+q),w=["backend-"+e,""],l(n,"[]=",a.to_a(w)),w[c(w.length,1)],this.backend=(w=["backend",e],l(n,"[]=",a.to_a(w)),w[c(w.length,1)]),r(b(d(x,"Converter"),"BackendInfo")["$==="](this.converter=this.$create_converter()))?(y=this.converter.$basebackend(),r(this["$attribute_locked?"]("outfilesuffix"))||
(w=["outfilesuffix",this.converter.$outfilesuffix()],l(n,"[]=",a.to_a(w)),w[c(w.length,1)]),G=this.converter.$filetype()):r(this.converter)?(y=e.$sub(d(x,"TrailingDigitsRx"),""),r(q=d(x,"DEFAULT_EXTENSIONS")["$[]"](y))?G=q.$slice(1,q.$length()):(k=[".html","html","html"],q=k[0],y=k[1],G=k[2],k),r(this["$attribute_locked?"]("outfilesuffix"))||(w=["outfilesuffix",q],l(n,"[]=",a.to_a(w)),w[c(w.length,1)])):this.$raise(b("::","NotImplementedError"),"asciidoctor: FAILED: missing converter for backend '"+
e+"'. Processing aborted."),r(C=n["$[]"]("filetype"))&&n.$delete("filetype-"+C),w=["filetype",G],l(n,"[]=",a.to_a(w)),w[c(w.length,1)],w=["filetype-"+G,""],l(n,"[]=",a.to_a(w)),w[c(w.length,1)],r(q=d(x,"DEFAULT_PAGE_WIDTHS")["$[]"](y))?(w=["pagewidth",q],l(n,"[]=",a.to_a(w)),w[c(w.length,1)]):n.$delete("pagewidth"),r(y["$!="](t))&&(r(p)?(r(t)&&(n.$delete("basebackend-"+t),n.$delete("basebackend-"+t+"-doctype-"+p)),w=["basebackend-"+y+"-doctype-"+p,""],l(n,"[]=",a.to_a(w)),w[c(w.length,1)]):r(t)&&
n.$delete("basebackend-"+t),w=["basebackend-"+y,""],l(n,"[]=",a.to_a(w)),w[c(w.length,1)],w=["basebackend",y],l(n,"[]=",a.to_a(w)),w[c(w.length,1)]),e):h},Ba.$$arity=-2);a.def(f,"$update_doctype_attributes",Ca=function(b){var d,e=h,f=h,k=h,m=h,f=h;return r(r(d=b)?b["$!="](this.doctype):d)?(d=[this.backend,(e=this.attributes)["$[]"]("basebackend"),this.doctype],f=d[0],k=d[1],m=d[2],d,r(m)?(e.$delete("doctype-"+m),r(f)&&(e.$delete("backend-"+f+"-doctype-"+m),f=["backend-"+f+"-doctype-"+b,""],l(e,"[]=",
a.to_a(f)),f[c(f.length,1)]),r(k)&&(e.$delete("basebackend-"+k+"-doctype-"+m),f=["basebackend-"+k+"-doctype-"+b,""],l(e,"[]=",a.to_a(f)),f[c(f.length,1)])):(r(f)&&(f=["backend-"+f+"-doctype-"+b,""],l(e,"[]=",a.to_a(f)),f[c(f.length,1)]),r(k)&&(f=["basebackend-"+k+"-doctype-"+b,""],l(e,"[]=",a.to_a(f)),f[c(f.length,1)])),f=["doctype-"+b,""],l(e,"[]=",a.to_a(f)),f[c(f.length,1)],this.doctype=(f=["doctype",b],l(e,"[]=",a.to_a(f)),f[c(f.length,1)])):h},Ca.$$arity=1);a.def(f,"$create_converter",Da=function(){var f=
h,k=h,m=h,n=h,q=h,k=h,f=e([],{}),k=["htmlsyntax",this.attributes["$[]"]("htmlsyntax")];l(f,"[]=",a.to_a(k));k[c(k.length,1)];r(m=this.options["$[]"]("template_dir"))?n=[m]:r(n=this.options["$[]"]("template_dirs"))&&(n=this.$Array(n));r(n)&&(k=["template_dirs",n],l(f,"[]=",a.to_a(k)),k[c(k.length,1)],k=["template_cache",this.options.$fetch("template_cache",!0)],l(f,"[]=",a.to_a(k)),k[c(k.length,1)],k=["template_engine",this.options["$[]"]("template_engine")],l(f,"[]=",a.to_a(k)),k[c(k.length,1)],k=
["template_engine_options",this.options["$[]"]("template_engine_options")],l(f,"[]=",a.to_a(k)),k[c(k.length,1)],k=["eruby",this.options["$[]"]("eruby")],l(f,"[]=",a.to_a(k)),k[c(k.length,1)],k=["safe",this.safe],l(f,"[]=",a.to_a(k)),k[c(k.length,1)]);k=r(q=this.options["$[]"]("converter"))?b(d(x,"Converter"),"Factory").$new(b("::","Hash")["$[]"](this.$backend(),q)):b(d(x,"Converter"),"Factory").$default(!1);return k.$create(this.$backend(),f)},Da.$$arity=0);a.def(f,"$convert",Ha=function(f){var m,
n,q=h,t=h,p=h,w=h,v=h;null==f&&(f=e([],{}));r(this.timings)&&this.timings.$start("convert");r(this.parsed)||this.$parse();r(r(m=k(this.safe,b(d(x,"SafeMode"),"SERVER")))?m:f["$empty?"]())||(r((q=["outfile",f["$[]"]("outfile")],l(this.attributes,"[]=",a.to_a(q)),q[c(q.length,1)]))||this.attributes.$delete("outfile"),r((q=["outdir",f["$[]"]("outdir")],l(this.attributes,"[]=",a.to_a(q)),q[c(q.length,1)]))||this.attributes.$delete("outdir"));this.$doctype()["$=="]("inline")?r(t=r(m=this.blocks["$[]"](0))?
m:this.header)&&(r(r(m=t.$content_model()["$=="]("compound"))?m:t.$content_model()["$=="]("empty"))?this.$logger().$warn("no inline candidate; use the inline doctype to convert a single paragragh, verbatim, or raw block"):p=t.$content()):(w=r(r(f["$key?"]("header_footer"))?f["$[]"]("header_footer"):this.options["$[]"]("header_footer"))?"document":"embedded",p=this.converter.$convert(this,w));!r(this.parent_document)&&r(r(m=v=this.extensions)?v["$postprocessors?"]():m)&&l(v.$postprocessors(),"each",
[],(n=function(a){var b=n.$$s||this;null==a&&(a=h);return p=a.$process_method()["$[]"](b,p)},n.$$s=this,n.$$arity=1,n));r(this.timings)&&this.timings.$record("convert");return p},Ha.$$arity=-1);a.alias(f,"render","convert");a.def(f,"$write",Ia=function(a,c){var e;r(this.timings)&&this.timings.$start("write");r(d(x,"Writer")["$==="](this.converter))?this.converter.$write(a,c):(r(c["$respond_to?"]("write"))?r(a["$nil_or_empty?"]())||(c.$write(a.$chomp()),c.$write(d(x,"LF"))):b("::","IO").$write(c,a),
r(r(e=this.backend["$=="]("manpage")?b("::","String")["$==="](c):this.backend["$=="]("manpage"))?this.converter["$respond_to?"]("write_alternate_pages"):e)&&this.converter.$write_alternate_pages(this.attributes["$[]"]("mannames"),this.attributes["$[]"]("manvolnum"),c));r(this.timings)&&this.timings.$record("write");return h},Ia.$$arity=2);a.def(f,"$content",M=function(){var b=M.$$p,c=h,d=h,e=h;b&&(M.$$p=null);d=0;e=arguments.length;for(c=Array(e);d<e;d++)c[d]=arguments[d];this.attributes.$delete("title");
return l(this,a.find_super_dispatcher(this,"content",M,!1),c,b)},M.$$arity=0);a.def(f,"$docinfo",Ka=function(a,c){var g,f,m,n=h,q=h,w=h,v=h,y=h,C=h,G=h,v=G=h;null==a&&(a="head");null==c&&(c=h);if(r(k(this.$safe(),b(d(x,"SafeMode"),"SECURE"))))return"";n=[];a["$=="]("head")||(q="-"+a);r(c)||(c=this.outfilesuffix);w=r((w=this.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?r(this.attributes["$key?"]("docinfo2"))?["private","shared"]:r(this.attributes["$key?"]("docinfo1"))?["shared"]:r(w)?["private"]:
h:l(w.$split(","),"map",[],(g=function(a){null==a&&(a=h);return a.$strip()},g.$$s=this,g.$$arity=1,g));if(r(w)){f=["docinfo"+q+c,this.attributes["$[]"]("docinfodir"),this.$resolve_docinfo_subs()];v=f[0];y=f[1];C=f[2];f;if(!r(w["$&"](["shared","shared-"+a])["$empty?"]())&&(G=this.$normalize_system_path(v,y),r(G=this.$read_asset(G,e(["normalize"],{normalize:!0})))))n["$<<"](this.$apply_subs(G,C));if(!r(r(f=this.attributes["$[]"]("docname")["$nil_or_empty?"]())?f:w["$&"](["private","private-"+a])["$empty?"]())&&
(G=this.$normalize_system_path(""+this.attributes["$[]"]("docname")+"-"+v,y),r(v=this.$read_asset(G,e(["normalize"],{normalize:!0})))))n["$<<"](this.$apply_subs(v,C))}r(r(f=this.extensions)?this["$docinfo_processors?"](a):f)&&(n=t(n,l(this.docinfo_processor_extensions["$[]"](a),"map",[],(m=function(a){var b=m.$$s||this;null==a&&(a=h);return a.$process_method()["$[]"](b)},m.$$s=this,m.$$arity=1,m)).$compact()));return p(n,d(x,"LF"))},Ka.$$arity=-1);a.def(f,"$resolve_docinfo_subs",oa=function(){return r(this.attributes["$key?"]("docinfosubs"))?
this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),"block",h,"docinfo"):["attributes"]},oa.$$arity=0);a.def(f,"$docinfo_processors?",Fa=function(b){var d,e=h;null==b&&(b="head");if(r(this.docinfo_processor_extensions["$key?"](b)))return this.docinfo_processor_extensions["$[]"](b)["$!="](!1);if(r(r(d=this.extensions)?this.document.$extensions()["$docinfo_processors?"](b):d))return(e=[b,this.document.$extensions().$docinfo_processors(b)],l(this.docinfo_processor_extensions,"[]=",a.to_a(e)),e[c(e.length,
1)])["$!"]()["$!"]();e=[b,!1];l(this.docinfo_processor_extensions,"[]=",a.to_a(e));return e[c(e.length,1)]},Fa.$$arity=-1);return(a.def(f,"$to_s",Ja=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {doctype: "+this.$doctype().$inspect()+", doctitle: "+(r(this.header["$!="](h))?this.header.$title():h).$inspect()+", blocks: "+this.blocks.$size()+"}>"},Ja.$$arity=0),h)&&"to_s"})(y[0],d(y,"AbstractBlock"),y)}(v[0],v)};Opal.modules["asciidoctor/inline"]=function(a){var c=[],k=a.nil,t=a.const_get_relative,
p=a.module,r=a.klass,h=a.send,b=a.truthy,d=a.hash2;a.add_stubs("$attr_reader $attr_accessor $[] $dup $convert $converter $attr $== $apply_reftext_subs $reftext".split(" "));return function(c,g){var v=[p(c,"Asciidoctor")].concat(g);(function(c,$super,g){function f(){}c=f=r(c,$super,"Inline",f);var m=c.$$proto;[c].concat(g);var t,p,v,x,B,u,A,I;m.text=m.type=k;c.$attr_reader("text");c.$attr_reader("type");c.$attr_accessor("target");a.def(c,"$initialize",t=function(c,g,f,l){var m=t.$$p,n=k;null==f&&(f=
k);null==l&&(l=d([],{}));m&&(t.$$p=null);h(this,a.find_super_dispatcher(this,"initialize",t,!1),[c,g],null);this.node_name="inline_"+g;this.text=f;this.id=l["$[]"]("id");this.type=l["$[]"]("type");this.target=l["$[]"]("target");return b(n=l["$[]"]("attributes"))?this.attributes=n.$dup():k},t.$$arity=-3);a.def(c,"$block?",p=function(){return!1},p.$$arity=0);a.def(c,"$inline?",v=function(){return!0},v.$$arity=0);a.def(c,"$convert",x=function(){return this.$converter().$convert(this)},x.$$arity=0);a.alias(c,
"render","convert");a.def(c,"$alt",B=function(){return this.$attr("alt")},B.$$arity=0);a.def(c,"$reftext?",u=function(){var a,c;return b(a=this.text)?b(c=this.type["$=="]("ref"))?c:this.type["$=="]("bibref"):a},u.$$arity=0);a.def(c,"$reftext",A=function(){var a=k;return b(a=this.text)?this.$apply_reftext_subs(a):k},A.$$arity=0);return(a.def(c,"$xreftext",I=function(a){return this.$reftext()},I.$$arity=-1),k)&&"xreftext"})(v[0],t(v,"AbstractNode"),v)}(c[0],c)};Opal.modules["asciidoctor/list"]=function(a){var c=
[],k=a.nil,t=a.const_get_relative,p=a.module,r=a.klass,h=a.send,b=a.truthy;a.add_stubs("$== $next_list $callouts $class $object_id $inspect $size $items $attr_accessor $level $dup $! $nil_or_empty? $apply_subs $empty? $=== $[] $outline? $simple? $context $option? $shift $blocks $unshift $lines $source $parent".split(" "));return function(c,g){var m=[p(c,"Asciidoctor")].concat(g);(function(c,$super,d){function g(){}c=g=r(c,$super,"List",g);var f=c.$$proto;[c].concat(d);var m,t,p,v;f.context=f.document=
f.style=k;a.alias(c,"items","blocks");a.alias(c,"content","blocks");a.alias(c,"items?","blocks?");a.def(c,"$initialize",m=function(b,c){var d=m.$$p,e=k,g=k,f=k;d&&(m.$$p=null);g=0;f=arguments.length;for(e=Array(f);g<f;g++)e[g]=arguments[g];return h(this,a.find_super_dispatcher(this,"initialize",m,!1),e,d)},m.$$arity=2);a.def(c,"$outline?",t=function(){var a;return b(a=this.context["$=="]("ulist"))?a:this.context["$=="]("olist")},t.$$arity=0);a.def(c,"$convert",p=function(){var b=p.$$p,c=k,d=c=k,e=
k;b&&(p.$$p=null);d=0;e=arguments.length;for(c=Array(e);d<e;d++)c[d]=arguments[d];return this.context["$=="]("colist")?(c=h(this,a.find_super_dispatcher(this,"convert",p,!1),c,b),this.document.$callouts().$next_list(),c):h(this,a.find_super_dispatcher(this,"convert",p,!1),c,b)},p.$$arity=0);a.alias(c,"render","convert");return(a.def(c,"$to_s",v=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+this.$items().$size()+
"}>"},v.$$arity=0),k)&&"to_s"})(m[0],t(m,"AbstractBlock"),m);(function(c,$super,d){function g(){}c=g=r(c,$super,"ListItem",g);var f=c.$$proto,m=[c].concat(d),p,v,x,B,u,A,z,I;f.text=f.subs=f.blocks=k;a.alias(c,"list","parent");c.$attr_accessor("marker");a.def(c,"$initialize",p=function(b,c){var d=p.$$p;null==c&&(c=k);d&&(p.$$p=null);h(this,a.find_super_dispatcher(this,"initialize",p,!1),[b,"list_item"],null);this.text=c;this.level=b.$level();return this.subs=t(m,"NORMAL_SUBS").$dup()},p.$$arity=-2);
a.def(c,"$text?",v=function(){return this.text["$nil_or_empty?"]()["$!"]()},v.$$arity=0);a.def(c,"$text",x=function(){var a;return b(a=this.text)?this.$apply_subs(this.text,this.subs):a},x.$$arity=0);a.def(c,"$text=",B=function(a){return this.text=a},B.$$arity=1);a.def(c,"$simple?",u=function(){var a,c,d=k;return b(a=this.blocks["$empty?"]())?a:b(c=this.blocks.$size()["$=="](1)?t(m,"List")["$==="](d=this.blocks["$[]"](0)):this.blocks.$size()["$=="](1))?d["$outline?"]():c},u.$$arity=0);a.def(c,"$compound?",
A=function(){return this["$simple?"]()["$!"]()},A.$$arity=0);a.def(c,"$fold_first",z=function(a,c){var d,e,g,f,h,n=k,q=k;null==a&&(a=!1);null==c&&(c=!1);b(b(d=b(e=n=this.blocks["$[]"](0))?t(m,"Block")["$==="](n):e)?b(e=n.$context()["$=="]("paragraph")?a["$!"]():n.$context()["$=="]("paragraph"))?e:b(g=b(f=b(h=c)?h:a["$!"]())?n.$context()["$=="]("literal"):f)?n["$option?"]("listparagraph"):g:d)&&(q=this.$blocks().$shift(),b(this.text["$nil_or_empty?"]())||q.$lines().$unshift(this.text),this.text=q.$source());
return k},z.$$arity=-1);return(a.def(c,"$to_s",I=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {list_context: "+this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+(b(a=this.blocks)?a:[]).$size()+"}>"},I.$$arity=0),k)&&"to_s"})(m[0],t(m,"AbstractBlock"),m)}(c[0],c)};Opal.modules["asciidoctor/parser"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?
a*b:a["$*"](b)}function t(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var h=[],b=a.nil,d=a.const_get_qualified,f=a.const_get_relative,m=a.module,v=a.klass,l=a.send,e=a.truthy,q=a.hash2,n=a.gvars,x=a.range;a.add_stubs("$include $new $lambda $start_with? $match? $is_delimited_block? $raise $parse_document_header $[] $has_more_lines? $next_section $assign_numeral $<< $blocks $parse_block_metadata_lines $attributes $is_next_line_doctitle? $finalize_header $nil_or_empty? $title= $- $sourcemap $cursor $parse_section_title $id= $source_location= $header $attribute_locked? $[]= $id $parse_header_metadata $register $== $doctype $parse_manpage_header $=~ $downcase $include? $sub_attributes $error $logger $message_with_context $cursor_at_prev_line $skip_blank_lines $is_next_line_section? $initialize_section $level $* $read_lines_until $title $map $split $lstrip $backend $context $empty? $has_header? $delete $! $!= $attr? $attr $key? $document $+ $special $sectname $to_i $> $< $warn $next_block $blocks? $style $context= $style= $parent= $size $content_model $shift $unwrap_standalone_preamble $dup $fetch $parse_block_metadata_line $extensions $block_macros? $mark $read_line $terminator $to_s $masq $to_sym $registered_for_block? $cursor_at_mark $strict_verbatim_paragraphs $unshift_line $markdown_syntax $keys $chr $length $end_with? $=== $parse_attributes $attribute_missing $clear $tr $basename $assign_caption $registered_for_block_macro? $config $update $process_method $replace $match $peek_line $next_list_item $items $callout_ids $callouts $next_list $marker $find $next_description_list $underline_style_section_titles $is_section_title? $atx_section_title? $generate_id $level= $read_paragraph_lines $adjust_indentation! $set_option $map! $pop $build_block $apply_subs $slice $chop $catalog_inline_anchors $rekey $index $strip $next_table $concat $each $title? $lock_in_subs $sub? $catalog_callouts $source $remove_sub $block_terminates_paragraph $to_proc $<= $nil? $lines $parse_blocks $resolve_list_marker $items? $parent $scan $gsub $reader $catalog_inline_anchor $source_location $marker= $catalog_inline_biblio_anchor $text= $resolve_ordered_list_marker $read_lines_for_list_item $skip_line_comments $unshift_lines $fold_first $text? $is_sibling_list_item? $delete_at $casecmp $sectname= $special= $numbered= $numbered $cursor_at_line $lineno $update_attributes $peek_lines $setext_section_title? $abs $line_length $process_attribute_entries $next_line_empty? $process_authors $apply_header_subs $rstrip $each_with_index $compact $Array $squeeze $to_a $parse_style_attribute $process_attribute_entry $skip_comment_lines $advance $store_attribute $sanitize_attribute_name $set_attribute $save_to $delete_attribute $ord $int_to_roman $parse_colspecs $create_columns $format $starts_with_delimiter? $close_open_cell $parse_cellspec $delimiter $match_delimiter $pre_match $post_match $buffer_has_unclosed_quotes? $skip_past_delimiter $buffer $buffer= $skip_past_escaped_delimiter $keep_cell_open $push_cellspec $close_cell $cell_open? $columns $assign_column_widths $has_header_option= $partition_header_footer $upto $shorthand_property_syntax $join $each_char $call $sub! $gsub! $% $begin".split(" "));
return function(h,C){var u=[m(h,"Asciidoctor")].concat(C);(function(h,$super,m){function C(){}h=C=v(h,$super,"Parser",C);var u=[h].concat(m),w,A,z,E,N,O,X,R,P,ja,Z,H,ba,T,ga,ca,aa,sa,la,da,ha,pa,Y,qa,na,ia,ka,ra,wa,ua,va,ya,Aa,Ea,Ba,Ca,Da,Ha,Ia,M,Ka,oa,Fa,Ja,Ga,D;h.$include(f(u,"Logging"));a.const_set(u[0],"BlockMatchData",f(u,"Struct").$new("context","masq","tip","terminator"));a.const_set(u[0],"TabRx",/\t/);a.const_set(u[0],"TabIndentRx",/^\t+/);a.const_set(u[0],"StartOfBlockProc",l(h,"lambda",
[],(w=function(a){var c=w.$$s||this,d,g;null==a&&(a=b);return e(d=e(g=a["$start_with?"]("["))?f(u,"BlockAttributeLineRx")["$match?"](a):g)?d:c["$is_delimited_block?"](a)},w.$$s=h,w.$$arity=1,w)));a.const_set(u[0],"StartOfListProc",l(h,"lambda",[],(A=function(a){null==a&&(a=b);return f(u,"AnyListRx")["$match?"](a)},A.$$s=h,A.$$arity=1,A)));a.const_set(u[0],"StartOfBlockOrListProc",l(h,"lambda",[],(z=function(a){var c=z.$$s||this,d,g,h;null==a&&(a=b);return e(d=e(g=c["$is_delimited_block?"](a))?g:e(h=
a["$start_with?"]("["))?f(u,"BlockAttributeLineRx")["$match?"](a):h)?d:f(u,"AnyListRx")["$match?"](a)},z.$$s=h,z.$$arity=1,z)));a.const_set(u[0],"NoOp",b);a.const_set(u[0],"TableCellHorzAlignments",q(["<",">","^"],{"<":"left",">":"right","^":"center"}));a.const_set(u[0],"TableCellVertAlignments",q(["<",">","^"],{"<":"top",">":"bottom","^":"middle"}));a.const_set(u[0],"TableCellStyles",q("dsemhlva".split(""),{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"}));
a.def(h,"$initialize",E=function(){return this.$raise("Au contraire, mon frere. No parser instances will be running around.")},E.$$arity=0);a.defs(h,"$parse",N=function(c,d,g){var f,h=f=b;null==g&&(g=q([],{}));f=this.$parse_document_header(c,d);if(!e(g["$[]"]("header_only")))for(;e(c["$has_more_lines?"]());)g=this.$next_section(c,d,f),f=a.to_ary(g),h=null==f[0]?b:f[0],f=null==f[1]?b:f[1],g,e(h)&&(d.$assign_numeral(h),d.$blocks()["$<<"](h));return d},N.$$arity=-3);a.defs(h,"$parse_document_header",
O=function(d,f){var h,k,m=b,n=b,t=b,p=b,D=b,r=k=b,w=b,m=k=t=w=k=t=b,m=this.$parse_block_metadata_lines(d,f),n=f.$attributes();if(e(e(h=t=this["$is_next_line_doctitle?"](d,m,n["$[]"]("leveloffset")))?m["$[]"]("title"):h))return f.$finalize_header(m,!1);p=b;e((D=n["$[]"]("doctitle"))["$nil_or_empty?"]())||(k=[p=D],l(f,"title=",a.to_a(k)),k[c(k.length,1)]);e(t)&&(e(f.$sourcemap())&&(r=d.$cursor()),k=this.$parse_section_title(d,f),h=a.to_ary(k),f["$id="](null==h[0]?b:h[0]),w=null==h[2]?b:h[2],t=null==
h[4]?b:h[4],k,e(p)||(k=[p=w],l(f,"title=",a.to_a(k)),k[c(k.length,1)]),e(r)&&(k=[r],l(f.$header(),"source_location=",a.to_a(k)),k[c(k.length,1)]),e(e(h=t)?h:f["$attribute_locked?"]("compat-mode"))||(k=["compat-mode",""],l(n,"[]=",a.to_a(k)),k[c(k.length,1)]),e(k=m["$[]"]("separator"))&&!e(f["$attribute_locked?"]("title-separator"))&&(k=["title-separator",k],l(n,"[]=",a.to_a(k)),k[c(k.length,1)]),k=["doctitle",w],l(n,"[]=",a.to_a(k)),k[c(k.length,1)],e(t=m["$[]"]("id"))?(k=[t],l(f,"id=",a.to_a(k)),
k[c(k.length,1)]):t=f.$id(),e(k=m["$[]"]("role"))&&(k=["docrole",k],l(n,"[]=",a.to_a(k)),k[c(k.length,1)]),e(m=m["$[]"]("reftext"))&&(k=["reftext",m],l(n,"[]=",a.to_a(k)),k[c(k.length,1)]),m=q([],{}),this.$parse_header_metadata(d,f),e(t)&&f.$register("refs",[t,f]));e(e(h=(D=n["$[]"]("doctitle"))["$nil_or_empty?"]())?h:D["$=="](w))||(k=[p=D],l(f,"title=",a.to_a(k)),k[c(k.length,1)]);e(p)&&(k=["doctitle",p],l(n,"[]=",a.to_a(k)),k[c(k.length,1)]);f.$doctype()["$=="]("manpage")&&this.$parse_manpage_header(d,
f);return f.$finalize_header(m)},O.$$arity=2);a.defs(h,"$parse_manpage_header",X=function(d,h){var m,t,p=b,D=b,r=b,w=r=b,v=b;e(f(u,"ManpageTitleVolnumRx")["$=~"](h.$attributes()["$[]"]("doctitle")))?(p=["mantitle",(e(((m=n["~"])===b?b:m["$[]"](1))["$include?"](f(u,"ATTR_REF_HEAD")))?h.$sub_attributes((m=n["~"])===b?b:m["$[]"](1)):(m=n["~"])===b?b:m["$[]"](1)).$downcase()],l(h.$attributes(),"[]=",a.to_a(p)),p[c(p.length,1)],p=["manvolnum",(m=n["~"])===b?b:m["$[]"](2)]):(this.$logger().$error(this.$message_with_context("malformed manpage title",
q(["source_location"],{source_location:d.$cursor_at_prev_line()}))),p=["mantitle",h.$attributes()["$[]"]("doctitle")],l(h.$attributes(),"[]=",a.to_a(p)),p[c(p.length,1)],p=["manvolnum","1"]);l(h.$attributes(),"[]=",a.to_a(p));p[c(p.length,1)];d.$skip_blank_lines();e(this["$is_next_line_section?"](d,q([],{})))?(D=this.$initialize_section(d,h,q([],{})),D.$level()["$=="](1)?(r=k(d.$read_lines_until(q(["break_on_blank_lines","skip_line_comments"],{break_on_blank_lines:!0,skip_line_comments:!0}))," "),
e(f(u,"ManpageNamePurposeRx")["$=~"](r))?(r=h.$attributes(),e(m=r["$[]"]("manname-title"))?m:(p=["manname-title",D.$title()],l(r,"[]=",a.to_a(p)),p[c(p.length,1)]),e(D.$id())&&(p=["manname-id",D.$id()],l(h.$attributes(),"[]=",a.to_a(p)),p[c(p.length,1)]),p=["manpurpose",(m=n["~"])===b?b:m["$[]"](2)],l(h.$attributes(),"[]=",a.to_a(p)),p[c(p.length,1)],e((w=e(((m=n["~"])===b?b:m["$[]"](1))["$include?"](f(u,"ATTR_REF_HEAD")))?h.$sub_attributes((m=n["~"])===b?b:m["$[]"](1)):(m=n["~"])===b?b:m["$[]"](1))["$include?"](","))?
w=(v=l(w.$split(","),"map",[],(t=function(a){null==a&&(a=b);return a.$lstrip()},t.$$s=this,t.$$arity=1,t)))["$[]"](0):v=[w],p=["manname",w],l(h.$attributes(),"[]=",a.to_a(p)),p[c(p.length,1)],p=["mannames",v],l(h.$attributes(),"[]=",a.to_a(p)),p[c(p.length,1)],h.$backend()["$=="]("manpage")&&(p=["docname",w],l(h.$attributes(),"[]=",a.to_a(p)),p[c(p.length,1)],p=["outfilesuffix","."+h.$attributes()["$[]"]("manvolnum")],l(h.$attributes(),"[]=",a.to_a(p)),p[c(p.length,1)])):this.$logger().$error(this.$message_with_context("malformed name section body",
q(["source_location"],{source_location:d.$cursor_at_prev_line()})))):this.$logger().$error(this.$message_with_context("name section title must be at level 1",q(["source_location"],{source_location:d.$cursor_at_prev_line()})))):this.$logger().$error(this.$message_with_context("name section expected",q(["source_location"],{source_location:d.$cursor_at_prev_line()})));return b},X.$$arity=2);a.defs(h,"$next_section",R=function(d,h,k){var m,n,D,w,v=b,x=b,G=b,C=b,F=b,A=b,z=b,J=b,E=b,L=b,Z=b,T=E=b,M=b,fa=
b,x=fa=M=z=M=b;null==k&&(k=q([],{}));v=x=G=!1;e(e(m=(n=h.$context()["$=="]("document"))?h.$blocks()["$empty?"]():h.$context()["$=="]("document"))?e(n=e(D=C=h["$has_header?"]())?D:k.$delete("invalid-header"))?n:this["$is_next_line_section?"](d,k)["$!"]():m)?(F=(A=h).$doctype()["$=="]("book"),e(e(m=C)?m:e(n=F)?k["$[]"](1)["$!="]("abstract"):n)&&(v=x=f(u,"Block").$new(h,"preamble",q(["content_model"],{content_model:"compound"})),e(e(m=F)?h["$attr?"]("preface-title"):m)&&(z=[h.$attr("preface-title")],
l(v,"title=",a.to_a(z)),z[c(z.length,1)]),h.$blocks()["$<<"](v)),J=h,E=0,e(h.$attributes()["$key?"]("fragment"))?L=-1:e(F)?(m=[1,0],L=m[0],Z=m[1],m):L=1):(F=(A=h.$document()).$doctype()["$=="]("book"),J=this.$initialize_section(d,h,k),k=e(E=k["$[]"]("title"))?q(["title"],{title:E}):q([],{}),L=t(E=J.$level(),1),E["$=="](0)?G=F:e((m=E["$=="](1))?J.$special():E["$=="](1))&&!e(e(m=e(n=(T=J.$sectname())["$=="]("appendix"))?n:T["$=="]("preface"))?m:T["$=="]("abstract"))&&(L=b));for(d.$skip_blank_lines();e(d["$has_more_lines?"]());){this.$parse_block_metadata_lines(d,
A,k);if(e(M=this["$is_next_line_section?"](d,k)))if(e(A["$attr?"]("leveloffset"))&&(M=t(M,A.$attr("leveloffset").$to_i())),e(p(M,E)))e(L)?e(e(n=e(D=M["$=="](L))?D:e(w=Z)?M["$=="](Z):w)?n:r(L,0))||(fa=e(Z)?"expected levels "+Z+" or "+L:"expected level "+L,this.$logger().$warn(this.$message_with_context("section title out of sequence: "+fa+", got level "+M,q(["source_location"],{source_location:d.$cursor()})))):this.$logger().$error(this.$message_with_context(""+T+" sections do not support nested sections",
q(["source_location"],{source_location:d.$cursor()}))),D=this.$next_section(d,J,k),n=a.to_ary(D),M=null==n[0]?b:n[0],k=null==n[1]?b:n[1],D,J.$assign_numeral(M),J.$blocks()["$<<"](M);else if(e((n=M["$=="](0))?J["$=="](A):M["$=="](0)))e(F)||this.$logger().$error(this.$message_with_context("level 0 sections can only be used when doctype is book",q(["source_location"],{source_location:d.$cursor()}))),D=this.$next_section(d,J,k),n=a.to_ary(D),M=null==n[0]?b:n[0],k=null==n[1]?b:n[1],D,J.$assign_numeral(M),
J.$blocks()["$<<"](M);else break;else z=d.$cursor(),e(M=this.$next_block(d,e(n=x)?n:J,k,q(["parse_metadata"],{parse_metadata:!1})))&&(e(G)&&(e(J["$blocks?"]()["$!"]())?e(M.$style()["$!="]("partintro"))&&(M.$context()["$=="]("paragraph")?(z=["open"],l(M,"context=",a.to_a(z)),z[c(z.length,1)],z=["partintro"],l(M,"style=",a.to_a(z)),z[c(z.length,1)]):(z=[x=f(u,"Block").$new(J,"open",q(["content_model"],{content_model:"compound"}))],l(M,"parent=",a.to_a(z)),z[c(z.length,1)],z=["partintro"],l(x,"style=",
a.to_a(z)),z[c(z.length,1)],J.$blocks()["$<<"](x))):J.$blocks().$size()["$=="](1)&&(fa=J.$blocks()["$[]"](0),e(e(n=x["$!"]())?fa.$content_model()["$=="]("compound"):n)?this.$logger().$error(this.$message_with_context("illegal block content outside of partintro block",q(["source_location"],{source_location:z}))):e(fa.$content_model()["$!="]("compound"))&&(z=[x=f(u,"Block").$new(J,"open",q(["content_model"],{content_model:"compound"}))],l(M,"parent=",a.to_a(z)),z[c(z.length,1)],z=["partintro"],l(x,
"style=",a.to_a(z)),z[c(z.length,1)],J.$blocks().$shift(),fa.$style()["$=="]("partintro")&&(z=["paragraph"],l(fa,"context=",a.to_a(z)),z[c(z.length,1)],z=[b],l(fa,"style=",a.to_a(z)),z[c(z.length,1)]),x["$<<"](fa),J.$blocks()["$<<"](x)))),(e(n=x)?n:J).$blocks()["$<<"](M),k=q([],{}));if(e(n=d.$skip_blank_lines()))n;else break}if(e(G))e(e(m=J["$blocks?"]())?J.$blocks()["$[]"](-1).$context()["$=="]("section"):m)||this.$logger().$error(this.$message_with_context("invalid part, must have at least one section (e.g., chapter, appendix, etc.)",
q(["source_location"],{source_location:d.$cursor()})));else if(e(v))if(e(v["$blocks?"]())){if(!e(e(m=e(n=F)?n:A.$blocks()["$[]"](1))?m:f(u,"Compliance").$unwrap_standalone_preamble()["$!"]()))for(A.$blocks().$shift();e(x=v.$blocks().$shift());)A["$<<"](x)}else A.$blocks().$shift();return[e(J["$!="](h))?J:b,k.$dup()]},R.$$arity=-3);a.defs(h,"$next_block",P=function(d,h,m,D){try{var w,v,C,z,A,G,J,E,L,M=b,Z=b,T=b,fa=b,N=b,ja=b,Y=b,R=b,W=b,Q=b,P=b,aa=b,O=b,X=b,H=b,qa=b,ga=b,ba=b,ea=b,ca=b,ha=b,na=b,ra=
b,ia=b,Da=b,sa=b,da=b,la=b,pa=b,ma=b,ka=b,Ia=b,S=b,Ka=b,Aa=b,xa=b,Ja=b,wa=b,oa=b,Ha=b,Fa=b,ua=b,Ga=b,va=b,Ca=b,ya=b,Ea=b,Ba=b,sb=b,tb=b,db=b;null==m&&(m=q([],{}));null==D&&(D=q([],{}));if(!e(M=d.$skip_blank_lines()))return b;e(e(w=Z=D["$[]"]("text"))?p(M,0):w)&&(D.$delete("text"),Z=!1);T=h.$document();if(e(D.$fetch("parse_metadata",!0)))for(;e(this.$parse_block_metadata_line(d,T,m,D));)d.$shift(),e(v=d.$skip_blank_lines())?v:a.ret(b);e(fa=T.$extensions())&&(w=[fa["$blocks?"](),fa["$block_macros?"]()],
N=w[0],ja=w[1],w);d.$mark();w=[d.$read_line(),T.$attributes(),m["$[]"](1)];Y=w[0];R=w[1];W=w[2];w;Q=P=aa=O=b;e(X=this["$is_delimited_block?"](Y,!0))&&(P=aa=X.$context(),O=X.$terminator(),e(W["$!"]())?W=(H=["style",P.$to_s()],l(m,"[]=",a.to_a(H)),H[c(H.length,1)]):e(W["$!="](P.$to_s()))&&(e(X.$masq()["$include?"](W))?P=W.$to_sym():e(e(w=X.$masq()["$include?"]("admonition"))?f(u,"ADMONITION_STYLES")["$include?"](W):w)?P="admonition":e(e(w=N)?fa["$registered_for_block?"](W,P):w)?P=W.$to_sym():(this.$logger().$warn(this.$message_with_context("invalid style for "+
P+" block: "+W,q(["source_location"],{source_location:d.$cursor_at_mark()}))),W=P.$to_s())));if(!e(X))for(;e(!0);){if(e(e(v=e(C=W)?f(u,"Compliance").$strict_verbatim_paragraphs():C)?f(u,"VERBATIM_STYLES")["$include?"](W):v)){P=W.$to_sym();d.$unshift_line(Y);break}if(e(Z))qa=Y["$start_with?"](" ",f(u,"TAB"));else if(ga=f(u,"Compliance").$markdown_syntax(),e(Y["$start_with?"](" "))){if(v=[!0," "],qa=v[0],ba=v[1],v,e(e(v=e(C=ga)?l(Y.$lstrip(),"start_with?",a.to_a(f(u,"MARKDOWN_THEMATIC_BREAK_CHARS").$keys())):
C)?f(u,"MarkdownThematicBreakRx")["$match?"](Y):v)){Q=f(u,"Block").$new(h,"thematic_break",q(["content_model"],{content_model:"empty"}));break}}else if(e(Y["$start_with?"](f(u,"TAB"))))v=[!0,f(u,"TAB")],qa=v[0],ba=v[1],v;else if(v=[!1,Y.$chr()],qa=v[0],ba=v[1],v,ea=e(ga)?f(u,"HYBRID_LAYOUT_BREAK_CHARS"):f(u,"LAYOUT_BREAK_CHARS"),e(e(v=ea["$key?"](ba))?e(ga)?f(u,"ExtLayoutBreakRx")["$match?"](Y):(C=Y["$=="](k(ba,ca=Y.$length())))?p(ca,2):Y["$=="](k(ba,ca=Y.$length())):v)){Q=f(u,"Block").$new(h,ea["$[]"](ba),
q(["content_model"],{content_model:"empty"}));break}else if(e(e(v=Y["$end_with?"]("]"))?Y["$include?"]("::"):v))if(e(e(v=e(C=ba["$=="]("i"))?C:Y["$start_with?"]("video:","audio:"))?f(u,"BlockMediaMacroRx")["$=~"](Y):v)){v=[((C=n["~"])===b?b:C["$[]"](1)).$to_sym(),(C=n["~"])===b?b:C["$[]"](2),(C=n["~"])===b?b:C["$[]"](3)];ha=v[0];na=v[1];ra=v[2];v;Q=f(u,"Block").$new(h,ha,q(["content_model"],{content_model:"empty"}));e(ra)&&(ia=ha,Da="video"["$==="](ia)?["poster","width","height"]:"audio"["$==="](ia)?
[]:["alt","width","height"],Q.$parse_attributes(ra,Da,q(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:m})));e(m["$key?"]("style"))&&m.$delete("style");if(e(e(v=na["$include?"](f(u,"ATTR_REF_HEAD")))?(na=Q.$sub_attributes(na,q(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]():v)){if((e(v=R["$[]"]("attribute-missing"))?v:f(u,"Compliance").$attribute_missing())["$=="]("skip"))return f(u,"Block").$new(h,"paragraph",q(["content_model","source"],{content_model:"simple",
source:[Y]}));m.$clear();return b}ha["$=="]("image")&&(T.$register("images",na),e(v=m["$[]"]("alt"))?v:(H=["alt",e(C=W)?C:(H=["default-alt",f(u,"Helpers").$basename(na,!0).$tr("_-"," ")],l(m,"[]=",a.to_a(H)),H[c(H.length,1)])],l(m,"[]=",a.to_a(H)),H[c(H.length,1)]),e((sa=m.$delete("scaledwidth"))["$nil_or_empty?"]())||(H=["scaledwidth",e(f(u,"TrailingDigitsRx")["$match?"](sa))?""+sa+"%":sa],l(m,"[]=",a.to_a(H)),H[c(H.length,1)]),H=[m.$delete("title")],l(Q,"title=",a.to_a(H)),H[c(H.length,1)],Q.$assign_caption(m.$delete("caption"),
"figure"));H=["target",na];l(m,"[]=",a.to_a(H));H[c(H.length,1)];break}else if(e(e(v=(C=ba["$=="]("t"))?Y["$start_with?"]("toc:"):ba["$=="]("t"))?f(u,"BlockTocMacroRx")["$=~"](Y):v)){Q=f(u,"Block").$new(h,"toc",q(["content_model"],{content_model:"empty"}));e((v=n["~"])===b?b:v["$[]"](1))&&Q.$parse_attributes((v=n["~"])===b?b:v["$[]"](1),[],q(["sub_result","into"],{sub_result:!1,into:m}));break}else if(e(e(v=e(C=ja)?f(u,"CustomBlockMacroRx")["$=~"](Y):C)?da=fa["$registered_for_block_macro?"]((C=n["~"])===
b?b:C["$[]"](1)):v))if(v=[(C=n["~"])===b?b:C["$[]"](2),(C=n["~"])===b?b:C["$[]"](3)],na=v[0],la=v[1],v,da.$config()["$[]"]("content_model")["$=="]("attributes")?e(la)&&T.$parse_attributes(la,e(v=da.$config()["$[]"]("pos_attrs"))?v:[],q(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:m})):(H=["text",e(v=la)?v:""],l(m,"[]=",a.to_a(H)),H[c(H.length,1)]),e(pa=da.$config()["$[]"]("default_attrs"))&&l(m,"update",[pa],(z=function(a,c){null==c&&(c=b);return c},z.$$s=this,z.$$arity=2,z)),
e(Q=da.$process_method()["$[]"](h,na,m))){m.$replace(Q.$attributes());break}else return m.$clear(),b;if(e(e(v=e(C=e(A=qa["$!"]())?f(u,"CALLOUT_LIST_HEADS")["$include?"](ba=e(G=ba)?G:Y.$chr()):A)?f(u,"CalloutListSniffRx")["$match?"](Y):C)?ma=f(u,"CalloutListRx").$match(Y):v)){Q=f(u,"List").$new(h,"colist");H=["style","arabic"];l(m,"[]=",a.to_a(H));H[c(H.length,1)];d.$unshift_line(Y);for(ka=1;e(e(C=ma)?C:e(A=ma=f(u,"CalloutListRx").$match(d.$peek_line()))?d.$mark():A);)ma["$[]"](1)["$=="](ka.$to_s())||
this.$logger().$warn(this.$message_with_context("callout list item index: expected "+ka+", got "+ma["$[]"](1),q(["source_location"],{source_location:d.$cursor_at_mark()}))),e(Ia=this.$next_list_item(d,Q,ma))&&(Q.$items()["$<<"](Ia),e((S=T.$callouts().$callout_ids(Q.$items().$size()))["$empty?"]())?this.$logger().$warn(this.$message_with_context("no callout found for <"+Q.$items().$size()+">",q(["source_location"],{source_location:d.$cursor_at_mark()}))):(H=["coids",S],l(Ia.$attributes(),"[]=",a.to_a(H)),
H[c(H.length,1)])),ka=t(ka,1),ma=b;T.$callouts().$next_list();break}else if(e(f(u,"UnorderedListRx")["$match?"](Y))){d.$unshift_line(Y);e(W)||e(e(v=f(u,"Section")["$==="](h))?h.$sectname()["$=="]("bibliography"):v)&&(W=(H=["style","bibliography"],l(m,"[]=",a.to_a(H)),H[c(H.length,1)]));Q=this.$next_list(d,"ulist",h,W);break}else if(e(ma=f(u,"OrderedListRx").$match(Y))){d.$unshift_line(Y);Q=this.$next_list(d,"olist",h);e(W)||(Ka=Q.$items()["$[]"](0).$marker(),H=e(Ka["$start_with?"]("."))?["style",
(e(v=f(u,"ORDERED_LIST_STYLES")["$[]"](c(Ka.$length(),1)))?v:"arabic").$to_s()]:["style",(e(v=l(f(u,"ORDERED_LIST_STYLES"),"find",[],(J=function(a){null==a&&(a=b);return f(u,"OrderedListMarkerRxMap")["$[]"](a)["$match?"](Ka)},J.$$s=this,J.$$arity=1,J)))?v:"arabic").$to_s()],l(m,"[]=",a.to_a(H)),H[c(H.length,1)]);break}else if(e(ma=f(u,"DescriptionListRx").$match(Y))){d.$unshift_line(Y);Q=this.$next_description_list(d,ma,h);break}else if(e(e(v=e(C=W["$=="]("float"))?C:W["$=="]("discrete"))?e(f(u,"Compliance").$underline_style_section_titles())?
this["$is_section_title?"](Y,d.$peek_line()):e(C=qa["$!"]())?this["$atx_section_title?"](Y):C:v)){d.$unshift_line(Y);C=this.$parse_section_title(d,T,m["$[]"]("id"));v=a.to_ary(C);Aa=null==v[0]?b:v[0];xa=null==v[1]?b:v[1];Ja=null==v[2]?b:v[2];wa=null==v[3]?b:v[3];C;e(xa)&&(H=["reftext",xa],l(m,"[]=",a.to_a(H)),H[c(H.length,1)]);Q=f(u,"Block").$new(h,"floating_title",q(["content_model"],{content_model:"empty"}));H=[Ja];l(Q,"title=",a.to_a(H));H[c(H.length,1)];m.$delete("title");H=[e(v=Aa)?v:e(R["$key?"]("sectids"))?
f(u,"Section").$generate_id(Q.$title(),T):b];l(Q,"id=",a.to_a(H));H[c(H.length,1)];H=[wa];l(Q,"level=",a.to_a(H));H[c(H.length,1)];break}else if(e(e(v=W)?W["$!="]("normal"):v))if(e(f(u,"PARAGRAPH_STYLES")["$include?"](W))){P=W.$to_sym();aa="paragraph";d.$unshift_line(Y);break}else if(e(f(u,"ADMONITION_STYLES")["$include?"](W))){P="admonition";aa="paragraph";d.$unshift_line(Y);break}else if(e(e(v=N)?fa["$registered_for_block?"](W,"paragraph"):v)){P=W.$to_sym();aa="paragraph";d.$unshift_line(Y);break}else this.$logger().$warn(this.$message_with_context("invalid style for paragraph: "+
W,q(["source_location"],{source_location:d.$cursor_at_mark()}))),W=b;d.$unshift_line(Y);if(e(e(v=qa)?W["$!"]():v))oa=this.$read_paragraph_lines(d,e(v=Ha=f(u,"ListItem")["$==="](h))?M["$=="](0):v,q(["skip_line_comments"],{skip_line_comments:Z})),this["$adjust_indentation!"](oa),Q=f(u,"Block").$new(h,"literal",q(["content_model","source","attributes"],{content_model:"verbatim",source:oa,attributes:m})),e(Ha)&&Q.$set_option("listparagraph");else{oa=this.$read_paragraph_lines(d,(v=M["$=="](0))?f(u,"ListItem")["$==="](h):
M["$=="](0),q(["skip_line_comments"],{skip_line_comments:!0}));if(e(Z)){if(e(e(v=qa)?W["$=="]("normal"):v))this["$adjust_indentation!"](oa);Q=f(u,"Block").$new(h,"paragraph",q(["content_model","source","attributes"],{content_model:"simple",source:oa,attributes:m}))}else if(e(e(v=e(C=f(u,"ADMONITION_STYLE_HEADS")["$include?"](ba))?Y["$include?"](":"):C)?f(u,"AdmonitionParagraphRx")["$=~"](Y):v))H=[0,(v=n["~"])===b?b:v.$post_match()],l(oa,"[]=",a.to_a(H)),H[c(H.length,1)],H=["name",Fa=(H=["style",(v=
n["~"])===b?b:v["$[]"](1)],l(m,"[]=",a.to_a(H)),H[c(H.length,1)]).$downcase()],l(m,"[]=",a.to_a(H)),H[c(H.length,1)],H=["textlabel",e(v=m.$delete("caption"))?v:R["$[]"](""+Fa+"-caption")],l(m,"[]=",a.to_a(H)),H[c(H.length,1)],Q=f(u,"Block").$new(h,"admonition",q(["content_model","source","attributes"],{content_model:"simple",source:oa,attributes:m}));else if(e(e(v=e(C=ga)?ba["$=="](">"):C)?Y["$start_with?"]("> "):v)){l(oa,"map!",[],(E=function(a){null==a&&(a=b);return a["$=="](">")?a["$[]"](x(1,-1,
!1)):e(a["$start_with?"]("> "))?a["$[]"](x(2,-1,!1)):a},E.$$s=this,E.$$arity=1,E));if(e(oa["$[]"](-1)["$start_with?"]("-- ")))for(ua=ua=oa.$pop()["$[]"](x(3,-1,!1));e(oa["$[]"](-1)["$empty?"]());)oa.$pop();H=["style","quote"];l(m,"[]=",a.to_a(H));H[c(H.length,1)];Q=this.$build_block("quote","compound",!1,h,f(u,"Reader").$new(oa),m);e(ua)&&(C=Q.$apply_subs(ua).$split(", ",2),v=a.to_ary(C),Ga=null==v[0]?b:v[0],va=null==v[1]?b:v[1],C,e(Ga)&&(H=["attribution",Ga],l(m,"[]=",a.to_a(H)),H[c(H.length,1)]),
e(va)&&(H=["citetitle",va],l(m,"[]=",a.to_a(H)),H[c(H.length,1)]))}else if(e(e(v=e(C=(A=ba["$=="]('"'))?p(oa.$size(),1):ba["$=="]('"'))?oa["$[]"](-1)["$start_with?"]("-- "):C)?oa["$[]"](-2)["$end_with?"]('"'):v)){H=[0,Y["$[]"](x(1,-1,!1))];l(oa,"[]=",a.to_a(H));H[c(H.length,1)];for(ua=(ua=oa.$pop()).$slice(3,ua.$length());e(oa["$[]"](-1)["$empty?"]());)oa.$pop();H=[-1,oa["$[]"](-1).$chop()];l(oa,"[]=",a.to_a(H));H[c(H.length,1)];H=["style","quote"];l(m,"[]=",a.to_a(H));H[c(H.length,1)];Q=f(u,"Block").$new(h,
"quote",q(["content_model","source","attributes"],{content_model:"simple",source:oa,attributes:m}));C=Q.$apply_subs(ua).$split(", ",2);v=a.to_ary(C);Ga=null==v[0]?b:v[0];va=null==v[1]?b:v[1];C;e(Ga)&&(H=["attribution",Ga],l(m,"[]=",a.to_a(H)),H[c(H.length,1)]);e(va)&&(H=["citetitle",va],l(m,"[]=",a.to_a(H)),H[c(H.length,1)])}else{if(e(e(v=qa)?W["$=="]("normal"):v))this["$adjust_indentation!"](oa);Q=f(u,"Block").$new(h,"paragraph",q(["content_model","source","attributes"],{content_model:"simple",source:oa,
attributes:m}))}this.$catalog_inline_anchors(k(oa,f(u,"LF")),Q,T)}break}if(!e(Q))if(e(e(w=P["$=="]("abstract"))?w:P["$=="]("partintro"))&&(P="open"),ia=P,"admonition"["$==="](ia))H=["name",Fa=W.$downcase()],l(m,"[]=",a.to_a(H)),H[c(H.length,1)],H=["textlabel",e(w=m.$delete("caption"))?w:R["$[]"](""+Fa+"-caption")],l(m,"[]=",a.to_a(H)),H[c(H.length,1)],Q=this.$build_block(P,"compound",O,h,d,m);else{if("comment"["$==="](ia))return this.$build_block(P,"skip",O,h,d,m),m.$clear(),b;if("example"["$==="](ia))Q=
this.$build_block(P,"compound",O,h,d,m);else if("listing"["$==="](ia)||"literal"["$==="](ia))Q=this.$build_block(P,"verbatim",O,h,d,m);else if("source"["$==="](ia))f(u,"AttributeList").$rekey(m,[b,"language","linenums"]),!e(m["$key?"]("language"))&&e(R["$key?"]("source-language"))&&(H=["language",e(w=R["$[]"]("source-language"))?w:"text"],l(m,"[]=",a.to_a(H)),H[c(H.length,1)]),!e(m["$key?"]("linenums"))&&e(e(w=m["$key?"]("linenums-option"))?w:R["$key?"]("source-linenums-option"))&&(H=["linenums",
""],l(m,"[]=",a.to_a(H)),H[c(H.length,1)]),!e(m["$key?"]("indent"))&&e(R["$key?"]("source-indent"))&&(H=["indent",R["$[]"]("source-indent")],l(m,"[]=",a.to_a(H)),H[c(H.length,1)]),Q=this.$build_block("listing","verbatim",O,h,d,m);else if("fenced_code"["$==="](ia))H=["style","source"],l(m,"[]=",a.to_a(H)),H[c(H.length,1)],(ca=Y.$length())["$=="](3)?Ca=b:e(ya=(Ca=Y.$slice(3,ca)).$index(","))?e(p(ya,0))?(Ca=Ca.$slice(0,ya).$strip(),e(r(ya,c(ca,4)))&&(H=["linenums",""],l(m,"[]=",a.to_a(H)),H[c(H.length,
1)])):(Ca=b,e(p(ca,4))&&(H=["linenums",""],l(m,"[]=",a.to_a(H)),H[c(H.length,1)])):Ca=Ca.$lstrip(),e(Ca["$nil_or_empty?"]())?e(R["$key?"]("source-language"))&&(H=["language",e(w=R["$[]"]("source-language"))?w:"text"],l(m,"[]=",a.to_a(H)),H[c(H.length,1)]):(H=["language",Ca],l(m,"[]=",a.to_a(H)),H[c(H.length,1)]),!e(m["$key?"]("linenums"))&&e(e(w=m["$key?"]("linenums-option"))?w:R["$key?"]("source-linenums-option"))&&(H=["linenums",""],l(m,"[]=",a.to_a(H)),H[c(H.length,1)]),!e(m["$key?"]("indent"))&&
e(R["$key?"]("source-indent"))&&(H=["indent",R["$[]"]("source-indent")],l(m,"[]=",a.to_a(H)),H[c(H.length,1)]),O=O.$slice(0,3),Q=this.$build_block("listing","verbatim",O,h,d,m);else if("pass"["$==="](ia))Q=this.$build_block(P,"raw",O,h,d,m);else if("stem"["$==="](ia)||"latexmath"["$==="](ia)||"asciimath"["$==="](ia))P["$=="]("stem")&&(H=["style",f(u,"STEM_TYPE_ALIASES")["$[]"](e(w=m["$[]"](2))?w:R["$[]"]("stem"))],l(m,"[]=",a.to_a(H)),H[c(H.length,1)]),Q=this.$build_block("stem","raw",O,h,d,m);else if("open"["$==="](ia)||
"sidebar"["$==="](ia))Q=this.$build_block(P,"compound",O,h,d,m);else if("table"["$==="](ia))Ea=d.$cursor(),Ba=f(u,"Reader").$new(d.$read_lines_until(q(["terminator","skip_line_comments","context","cursor"],{terminator:O,skip_line_comments:!0,context:"table",cursor:"at_mark"})),Ea),e(O["$start_with?"]("|","!"))||(e(w=m["$[]"]("format"))?w:(H=["format",e(O["$start_with?"](","))?"csv":"dsv"],l(m,"[]=",a.to_a(H)),H[c(H.length,1)])),Q=this.$next_table(Ba,h,m);else if("quote"["$==="](ia)||"verse"["$==="](ia))f(u,
"AttributeList").$rekey(m,[b,"attribution","citetitle"]),Q=this.$build_block(P,P["$=="]("verse")?"verbatim":"compound",O,h,d,m);else if(e(e(w=N)?da=fa["$registered_for_block?"](P,aa):w)){if(e((sb=da.$config()["$[]"]("content_model"))["$!="]("skip"))&&(e((tb=e(w=da.$config()["$[]"]("pos_attrs"))?w:[])["$empty?"]()["$!"]())&&f(u,"AttributeList").$rekey(m,[b].$concat(tb)),e(pa=da.$config()["$[]"]("default_attrs"))&&l(pa,"each",[],(L=function(d,f){var h;null==d&&(d=b);null==f&&(f=b);return e(h=m["$[]"](d))?
h:(H=[d,f],l(m,"[]=",a.to_a(H)),H[c(H.length,1)])},L.$$s=this,L.$$arity=2,L)),H=["cloaked-context",aa],l(m,"[]=",a.to_a(H)),H[c(H.length,1)]),Q=this.$build_block(P,sb,O,h,d,m,q(["extension"],{extension:da})),!e(Q))return m.$clear(),b}else this.$raise("Unsupported block type "+P+" at "+d.$cursor())}e(T.$sourcemap())&&(H=[d.$cursor_at_mark()],l(Q,"source_location=",a.to_a(H)),H[c(H.length,1)]);e(m["$key?"]("title"))&&(H=[m.$delete("title")],l(Q,"title=",a.to_a(H)),H[c(H.length,1)]);H=[m["$[]"]("style")];
l(Q,"style=",a.to_a(H));H[c(H.length,1)];e(db=e(w=Q.$id())?w:(H=[m["$[]"]("id")],l(Q,"id=",a.to_a(H)),H[c(H.length,1)]))&&!e(T.$register("refs",[db,Q,e(w=m["$[]"]("reftext"))?w:e(Q["$title?"]())?Q.$title():b]))&&this.$logger().$warn(this.$message_with_context("id assigned to block already in use: "+db,q(["source_location"],{source_location:d.$cursor_at_mark()})));e(m["$empty?"]())||Q.$attributes().$update(m);Q.$lock_in_subs();e(Q["$sub?"]("callouts"))&&!e(this.$catalog_callouts(Q.$source(),T))&&Q.$remove_sub("callouts");
return Q}catch(eb){if(eb===a.returner)return eb.$v;throw eb;}},P.$$arity=-3);a.defs(h,"$read_paragraph_lines",ja=function(d,h,k){var m=b,m=b;null==k&&(k=q([],{}));m=["break_on_blank_lines",!0];l(k,"[]=",a.to_a(m));m[c(m.length,1)];m=["break_on_list_continuation",!0];l(k,"[]=",a.to_a(m));m[c(m.length,1)];m=["preserve_last_line",!0];l(k,"[]=",a.to_a(m));m[c(m.length,1)];m=e(h)?e(f(u,"Compliance").$block_terminates_paragraph())?f(u,"StartOfBlockOrListProc"):f(u,"StartOfListProc"):e(f(u,"Compliance").$block_terminates_paragraph())?
f(u,"StartOfBlockProc"):f(u,"NoOp");return l(d,"read_lines_until",[k],m.$to_proc())},ja.$$arity=-3);a.defs(h,"$is_delimited_block?",Z=function(d,h){var m,l,n=l=b,q=b,t=b,D=b,t=q=b;null==h&&(h=!1);if(!e(e(m=p(l=d.$length(),1))?f(u,"DELIMITED_BLOCK_HEADS")["$include?"](d.$slice(0,2)):m))return b;if(l["$=="](2))n=d,q=2;else{e("number"===typeof l?4>=l:l["$<="](4))?(n=d,q=l):(n=d.$slice(0,4),q=4);t=!1;if(e(f(u,"Compliance").$markdown_syntax())&&(D=q["$=="](4)?n.$chop():n,D["$=="]("```"))){if(e(q["$=="](4)?
n["$end_with?"]("`"):q["$=="](4)))return b;n=D;q=3;t=!0}if(e((m=q["$=="](3))?t["$!"]():q["$=="](3)))return b}if(e(f(u,"DELIMITED_BLOCKS")["$key?"](n))){if(e(e(m=r(q,4))?m:q["$=="](l)))return e(h)?(l=f(u,"DELIMITED_BLOCKS")["$[]"](n),m=a.to_ary(l),q=null==m[0]?b:m[0],t=null==m[1]?b:m[1],l,f(u,"BlockMatchData").$new(q,t,n,n)):!0;if((""+n+k(n["$[]"](x(-1,-1,!1)),c(l,q)))["$=="](d))return e(h)?(l=f(u,"DELIMITED_BLOCKS")["$[]"](n),m=a.to_ary(l),q=null==m[0]?b:m[0],t=null==m[1]?b:m[1],l,f(u,"BlockMatchData").$new(q,
t,n,d)):!0}return b},Z.$$arity=-2);a.defs(h,"$build_block",H=function(d,h,k,m,n,t,D){var w,v,r=b,x=b,C=r=x=b;w=C=C=C=C=b;null==D&&(D=q([],{}));w=h["$=="]("skip")?[!0,"simple"]:h["$=="]("raw")?[!1,"simple"]:[!1,h];r=w[0];x=w[1];w;e(k["$nil?"]())?(x["$=="]("verbatim")?x=n.$read_lines_until(q(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(h["$=="]("compound")&&(h="simple"),x=this.$read_paragraph_lines(n,!1,q(["skip_line_comments","skip_processing"],
{skip_line_comments:!0,skip_processing:r}))),r=b):e(x["$!="]("compound"))?(x=n.$read_lines_until(q(["terminator","skip_processing","context","cursor"],{terminator:k,skip_processing:r,context:d,cursor:"at_mark"})),r=b):k["$=="](!1)?(x=b,r=n):(x=b,C=n.$cursor(),r=f(u,"Reader").$new(n.$read_lines_until(q(["terminator","skip_processing","context","cursor"],{terminator:k,skip_processing:r,context:d,cursor:"at_mark"})),C));if(h["$=="]("verbatim"))if(e(C=t["$[]"]("indent")))this["$adjust_indentation!"](x,
C,e(w=t["$[]"]("tabsize"))?w:m.$document().$attributes()["$[]"]("tabsize"));else{if(e(p(C=(e(w=t["$[]"]("tabsize"))?w:m.$document().$attributes()["$[]"]("tabsize")).$to_i(),0)))this["$adjust_indentation!"](x,b,C)}else if(h["$=="]("skip"))return b;if(e(C=D["$[]"]("extension")))if(t.$delete("style"),e(C=C.$process_method()["$[]"](m,e(w=r)?w:f(u,"Reader").$new(x),t.$dup())))t.$replace(C.$attributes()),e((w=C.$content_model()["$=="]("compound"))?(x=C.$lines())["$nil_or_empty?"]()["$!"]():C.$content_model()["$=="]("compound"))&&
(h="compound",r=f(u,"Reader").$new(x));else return b;else C=f(u,"Block").$new(m,d,q(["content_model","source","attributes"],{content_model:h,source:x,attributes:t}));e(e(w=e(v=t["$key?"]("title"))?C.$context()["$!="]("admonition"):v)?m.$document().$attributes()["$key?"](""+C.$context()+"-caption"):w)&&(w=[t.$delete("title")],l(C,"title=",a.to_a(w)),w[c(w.length,1)],C.$assign_caption(t.$delete("caption")));h["$=="]("compound")&&this.$parse_blocks(r,C);return C},H.$$arity=-7);a.defs(h,"$parse_blocks",
ba=function(a,c){for(var d,g,f=b;e(e(d=e(g=f=this.$next_block(a,c))?c.$blocks()["$<<"](f):g)?d:a["$has_more_lines?"]()););},ba.$$arity=2);a.defs(h,"$next_list",T=function(d,h,k,m){var q,D,w=b,v=b,x=v=b,C=b,z=b,A=b;null==n["~"]&&(n["~"]=b);null==m&&(m=b);w=f(u,"List").$new(k,h);v=[k.$context()["$=="](h)?t(k.$level(),1):1];l(w,"level=",a.to_a(v));for(v[c(v.length,1)];e(e(q=d["$has_more_lines?"]())?f(u,"ListRxMap")["$[]"](h)["$=~"](d.$peek_line()):q);){q=[n["~"],this.$resolve_list_marker(h,(D=n["~"])===
b?b:D["$[]"](1))];v=q[0];x=q[1];q;if(e(e(q=w["$items?"]())?x["$!="](w.$items()["$[]"](0).$marker()):q))for(C=t(w.$level(),1),z=k;z.$context()["$=="](h);){if(x["$=="](z.$items()["$[]"](0).$marker())){C=z.$level();break}z=z.$parent()}else C=w.$level();if(e(e(q=w["$items?"]()["$!"]())?q:C["$=="](w.$level())))A=this.$next_list_item(d,w,v,b,m);else if(e(r(C,w.$level())))break;else if(e(p(C,w.$level())))w.$items()["$[]"](-1)["$<<"](this.$next_block(d,w));if(e(A))w.$items()["$<<"](A);A=b;if(e(q=d.$skip_blank_lines()))q;
else break}return w},T.$$arity=-4);a.defs(h,"$catalog_callouts",ga=function(a,c){var d,g=b,g=!1;e(a["$include?"]("<"))&&l(a,"scan",[f(u,"CalloutScanRx")],(d=function(){var a,d,f=b,h=b;a=[(d=n["~"])===b?b:d["$[]"](0),(d=n["~"])===b?b:d["$[]"](2)];f=a[0];h=a[1];a;e(f["$start_with?"]("\\"))||c.$callouts().$register(h);return g=!0},d.$$s=this,d.$$arity=0,d));return g},ga.$$arity=2);a.defs(h,"$catalog_inline_anchor",ca=function(a,c,d,g,h){var k;null==h&&(h=b);h=e(k=h)?k:d.$document();e(e(k=c)?c["$include?"](f(u,
"ATTR_REF_HEAD")):k)&&(c=h.$sub_attributes(c));e(h.$register("refs",[a,f(u,"Inline").$new(d,"anchor",c,q(["type","id"],{type:"ref",id:a})),c]))||(e(f(u,"Reader")["$==="](g))&&(g=g.$cursor()),this.$logger().$warn(this.$message_with_context("id assigned to anchor already in use: "+a,q(["source_location"],{source_location:g}))));return b},ca.$$arity=-5);a.defs(h,"$catalog_inline_anchors",aa=function(a,c,d){var g,h;e(e(g=a["$include?"]("[["))?g:a["$include?"]("or:"))&&l(a,"scan",[f(u,"InlineAnchorScanRx")],
(h=function(){var a=h.$$s||this,g,k=b,m=b;if(e(k=(g=n["~"])===b?b:g["$[]"](1))){if(e(m=(g=n["~"])===b?b:g["$[]"](2))&&e(e(g=m["$include?"](f(u,"ATTR_REF_HEAD")))?(m=d.$sub_attributes(m))["$empty?"]():g))return b}else if(k=(g=n["~"])===b?b:g["$[]"](3),e(m=(g=n["~"])===b?b:g["$[]"](4))&&(e(m["$include?"]("]"))&&(m=m.$gsub("\\]","]")),e(e(g=m["$include?"](f(u,"ATTR_REF_HEAD")))?(m=d.$sub_attributes(m))["$empty?"]():g)))return b;return e(d.$register("refs",[k,f(u,"Inline").$new(c,"anchor",m,q(["type",
"id"],{type:"ref",id:k})),m]))?b:a.$logger().$warn(a.$message_with_context("id assigned to anchor already in use: "+k,q(["source_location"],{source_location:d.$reader().$cursor_at_prev_line()})))},h.$$s=this,h.$$arity=0,h));return b},aa.$$arity=3);a.defs(h,"$catalog_inline_biblio_anchor",sa=function(a,c,d,g){var h=b;e(d.$document().$register("refs",[a,f(u,"Inline").$new(d,"anchor",h="["+(e(c)?c:a)+"]",q(["type","id"],{type:"bibref",id:a})),h]))||this.$logger().$warn(this.$message_with_context("id assigned to bibliography anchor already in use: "+
a,q(["source_location"],{source_location:g.$cursor()})));return b},sa.$$arity=4);a.defs(h,"$next_description_list",la=function(d,h,k){for(var m,n,q=b,t=b,p=b,D=b,w=b,D=b,q=f(u,"List").$new(k,"dlist"),t=b,p=f(u,"DescriptionListSiblingRx")["$[]"](h["$[]"](2));e(e(m=h)?m:e(n=d["$has_more_lines?"]())?h=p.$match(d.$peek_line()):n);){n=this.$next_list_item(d,q,h,p);m=a.to_ary(n);D=null==m[0]?b:m[0];w=null==m[1]?b:m[1];n;if(e(e(m=t)?t["$[]"](1)["$!"]():m))t["$[]"](0)["$<<"](D),D=[1,w],l(t,"[]=",a.to_a(D)),
D[c(D.length,1)];else q.$items()["$<<"](t=[[D],w]);h=b}return q},la.$$arity=3);a.defs(h,"$next_list_item",da=function(d,h,k,m,t){var p,D,w=b,v=b,r=b,x=b,C=b,y=b,B=x=b,z=b,A=C=B=C=B=w=B=b;null==m&&(m=b);null==t&&(t=b);(w=h.$context())["$=="]("dlist")?(v=!0,r=f(u,"ListItem").$new(h,x=k["$[]"](1)),e(e(p=x["$start_with?"]("[["))?f(u,"LeadingInlineAnchorRx")["$=~"](x):p)&&this.$catalog_inline_anchor((p=n["~"])===b?b:p["$[]"](1),e(p=(D=n["~"])===b?b:D["$[]"](2))?p:((D=n["~"])===b?b:D.$post_match()).$lstrip(),
r,d),e(C=k["$[]"](3))&&(y=!0),x=f(u,"ListItem").$new(h,C),e(h.$document().$sourcemap())&&(B=[d.$cursor()],l(r,"source_location=",a.to_a(B)),B[c(B.length,1)],e(y)?(B=[r.$source_location()],l(x,"source_location=",a.to_a(B)),B[c(B.length,1)]):z=!0)):(y=!0,x=f(u,"ListItem").$new(h,C=k["$[]"](2)),e(h.$document().$sourcemap())&&(B=[d.$cursor()],l(x,"source_location=",a.to_a(B)),B[c(B.length,1)]),w["$=="]("ulist")?(B=[m=e(p=m)?p:k["$[]"](1)],l(x,"marker=",a.to_a(B)),B[c(B.length,1)],e(C["$start_with?"]("["))&&
(e(e(p=t)?t["$=="]("bibliography"):p)?e(f(u,"InlineBiblioAnchorRx")["$=~"](C))&&this.$catalog_inline_biblio_anchor((p=n["~"])===b?b:p["$[]"](1),(p=n["~"])===b?b:p["$[]"](2),x,d):e(C["$start_with?"]("[["))?e(f(u,"LeadingInlineAnchorRx")["$=~"](C))&&this.$catalog_inline_anchor((p=n["~"])===b?b:p["$[]"](1),(p=n["~"])===b?b:p["$[]"](2),x,d):e(C["$start_with?"]("[ ] ","[x] ","[*] "))&&(B=["checklist-option",""],l(h.$attributes(),"[]=",a.to_a(B)),B[c(B.length,1)],B=["checkbox",""],l(x.$attributes(),"[]=",
a.to_a(B)),B[c(B.length,1)],e(C["$start_with?"]("[ "))||(B=["checked",""],l(x.$attributes(),"[]=",a.to_a(B)),B[c(B.length,1)]),B=[C.$slice(4,C.$length())],l(x,"text=",a.to_a(B)),B[c(B.length,1)]))):(B=w["$=="]("olist")?[m=e(p=m)?p:this.$resolve_ordered_list_marker(k["$[]"](1),h.$items().$size(),!0,d)]:[m=e(p=m)?p:"<1>"],l(x,"marker=",a.to_a(B)),B[c(B.length,1)]));d.$shift();B=d.$cursor();w=f(u,"Reader").$new(this.$read_lines_for_list_item(d,w,m,y),B);if(e(w["$has_more_lines?"]())){e(z)&&(B=[B],l(x,
"source_location=",a.to_a(B)),B[c(B.length,1)]);B=w.$skip_line_comments();e(C=w.$peek_line())?(e(B["$empty?"]())||w.$unshift_lines(B),e(B=C["$empty?"]())?C=!1:(C=!0,e(v)||(y=b))):C=B=!1;if(e(A=this.$next_block(w,x,q([],{}),q(["text"],{text:y["$!"]()}))))x.$blocks()["$<<"](A);for(;e(w["$has_more_lines?"]());)if(e(A=this.$next_block(w,x)))x.$blocks()["$<<"](A);x.$fold_first(B,C)}return e(v)?e(e(p=x["$text?"]())?p:x["$blocks?"]())?[r,x]:[r]:x},da.$$arity=-4);a.defs(h,"$read_lines_for_list_item",ha=function(d,
h,k,m){var t,p,D,w,v,r,x,C,y=b,B=b,z=b,A=b,F=b,H=b,H=D=D=b;null==k&&(k=b);null==m&&(m=!0);y=[];B="inactive";z=!1;for(A=b;e(d["$has_more_lines?"]());){F=d.$read_line();if(e(this["$is_sibling_list_item?"](F,h,k)))break;H=e(y["$empty?"]())?b:y["$[]"](-1);if(H["$=="](f(u,"LIST_CONTINUATION"))&&(B["$=="]("inactive")&&(B="active",m=!0,e(z)||(D=[-1,""],l(y,"[]=",a.to_a(D)),D[c(D.length,1)])),F["$=="](f(u,"LIST_CONTINUATION")))){e(B["$!="]("frozen"))&&(B="frozen",y["$<<"](F));F=b;continue}if(e(D=this["$is_delimited_block?"](F,
!0)))if(B["$=="]("active"))y["$<<"](F),y.$concat(d.$read_lines_until(q(["terminator","read_last_line","context"],{terminator:D.$terminator(),read_last_line:!0,context:b}))),B="inactive";else break;else if(e(e(p=(D=h["$=="]("dlist"))?B["$!="]("active"):h["$=="]("dlist"))?f(u,"BlockAttributeLineRx")["$match?"](F):p))break;else if(e((p=B["$=="]("active"))?F["$empty?"]()["$!"]():B["$=="]("active")))if(e(f(u,"LiteralParagraphRx")["$match?"](F)))d.$unshift_line(F),y.$concat(l(d,"read_lines_until",[q(["preserve_last_line",
"break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(w=function(a){var c=w.$$s||this;null==a&&(a=b);return h["$=="]("dlist")?c["$is_sibling_list_item?"](a,h,k):h["$=="]("dlist")},w.$$s=this,w.$$arity=1,w))),B="inactive";else if(e(e(p=e(D=f(u,"BlockTitleRx")["$match?"](F))?D:f(u,"BlockAttributeLineRx")["$match?"](F))?p:f(u,"AttributeEntryRx")["$match?"](F)))y["$<<"](F);else e(H=l(e(z)?["dlist"]:f(u,"NESTABLE_LIST_CONTEXTS"),
"find",[],(v=function(a){null==a&&(a=b);return f(u,"ListRxMap")["$[]"](a)["$match?"](F)},v.$$s=this,v.$$arity=1,v)))&&(z=!0,e((p=H["$=="]("dlist"))?((D=n["~"])===b?b:D["$[]"](3))["$nil_or_empty?"]():H["$=="]("dlist"))&&(m=!1)),y["$<<"](F),B="inactive";else if(e(e(p=H)?H["$empty?"]():p)){if(e(F["$empty?"]())){if(!e(F=e(p=d.$skip_blank_lines())?d.$read_line():p))break;if(e(this["$is_sibling_list_item?"](F,h,k)))break}if(F["$=="](f(u,"LIST_CONTINUATION")))A=y.$size(),y["$<<"](F);else if(e(m))if(e(this["$is_sibling_list_item?"](F,
h,k)))break;else if(e(H=l(f(u,"NESTABLE_LIST_CONTEXTS"),"find",[],(r=function(a){null==a&&(a=b);return f(u,"ListRxMap")["$[]"](a)["$=~"](F)},r.$$s=this,r.$$arity=1,r))))y["$<<"](F),z=!0,e((p=H["$=="]("dlist"))?((D=n["~"])===b?b:D["$[]"](3))["$nil_or_empty?"]():H["$=="]("dlist"))&&(m=!1);else if(e(f(u,"LiteralParagraphRx")["$match?"](F)))d.$unshift_line(F),y.$concat(l(d,"read_lines_until",[q(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,
break_on_list_continuation:!0})],(x=function(a){var c=x.$$s||this;null==a&&(a=b);return h["$=="]("dlist")?c["$is_sibling_list_item?"](a,h,k):h["$=="]("dlist")},x.$$s=this,x.$$arity=1,x)));else break;else e(z)||y.$pop(),y["$<<"](F),m=!0}else e(F["$empty?"]()["$!"]())&&(m=!0),e(H=l(e(z)?["dlist"]:f(u,"NESTABLE_LIST_CONTEXTS"),"find",[],(C=function(a){null==a&&(a=b);return f(u,"ListRxMap")["$[]"](a)["$=~"](F)},C.$$s=this,C.$$arity=1,C)))&&(z=!0,e((p=H["$=="]("dlist"))?((D=n["~"])===b?b:D["$[]"](3))["$nil_or_empty?"]():
H["$=="]("dlist"))&&(m=!1)),y["$<<"](F);F=b}e(F)&&d.$unshift_line(F);for(e(A)&&y.$delete_at(A);e(e(p=y["$empty?"]()["$!"]())?y["$[]"](-1)["$empty?"]():p);)y.$pop();e(e(t=y["$empty?"]()["$!"]())?y["$[]"](-1)["$=="](f(u,"LIST_CONTINUATION")):t)&&y.$pop();return y},ha.$$arity=-3);a.defs(h,"$initialize_section",pa=function(d,h,k){var m,n,t=b,D=b,w=b,v=b,r=b,x=b,C=b,y=b,F=b,z=b,A=b,H=w=b,J=b,E=r=b;null==k&&(k=q([],{}));t=h.$document();D=(w=t.$doctype())["$=="]("book");e(t.$sourcemap())&&(v=d.$cursor());
r=k["$[]"](1);n=this.$parse_section_title(d,t,k["$[]"]("id"));m=a.to_ary(n);x=null==m[0]?b:m[0];C=null==m[1]?b:m[1];y=null==m[2]?b:m[2];F=null==m[3]?b:m[3];z=null==m[4]?b:m[4];n;e(C)?(A=["reftext",C],l(k,"[]=",a.to_a(A)),A[c(A.length,1)]):C=k["$[]"]("reftext");e(r)?e(e(m=D)?r["$=="]("abstract"):m)?(m=["chapter",1],w=m[0],F=m[1],m):(m=[r,!0],w=m[0],H=m[1],m,F["$=="](0)&&(F=1),J=r["$=="]("appendix")):e(D)?w=F["$=="](0)?"part":e(p(F,1))?"section":"chapter":e(w["$=="]("manpage")?y.$casecmp("synopsis")["$=="](0):
w["$=="]("manpage"))?(m=["synopsis",!0],w=m[0],H=m[1],m):w="section";r=f(u,"Section").$new(h,F);m=[x,y,w,v];r["$id="](m[0]);r["$title="](m[1]);r["$sectname="](m[2]);r["$source_location="](m[3]);m;e(H)?(A=[!0],l(r,"special=",a.to_a(A)),A[c(A.length,1)],e(J)?(A=[!0],l(r,"numbered=",a.to_a(A)),A[c(A.length,1)]):t.$attributes()["$[]"]("sectnums")["$=="]("all")&&(A=[e(e(m=D)?F["$=="](1):m)?"chapter":!0],l(r,"numbered=",a.to_a(A)),A[c(A.length,1)])):e(e(m=t.$attributes()["$[]"]("sectnums"))?p(F,0):m)?(A=
[e(r.$special())?e(m=h.$numbered())?!0:m:!0],l(r,"numbered=",a.to_a(A)),A[c(A.length,1)]):e(e(m=e(n=D)?F["$=="](0):n)?t.$attributes()["$[]"]("partnums"):m)&&(A=[!0],l(r,"numbered=",a.to_a(A)),A[c(A.length,1)]);e(E=e(m=r.$id())?m:(A=[e(t.$attributes()["$key?"]("sectids"))?f(u,"Section").$generate_id(r.$title(),t):b],l(r,"id=",a.to_a(A)),A[c(A.length,1)]))&&!e(t.$register("refs",[E,r,e(m=C)?m:r.$title()]))&&this.$logger().$warn(this.$message_with_context("id assigned to section already in use: "+E,
q(["source_location"],{source_location:d.$cursor_at_line(c(d.$lineno(),e(z)?1:2))})));r.$update_attributes(k);d.$skip_blank_lines();return r},pa.$$arity=-3);a.defs(h,"$is_next_line_section?",Y=function(a,c){var d,g,h=b,m=b;return e(e(d=h=c["$[]"](1))?e(g=h["$=="]("discrete"))?g:h["$=="]("float"):d)?b:e(f(u,"Compliance").$underline_style_section_titles())?(m=a.$peek_lines(2,e(d=h)?h["$=="]("comment"):d),this["$is_section_title?"](e(d=m["$[]"](0))?d:"",m["$[]"](1))):this["$atx_section_title?"](e(d=
a.$peek_line())?d:"")},Y.$$arity=2);a.defs(h,"$is_next_line_doctitle?",qa=function(a,c,d){var g,f=b;return e(d)?e(g=f=this["$is_next_line_section?"](a,c))?t(f,d.$to_i())["$=="](0):g:this["$is_next_line_section?"](a,c)["$=="](0)},qa.$$arity=3);a.defs(h,"$is_section_title?",na=function(a,c){var d;null==c&&(c=b);return e(d=this["$atx_section_title?"](a))?d:e(c["$nil_or_empty?"]())?b:this["$setext_section_title?"](a,c)},na.$$arity=-2);a.defs(h,"$atx_section_title?",ia=function(a){var d;return e(e(f(u,
"Compliance").$markdown_syntax())?e(d=a["$start_with?"]("=","#"))?f(u,"ExtAtxSectionTitleRx")["$=~"](a):d:e(d=a["$start_with?"]("="))?f(u,"AtxSectionTitleRx")["$=~"](a):d)?c(((d=n["~"])===b?b:d["$[]"](1)).$length(),1):b},ia.$$arity=1);a.defs(h,"$setext_section_title?",ka=function(a,d){var h,m,l,n=b,q=b,t=b;return e(e(h=e(m=e(l=n=f(u,"SETEXT_SECTION_LEVELS")["$[]"](q=d.$chr()))?k(q,t=d.$length())["$=="](d):l)?f(u,"SetextSectionTitleRx")["$match?"](a):m)?r(c(this.$line_length(a),t).$abs(),2):h)?n:b},
ka.$$arity=2);a.defs(h,"$parse_section_title",ra=function(a,d,h){var m,l,q,p,D,w=b,v=b,x=b,C=b,B=b,A=b,z=b,H=b;null==h&&(h=b);w=b;v=a.$read_line();e(e(f(u,"Compliance").$markdown_syntax())?e(m=v["$start_with?"]("=","#"))?f(u,"ExtAtxSectionTitleRx")["$=~"](v):m:e(m=v["$start_with?"]("="))?f(u,"AtxSectionTitleRx")["$=~"](v):m)?(m=[c(((l=n["~"])===b?b:l["$[]"](1)).$length(),1),(l=n["~"])===b?b:l["$[]"](2),!0],x=m[0],C=m[1],B=m[2],m,!e(h)&&e(e(m=e(l=C["$end_with?"]("]]"))?f(u,"InlineSectionAnchorRx")["$=~"](C):
l)?((l=n["~"])===b?b:l["$[]"](1))["$!"]():m)&&(m=[C.$slice(0,c(C.$length(),((l=n["~"])===b?b:l["$[]"](0)).$length())),(l=n["~"])===b?b:l["$[]"](2),(l=n["~"])===b?b:l["$[]"](3)],C=m[0],h=m[1],w=m[2],m)):e(e(m=e(l=e(q=e(p=e(D=f(u,"Compliance").$underline_style_section_titles())?A=a.$peek_line(!0):D)?x=f(u,"SETEXT_SECTION_LEVELS")["$[]"](z=A.$chr()):p)?k(z,H=A.$length())["$=="](A):q)?C=e(q=f(u,"SetextSectionTitleRx")["$=~"](v))?(p=n["~"])===b?b:p["$[]"](1):q:l)?r(c(this.$line_length(v),H).$abs(),2):
m)?(B=!1,!e(h)&&e(e(m=e(l=C["$end_with?"]("]]"))?f(u,"InlineSectionAnchorRx")["$=~"](C):l)?((l=n["~"])===b?b:l["$[]"](1))["$!"]():m)&&(m=[C.$slice(0,c(C.$length(),((l=n["~"])===b?b:l["$[]"](0)).$length())),(l=n["~"])===b?b:l["$[]"](2),(l=n["~"])===b?b:l["$[]"](3)],C=m[0],h=m[1],w=m[2],m),a.$shift()):this.$raise("Unrecognized section at "+a.$cursor_at_prev_line());e(d["$attr?"]("leveloffset"))&&(x=t(x,d.$attr("leveloffset").$to_i()));return[h,w,C,x,B]},ra.$$arity=-3);e(f(u,"FORCE_UNICODE_LINE_LENGTH"))?
a.defs(h,"$line_length",wa=function(a){return a.$scan(f(u,"UnicodeCharScanRx")).$size()},wa.$$arity=1):a.defs(h,"$line_length",ua=function(a){return a.$length()},ua.$$arity=1);a.defs(h,"$parse_header_metadata",va=function(h,m){var n,p,D,w,v=b,r=b,C=b,y=b,B=b,A=b,z=b,H=b,J=A=b,E=b,A=z=B=C=r=b;null==m&&(m=b);this.$process_attribute_entries(h,m);n=[q([],{}),b,b];v=n[0];r=n[1];C=n[2];n;e(e(n=h["$has_more_lines?"]())?h["$next_line_empty?"]()["$!"]():n)?(e((y=this.$process_authors(h.$read_line()))["$empty?"]())||
(e(m)&&(l(y,"each",[],(p=function(f,h){var k=b;null==f&&(f=b);null==h&&(h=b);if(e(m.$attributes()["$key?"](f)))return b;k=[f,e(d("::","String")["$==="](h))?m.$apply_header_subs(h):h];l(m.$attributes(),"[]=",a.to_a(k));return k[c(k.length,1)]},p.$$s=this,p.$$arity=2,p)),r=m.$attributes()["$[]"]("author"),C=m.$attributes()["$[]"]("authors")),v=y),this.$process_attribute_entries(h,m),B=q([],{}),e(e(n=h["$has_more_lines?"]())?h["$next_line_empty?"]()["$!"]():n)&&(A=h.$read_line(),e(z=f(u,"RevisionInfoLineRx").$match(A))?
(e(z["$[]"](1))&&(H=["revnumber",z["$[]"](1).$rstrip()],l(B,"[]=",a.to_a(H)),H[c(H.length,1)]),e((A=z["$[]"](2).$strip())["$empty?"]())||(H=e(e(n=z["$[]"](1)["$!"]())?A["$start_with?"]("v"):n)?["revnumber",A["$[]"](x(1,-1,!1))]:["revdate",A],l(B,"[]=",a.to_a(H)),H[c(H.length,1)]),e(z["$[]"](3))&&(H=["revremark",z["$[]"](3).$rstrip()],l(B,"[]=",a.to_a(H)),H[c(H.length,1)])):h.$unshift_line(A)),e(B["$empty?"]())||(e(m)&&l(B,"each",[],(D=function(d,f){null==d&&(d=b);null==f&&(f=b);if(e(m.$attributes()["$key?"](d)))return b;
H=[d,m.$apply_header_subs(f)];l(m.$attributes(),"[]=",a.to_a(H));return H[c(H.length,1)]},D.$$s=this,D.$$arity=2,D)),v.$update(B)),this.$process_attribute_entries(h,m),h.$skip_blank_lines()):y=q([],{});if(e(m)){if(e(e(n=m.$attributes()["$key?"]("author"))?(J=m.$attributes()["$[]"]("author"))["$!="](r):n))y=this.$process_authors(J,!0,!1);else if(e(e(n=m.$attributes()["$key?"]("authors"))?(J=m.$attributes()["$[]"]("authors"))["$!="](C):n))y=this.$process_authors(J,!0);else{n=[[],1,"author_1",!1,!1];
E=n[0];r=n[1];C=n[2];B=n[3];z=n[4];for(n;e(m.$attributes()["$key?"](C));)(A=m.$attributes()["$[]"](C))["$=="](y["$[]"](C))?(E["$<<"](b),z=!0):(E["$<<"](A),B=!0),C="author_"+(r=t(r,1));e(B)?(e(z)&&l(E,"each_with_index",[],(w=function(d,f){var h=w.$$s||this,m,n=b;null==d&&(d=b);null==f&&(f=b);if(e(d))return b;H=[f,k(l([y["$[]"]("firstname_"+(n=t(f,1))),y["$[]"]("middlename_"+n),y["$[]"]("lastname_"+n)].$compact(),"map",[],(m=function(a){null==a&&(a=b);return a.$tr(" ","_")},m.$$s=h,m.$$arity=1,m)),
" ")];l(E,"[]=",a.to_a(H));return H[c(H.length,1)]},w.$$s=this,w.$$arity=2,w)),y=this.$process_authors(E,!0,!1)):y=q([],{})}e(y["$empty?"]())?e(n=v["$[]"]("authorcount"))?n:(H=["authorcount",(H=["authorcount",0],l(m.$attributes(),"[]=",a.to_a(H)),H[c(H.length,1)])],l(v,"[]=",a.to_a(H)),H[c(H.length,1)]):(m.$attributes().$update(y),e(e(n=m.$attributes()["$key?"]("email")["$!"]())?m.$attributes()["$key?"]("email_1"):n)&&(H=["email",m.$attributes()["$[]"]("email_1")],l(m.$attributes(),"[]=",a.to_a(H)),
H[c(H.length,1)]))}return v},va.$$arity=-2);a.defs(h,"$process_authors",ya=function(d,h,m){var k,n,p=this,D=b,w=b,v=b,r=b,r=b;null==h&&(h=!1);null==m&&(m=!0);D=q([],{});w=0;v="author authorinitials firstname middlename lastname email".split(" ");r=function(){return e(m)?l(d.$split(";"),"map",[],(k=function(a){null==a&&(a=b);return a.$strip()},k.$$s=p,k.$$arity=1,k)):p.$Array(d)}();l(r,"each",[],(n=function(d){var m=n.$$s||this,k,p,r,C,x=b,y=b,B=b,A=b,z=b,F=b,G=b,H=b;null==d&&(d=b);if(e(d["$empty?"]()))return b;
w=t(w,1);x=q([],{});w["$=="](1)?l(v,"each",[],(k=function(d){var e=b;null==d&&(d=b);e=[d.$to_sym(),d];l(x,"[]=",a.to_a(e));return e[c(e.length,1)]},k.$$s=m,k.$$arity=1,k)):l(v,"each",[],(p=function(d){var e=b;null==d&&(d=b);e=[d.$to_sym(),""+d+"_"+w];l(x,"[]=",a.to_a(e));return e[c(e.length,1)]},p.$$s=m,p.$$arity=1,p));if(e(h)){if(e(d["$include?"]("<"))&&(y=[x["$[]"]("author"),d.$tr("_"," ")],l(D,"[]=",a.to_a(y)),y[c(y.length,1)],d=d.$gsub(f(u,"XmlSanitizeRx"),"")),(B=d.$split(b,3)).$size()["$=="](3))B["$<<"](B.$pop().$squeeze(" "))}else e(A=
f(u,"AuthorInfoLineRx").$match(d))&&(B=A.$to_a()).$shift();e(B)?(z=(y=[x["$[]"]("firstname"),F=B["$[]"](0).$tr("_"," ")],l(D,"[]=",a.to_a(y)),y[c(y.length,1)]),y=[x["$[]"]("authorinitials"),F.$chr()],l(D,"[]=",a.to_a(y)),y[c(y.length,1)],e(B["$[]"](1))&&(e(B["$[]"](2))?(y=[x["$[]"]("middlename"),G=B["$[]"](1).$tr("_"," ")],l(D,"[]=",a.to_a(y)),y[c(y.length,1)],y=[x["$[]"]("lastname"),H=B["$[]"](2).$tr("_"," ")],l(D,"[]=",a.to_a(y)),y[c(y.length,1)],z=t(t(t(t(F," "),G)," "),H),y=[x["$[]"]("authorinitials"),
""+F.$chr()+G.$chr()+H.$chr()]):(y=[x["$[]"]("lastname"),H=B["$[]"](1).$tr("_"," ")],l(D,"[]=",a.to_a(y)),y[c(y.length,1)],z=t(t(F," "),H),y=[x["$[]"]("authorinitials"),""+F.$chr()+H.$chr()]),l(D,"[]=",a.to_a(y)),y[c(y.length,1)]),e(r=D["$[]"](x["$[]"]("author")))?r:(y=[x["$[]"]("author"),z],l(D,"[]=",a.to_a(y)),y[c(y.length,1)]),e(e(r=h)?r:B["$[]"](3)["$!"]())||(y=[x["$[]"]("email"),B["$[]"](3)],l(D,"[]=",a.to_a(y)),y[c(y.length,1)])):(y=[x["$[]"]("author"),(y=[x["$[]"]("firstname"),F=d.$squeeze(" ").$strip()],
l(D,"[]=",a.to_a(y)),y[c(y.length,1)])],l(D,"[]=",a.to_a(y)),y[c(y.length,1)],y=[x["$[]"]("authorinitials"),F.$chr()],l(D,"[]=",a.to_a(y)),y[c(y.length,1)]);w["$=="](1)?y=["authors",D["$[]"](x["$[]"]("author"))]:(w["$=="](2)&&l(v,"each",[],(C=function(d){null==d&&(d=b);return e(D["$key?"](d))?(y=[""+d+"_1",D["$[]"](d)],l(D,"[]=",a.to_a(y)),y[c(y.length,1)]):b},C.$$s=m,C.$$arity=1,C)),y=["authors",""+D["$[]"]("authors")+", "+D["$[]"](x["$[]"]("author"))]);l(D,"[]=",a.to_a(y));return y[c(y.length,1)]},
n.$$s=p,n.$$arity=1,n));r=["authorcount",w];l(D,"[]=",a.to_a(r));r[c(r.length,1)];return D},ya.$$arity=-2);a.defs(h,"$parse_block_metadata_lines",Aa=function(a,c,b,d){var g;null==b&&(b=q([],{}));for(null==d&&(d=q([],{}));e(this.$parse_block_metadata_line(a,c,b,d));)if(a.$shift(),e(g=a.$skip_blank_lines()))g;else break;return b},Aa.$$arity=-3);a.defs(h,"$parse_block_metadata_line",Ea=function(d,h,m,t){var p,D,w=b,v=b,r=b,r=r=r=b;null==n["~"]&&(n["~"]=b);null==t&&(t=q([],{}));if(e(e(p=w=d.$peek_line())?
e(t["$[]"]("text"))?w["$start_with?"]("[","/"):v=w["$start_with?"]("[",".","/",":"):p))if(e(w["$start_with?"]("[")))if(e(w["$start_with?"]("[["))){if(e(e(p=w["$end_with?"]("]]"))?f(u,"BlockAnchorRx")["$=~"](w):p))return r=["id",(p=n["~"])===b?b:p["$[]"](1)],l(m,"[]=",a.to_a(r)),r[c(r.length,1)],e(r=(p=n["~"])===b?b:p["$[]"](2))&&(r=["reftext",e(r["$include?"](f(u,"ATTR_REF_HEAD")))?h.$sub_attributes(r):r],l(m,"[]=",a.to_a(r)),r[c(r.length,1)]),!0}else{if(e(e(p=w["$end_with?"]("]"))?f(u,"BlockAttributeListRx")["$=~"](w):
p))return r=m["$[]"](1),e(h.$parse_attributes((p=n["~"])===b?b:p["$[]"](1),[],q(["sub_input","into"],{sub_input:!0,into:m}))["$[]"](1))&&(r=[1,e(p=this.$parse_style_attribute(m,d))?p:r],l(m,"[]=",a.to_a(r)),r[c(r.length,1)]),!0}else if(e(e(p=v)?w["$start_with?"]("."):p)){if(e(f(u,"BlockTitleRx")["$=~"](w)))return r=["title",(p=n["~"])===b?b:p["$[]"](1)],l(m,"[]=",a.to_a(r)),r[c(r.length,1)],!0}else if(e(e(p=v["$!"]())?p:w["$start_with?"]("/"))){if(e(w["$start_with?"]("//"))){if(w["$=="]("//"))return!0;
if(e(e(p=v)?k("/",r=w.$length())["$=="](w):p)){if(r["$=="](3))return b;d.$read_lines_until(q(["terminator","skip_first_line","preserve_last_line","skip_processing","context"],{terminator:w,skip_first_line:!0,preserve_last_line:!0,skip_processing:!0,context:"comment"}));return!0}return e(w["$start_with?"]("///"))?b:!0}}else if(e(e(p=e(D=v)?w["$start_with?"](":"):D)?f(u,"AttributeEntryRx")["$=~"](w):p))return this.$process_attribute_entry(d,h,m,n["~"]),!0;return b},Ea.$$arity=-4);a.defs(h,"$process_attribute_entries",
Ba=function(a,c,d){null==d&&(d=b);for(a.$skip_comment_lines();e(this.$process_attribute_entry(a,c,d));)a.$shift(),a.$skip_comment_lines()},Ba.$$arity=-3);a.defs(h,"$process_attribute_entry",Ca=function(a,d,h,m){var k,l,n=b,q=b,t=b,p=b;null==h&&(h=b);null==m&&(m=b);if(e(m=e(k=m)?k:e(a["$has_more_lines?"]())?f(u,"AttributeEntryRx").$match(a.$peek_line()):b)){if(e((n=m["$[]"](2))["$nil_or_empty?"]()))n="";else if(e(n["$end_with?"](f(u,"LINE_CONTINUATION"),f(u,"LINE_CONTINUATION_LEGACY"))))for(k=[n.$slice(-2,
2),n.$slice(0,c(n.$length(),2)).$rstrip()],q=k[0],n=k[1],k;e(e(l=a.$advance())?(t=a.$peek_line().$lstrip())["$empty?"]()["$!"]():l)&&(e(p=t["$end_with?"](q))&&(t=t.$slice(0,c(t.$length(),2)).$rstrip()),n=""+n+(e(n["$end_with?"](f(u,"HARD_LINE_BREAK")))?f(u,"LF"):" ")+t,e(p)););this.$store_attribute(m["$[]"](1),n,d,h);return!0}return b},Ca.$$arity=-3);a.defs(h,"$store_attribute",Da=function(a,h,m,k){var l,n=b;null==m&&(m=b);null==k&&(k=b);e(a["$end_with?"]("!"))?(l=[a.$chop(),b],a=l[0],h=l[1],l):e(a["$start_with?"]("!"))&&
(l=[a.$slice(1,a.$length()),b],a=l[0],h=l[1],l);a=this.$sanitize_attribute_name(a);a["$=="]("numbered")&&(a="sectnums");e(m)?e(h)?(a["$=="]("leveloffset")&&(e(h["$start_with?"]("+"))?h=t(m.$attr("leveloffset",0).$to_i(),(e(l=h["$[]"](x(1,-1,!1)))?l:0).$to_i()).$to_s():e(h["$start_with?"]("-"))&&(h=c(m.$attr("leveloffset",0).$to_i(),(e(l=h["$[]"](x(1,-1,!1)))?l:0).$to_i()).$to_s())),e(n=m.$set_attribute(a,h))&&(h=n,e(k)&&d(f(u,"Document"),"AttributeEntry").$new(a,h).$save_to(k))):e(e(l=m.$delete_attribute(a))?
k:l)&&d(f(u,"Document"),"AttributeEntry").$new(a,h).$save_to(k):e(k)&&d(f(u,"Document"),"AttributeEntry").$new(a,h).$save_to(k);return[a,h]},Da.$$arity=-3);a.defs(h,"$resolve_list_marker",Ha=function(a,c,d,e,g){null==d&&(d=0);null==e&&(e=!1);null==g&&(g=b);return a["$=="]("ulist")?c:a["$=="]("olist")?this.$resolve_ordered_list_marker(c,d,e,g):"<1>"},Ha.$$arity=-3);a.defs(h,"$resolve_ordered_list_marker",Ia=function(a,c,d,g){var h,m,k=b,n=b,p=b;null==c&&(c=0);null==d&&(d=!1);null==g&&(g=b);if(e(a["$start_with?"](".")))return a;
k=n=b;p=l(f(u,"ORDERED_LIST_STYLES"),"find",[],(h=function(c){null==c&&(c=b);return f(u,"OrderedListMarkerRxMap")["$[]"](c)["$match?"](a)},h.$$s=this,h.$$arity=1,h));"arabic"["$==="](p)?(e(d)&&(k=t(c,1),n=a.$to_i()),a="1."):"loweralpha"["$==="](p)?(e(d)&&(k=t("a"["$[]"](0).$ord(),c).$chr(),n=a.$chop()),a="a."):"upperalpha"["$==="](p)?(e(d)&&(k=t("A"["$[]"](0).$ord(),c).$chr(),n=a.$chop()),a="A."):"lowerroman"["$==="](p)?(e(d)&&(k=f(u,"Helpers").$int_to_roman(t(c,1)).$downcase(),n=a.$chop()),a="i)"):
"upperroman"["$==="](p)&&(e(d)&&(k=f(u,"Helpers").$int_to_roman(t(c,1)),n=a.$chop()),a="I)");e(e(m=d)?k["$!="](n):m)&&this.$logger().$warn(this.$message_with_context("list item index: expected "+k+", got "+n,q(["source_location"],{source_location:g.$cursor()})));return a},Ia.$$arity=-2);a.defs(h,"$is_sibling_list_item?",M=function(a,c,g){var h,m=b,k=b;e(d("::","Regexp")["$==="](g))?m=g:(m=f(u,"ListRxMap")["$[]"](c),k=g);return e(m["$=~"](a))?e(k)?k["$=="](this.$resolve_list_marker(c,(h=n["~"])===
b?b:h["$[]"](1))):!0:!1},M.$$arity=3);a.defs(h,"$next_table",Ka=function(h,m,k){var n,q,D,w=b,r=b,v=b,y=b,x=b,C=b,A=b,F=b,z=b,H=b,J=b,E=x=b,L=b,M=x=E=b,T=M=b,w=f(u,"Table").$new(m,k);e(k["$key?"]("title"))&&(r=[k.$delete("title")],l(w,"title=",a.to_a(r)),r[c(r.length,1)],w.$assign_caption(k.$delete("caption")));e(e(n=k["$key?"]("cols"))?(v=this.$parse_colspecs(k["$[]"]("cols")))["$empty?"]()["$!"]():n)&&(w.$create_columns(v),y=!0);x=e(n=h.$skip_blank_lines())?n:0;C=d(f(u,"Table"),"ParserContext").$new(h,
w,k);n=[C.$format(),-1,b];A=n[0];F=n[1];z=n[2];n;e(e(n=e(q=p(x,0))?q:k["$key?"]("header-option"))?n:k["$key?"]("noheader-option"))||(H=!0);for(n=!1;n||e(J=h.$read_line());){n=!1;e(e(q=x=p(F=t(F,1),0))?J["$empty?"]():q)?(J=b,e(z)&&(z=t(z,1))):A["$=="]("psv")&&(e(C["$starts_with_delimiter?"](J))?(J=J.$slice(1,J.$length()),C.$close_open_cell(),e(z)&&(z=b)):(D=this.$parse_cellspec(J,"start",C.$delimiter()),q=a.to_ary(D),E=null==q[0]?b:q[0],J=null==q[1]?b:q[1],D,e(E)?(C.$close_open_cell(E),e(z)&&(z=b)):
e(e(q=z)?z["$=="](F):q)&&(q=[!1,b],H=q[0],z=q[1],q)));e(x)||(h.$mark(),e(H)&&(e(e(q=h["$has_more_lines?"]())?h.$peek_line()["$empty?"]():q)?z=1:H=!1));for(q=!1;q||e(!0);)if(q=!1,e(e(D=J)?L=C.$match_delimiter(J):D)){D=[L.$pre_match(),L.$post_match()];E=D[0];x=D[1];D;M=A;if("csv"["$==="](M)){if(e(C["$buffer_has_unclosed_quotes?"](E))){C.$skip_past_delimiter(E);if(e((J=x)["$empty?"]()))break;q=!0;continue}r=[""+C.$buffer()+E]}else if("dsv"["$==="](M)){if(e(E["$end_with?"]("\\"))){C.$skip_past_escaped_delimiter(E);
if(e((J=x)["$empty?"]())){r=[""+C.$buffer()+f(u,"LF")];l(C,"buffer=",a.to_a(r));r[c(r.length,1)];C.$keep_cell_open();break}q=!0;continue}r=[""+C.$buffer()+E]}else{if(e(E["$end_with?"]("\\"))){C.$skip_past_escaped_delimiter(E);if(e((J=x)["$empty?"]())){r=[""+C.$buffer()+f(u,"LF")];l(C,"buffer=",a.to_a(r));r[c(r.length,1)];C.$keep_cell_open();break}q=!0;continue}m=this.$parse_cellspec(E);D=a.to_ary(m);E=null==D[0]?b:D[0];M=null==D[1]?b:D[1];m;C.$push_cellspec(E);r=[""+C.$buffer()+M]}l(C,"buffer=",a.to_a(r));
r[c(r.length,1)];e((J=x)["$empty?"]())&&(J=b);C.$close_cell()}else{r=[""+C.$buffer()+J+f(u,"LF")];l(C,"buffer=",a.to_a(r));r[c(r.length,1)];M=A;"csv"["$==="](M)?e(C["$buffer_has_unclosed_quotes?"]())?(e(e(D=z)?F["$=="](0):D)&&(D=[!1,b],H=D[0],z=D[1],D),C.$keep_cell_open()):C.$close_cell(!0):"dsv"["$==="](M)?C.$close_cell(!0):C.$keep_cell_open();break}if(e(C["$cell_open?"]()))e(h["$has_more_lines?"]())||C.$close_cell(!0);else if(e(q=h.$skip_blank_lines()))q;else break}e(e(n=(T=w.$attributes(),e(q=
T["$[]"]("colcount"))?q:(r=["colcount",w.$columns().$size()],l(T,"[]=",a.to_a(r)),r[c(r.length,1)]))["$=="](0))?n:y)||w.$assign_column_widths();e(H)&&(r=[!0],l(w,"has_header_option=",a.to_a(r)),r[c(r.length,1)],r=["header-option",""],l(k,"[]=",a.to_a(r)),r[c(r.length,1)],r=["options",e(k["$key?"]("options"))?""+k["$[]"]("options")+",header":"header"],l(k,"[]=",a.to_a(r)),r[c(r.length,1)]);w.$partition_header_footer(k);return w},Ka.$$arity=3);a.defs(h,"$parse_colspecs",oa=function(h){var m,k,n=b;e(h["$include?"](" "))&&
(h=h.$delete(" "));if(h["$=="](h.$to_i().$to_s()))return l(d("::","Array"),"new",[h.$to_i()],(m=function(){return q(["width"],{width:1})},m.$$s=this,m.$$arity=0,m));n=[];l(h.$split(",",-1),"each",[],(k=function(d){var h=k.$$s||this,m,t,p=b,D=b,w=b,r=b,v=w=b;null==d&&(d=b);return e(d["$empty?"]())?n["$<<"](q(["width"],{width:1})):e(p=f(u,"ColumnSpecRx").$match(d))?(D=q([],{}),e(p["$[]"](2))&&(d=p["$[]"](2).$split("."),m=a.to_ary(d),w=null==m[0]?b:m[0],r=null==m[1]?b:m[1],d,e(e(m=w["$nil_or_empty?"]()["$!"]())?
f(u,"TableCellHorzAlignments")["$key?"](w):m)&&(w=["halign",f(u,"TableCellHorzAlignments")["$[]"](w)],l(D,"[]=",a.to_a(w)),w[c(w.length,1)]),e(e(m=r["$nil_or_empty?"]()["$!"]())?f(u,"TableCellVertAlignments")["$key?"](r):m)&&(w=["valign",f(u,"TableCellVertAlignments")["$[]"](r)],l(D,"[]=",a.to_a(w)),w[c(w.length,1)])),w=e(v=p["$[]"](3))?["width",v["$=="]("~")?-1:v.$to_i()]:["width",1],l(D,"[]=",a.to_a(w)),w[c(w.length,1)],e(e(m=p["$[]"](4))?f(u,"TableCellStyles")["$key?"](p["$[]"](4)):m)&&(w=["style",
f(u,"TableCellStyles")["$[]"](p["$[]"](4))],l(D,"[]=",a.to_a(w)),w[c(w.length,1)]),e(p["$[]"](1))?l(1,"upto",[p["$[]"](1).$to_i()],(t=function(){return n["$<<"](D.$dup())},t.$$s=h,t.$$arity=0,t)):n["$<<"](D)):b},k.$$s=this,k.$$arity=1,k));return n},oa.$$arity=1);a.defs(h,"$parse_cellspec",Fa=function(d,h,m){var k,n=b,t=b,p=n=b,D=b,w=b,D=b;null==h&&(h="end");null==m&&(m=b);k=[b,""];k;if(h["$=="]("start"))if(e(d["$include?"](m)))if(h=d.$split(m,2),k=a.to_ary(h),n=null==k[0]?b:k[0],t=null==k[1]?b:k[1],
h,e(n=f(u,"CellSpecStartRx").$match(n))){if(e(n["$[]"](0)["$empty?"]()))return[q([],{}),t]}else return[b,d];else return[b,d];else if(e(n=f(u,"CellSpecEndRx").$match(d))){if(e(n["$[]"](0).$lstrip()["$empty?"]()))return[q([],{}),d.$rstrip()];t=n.$pre_match()}else return[q([],{}),d];p=q([],{});e(n["$[]"](1))&&(h=n["$[]"](1).$split("."),k=a.to_ary(h),D=null==k[0]?b:k[0],w=null==k[1]?b:k[1],h,D=e(D["$nil_or_empty?"]())?1:D.$to_i(),w=e(w["$nil_or_empty?"]())?1:w.$to_i(),n["$[]"](2)["$=="]("+")?(D["$=="](1)||
(D=["colspan",D],l(p,"[]=",a.to_a(D)),D[c(D.length,1)]),w["$=="](1)||(D=["rowspan",w],l(p,"[]=",a.to_a(D)),D[c(D.length,1)])):n["$[]"](2)["$=="]("*")&&!D["$=="](1)&&(D=["repeatcol",D],l(p,"[]=",a.to_a(D)),D[c(D.length,1)]));e(n["$[]"](3))&&(h=n["$[]"](3).$split("."),k=a.to_ary(h),D=null==k[0]?b:k[0],w=null==k[1]?b:k[1],h,e(e(k=D["$nil_or_empty?"]()["$!"]())?f(u,"TableCellHorzAlignments")["$key?"](D):k)&&(D=["halign",f(u,"TableCellHorzAlignments")["$[]"](D)],l(p,"[]=",a.to_a(D)),D[c(D.length,1)]),
e(e(k=w["$nil_or_empty?"]()["$!"]())?f(u,"TableCellVertAlignments")["$key?"](w):k)&&(D=["valign",f(u,"TableCellVertAlignments")["$[]"](w)],l(p,"[]=",a.to_a(D)),D[c(D.length,1)]));e(e(k=n["$[]"](4))?f(u,"TableCellStyles")["$key?"](n["$[]"](4)):k)&&(D=["style",f(u,"TableCellStyles")["$[]"](n["$[]"](4))],l(p,"[]=",a.to_a(D)),D[c(D.length,1)]);return[p,t]},Fa.$$arity=-2);a.defs(h,"$parse_style_attribute",Ja=function(d,h){var m,k,n,t,p,D=b,w=b,r=b,v=b,C=b,x=b,y=b,B=b,A=b,z=b;null==h&&(h=b);if(e(e(m=e(k=
D=d["$[]"](1))?D["$include?"](" ")["$!"]():k)?f(u,"Compliance").$shorthand_property_syntax():m)){m=["style",[],q([],{})];w=m[0];r=m[1];v=m[2];m;C=l(this,"lambda",[],(n=function(){var d=n.$$s||this,f,m=b,k=b;if(e(r["$empty?"]()))return w["$=="]("style")?b:e(h)?d.$logger().$warn(d.$message_with_context("invalid empty "+w+" detected in style attribute",q(["source_location"],{source_location:h.$cursor_at_prev_line()}))):d.$logger().$warn("invalid empty "+w+" detected in style attribute");m=w;if("role"["$==="](m)||
"option"["$==="](m))(e(f=v["$[]"](w))?f:(k=[w,[]],l(v,"[]=",a.to_a(k)),k[c(k.length,1)]))["$<<"](r.$join());else"id"["$==="](m)&&e(v["$key?"]("id"))&&(e(h)?d.$logger().$warn(d.$message_with_context("multiple ids detected in style attribute",q(["source_location"],{source_location:h.$cursor_at_prev_line()}))):d.$logger().$warn("multiple ids detected in style attribute")),k=[w,r.$join()],l(v,"[]=",a.to_a(k)),k[c(k.length,1)];return r=[]},n.$$s=this,n.$$arity=0,n));l(D,"each_char",[],(t=function(a){var c,
d,g=b;null==a&&(a=b);return e(e(c=e(d=a["$=="]("."))?d:a["$=="]("#"))?c:a["$=="]("%"))?(C.$call(),g=a,"."["$==="](g)?w="role":"#"["$==="](g)?w="id":"%"["$==="](g)?w="option":b):r["$<<"](a)},t.$$s=this,t.$$arity=1,t));if(w["$=="]("style"))return x=["style",D],l(d,"[]=",a.to_a(x)),x[c(x.length,1)];C.$call();e(v["$key?"]("style"))&&(y=(x=["style",v["$[]"]("style")],l(d,"[]=",a.to_a(x)),x[c(x.length,1)]));e(v["$key?"]("id"))&&(x=["id",v["$[]"]("id")],l(d,"[]=",a.to_a(x)),x[c(x.length,1)]);e(v["$key?"]("role"))&&
(x=["role",e((B=d["$[]"]("role"))["$nil_or_empty?"]())?v["$[]"]("role").$join(" "):""+B+" "+v["$[]"]("role").$join(" ")],l(d,"[]=",a.to_a(x)),x[c(x.length,1)]);e(v["$key?"]("option"))&&(l(A=v["$[]"]("option"),"each",[],(p=function(e){null==e&&(e=b);x=[""+e+"-option",""];l(d,"[]=",a.to_a(x));return x[c(x.length,1)]},p.$$s=this,p.$$arity=1,p)),x=["options",e((z=d["$[]"]("options"))["$nil_or_empty?"]())?A.$join(","):""+z+","+A.$join(",")],l(d,"[]=",a.to_a(x)),x[c(x.length,1)]);return y}x=["style",D];
l(d,"[]=",a.to_a(x));return x[c(x.length,1)]},Ja.$$arity=-2);a.defs(h,"$adjust_indentation!",Ga=function(d,h,m){var q,D,w,r,v,x,C=this,y=b,A=b,z=b;null==h&&(h=0);null==m&&(m=0);if(e(d["$empty?"]()))return b;e(e(q=p(m=m.$to_i(),0))?d.$join()["$include?"](f(u,"TAB")):q)&&(y=k(" ",m),l(d,"map!",[],(D=function(a){var d=D.$$s||this,h,q,p=b;null==a&&(a=b);if(e(a["$empty?"]()))return a;e(a["$start_with?"](f(u,"TAB")))&&(a=l(a,"sub",[f(u,"TabIndentRx")],(h=function(){var a;return k(y,((a=n["~"])===b?b:a["$[]"](0)).$length())},
h.$$s=d,h.$$arity=0,h)));return e(a["$include?"](f(u,"TAB")))?(p=0,a=l(a,"gsub",[f(u,"TabRx")],(q=function(){var a=b,d=b;null==n["~"]&&(n["~"]=b);if((a=t(n["~"].$begin(0),p))["$%"](m)["$=="](0))return p=t(p,c(m,1)),y;(d=c(m,a["$%"](m)))["$=="](1)||(p=t(p,c(d,1)));return k(" ",d)},q.$$s=d,q.$$arity=0,q))):a},D.$$s=C,D.$$arity=1,D)));if(!e(e(q=h)?p(h=h.$to_i(),-1):q))return b;A=b;(function(){var f=a.new_brk();try{return l(d,"each",[],(w=function(d){var h,m=b;null==d&&(d=b);if(e(d["$empty?"]()))return b;
if((m=c(d.$length(),d.$lstrip().$length()))["$=="](0))A=b,a.brk(b,f);else return e(e(h=A)?p(m,A):h)?b:A=m},w.$$s=C,w.$$brk=f,w.$$arity=1,w))}catch(h){if(h===f)return h.$v;throw h;}})();h["$=="](0)?e(A)&&l(d,"map!",[],(r=function(c){null==c&&(c=b);return e(c["$empty?"]())?c:c["$[]"](a.Range.$new(A,-1,!1))},r.$$s=C,r.$$arity=1,r)):(z=k(" ",h),e(A)?l(d,"map!",[],(v=function(c){null==c&&(c=b);return e(c["$empty?"]())?c:t(z,c["$[]"](a.Range.$new(A,-1,!1)))},v.$$s=C,v.$$arity=1,v)):l(d,"map!",[],(x=function(a){null==
a&&(a=b);return e(a["$empty?"]())?a:t(z,a)},x.$$s=C,x.$$arity=1,x)));return b},Ga.$$arity=-2);return(a.defs(h,"$sanitize_attribute_name",D=function(a){return a.$gsub(f(u,"InvalidAttributeNameCharsRx"),"").$downcase()},D.$$arity=1),b)&&"sanitize_attribute_name"})(u[0],null,u)}(h[0],h)};Opal.modules["asciidoctor/path_resolver"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function k(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}var t=
[],p=a.nil,r=a.const_get_qualified,h=a.const_get_relative,b=a.module,d=a.klass,f=a.truthy,m=a.hash2,v=a.send;a.add_stubs("$include $attr_accessor $root? $posixify $expand_path $pwd $start_with? $== $match? $absolute_path? $+ $length $descends_from? $slice $include? $tr $partition_path $each $pop $<< $join_path $[] $web_root? $unc? $index $split $delete $[]= $- $* $raise $! $fetch $warn $logger $empty? $nil_or_empty? $chomp $!= $> $size $end_with? $uri_prefix $gsub".split(" "));return function(l,e){var q=
[b(l,"Asciidoctor")].concat(e);(function(b,$super,e){function l(){}b=l=d(b,$super,"PathResolver",l);var q=b.$$proto,t=[b].concat(e),x,u,A,z,w,E,Q,ea,N,O,X,R,P;q.file_separator=q._partition_path_web=q._partition_path_sys=q.working_dir=p;b.$include(h(t,"Logging"));a.const_set(t[0],"DOT",".");a.const_set(t[0],"DOT_DOT","..");a.const_set(t[0],"DOT_SLASH","./");a.const_set(t[0],"SLASH","/");a.const_set(t[0],"BACKSLASH","\\");a.const_set(t[0],"DOUBLE_SLASH","//");a.const_set(t[0],"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/);
b.$attr_accessor("file_separator");b.$attr_accessor("working_dir");a.def(b,"$initialize",x=function(a,c){var b,d;null==a&&(a=p);null==c&&(c=p);this.file_separator=f(b=f(d=a)?d:r(r("::","File"),"ALT_SEPARATOR"))?b:r(r("::","File"),"SEPARATOR");this.working_dir=f(c)?f(this["$root?"](c))?this.$posixify(c):r("::","File").$expand_path(c):r("::","Dir").$pwd();this._partition_path_sys=m([],{});return this._partition_path_web=m([],{})},x.$$arity=-1);a.def(b,"$absolute_path?",u=function(a){var c;return f(c=
a["$start_with?"](h(t,"SLASH")))?c:this.file_separator["$=="](h(t,"BACKSLASH"))?h(t,"WindowsRootRx")["$match?"](a):this.file_separator["$=="](h(t,"BACKSLASH"))},u.$$arity=1);f(h(t,"RUBY_ENGINE")["$=="]("opal")?r("::","JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest"):h(t,"RUBY_ENGINE")["$=="]("opal"))?a.def(b,"$root?",A=function(a){var c;return f(c=this["$absolute_path?"](a))?c:a["$start_with?"]("file://","http://","https://")},A.$$arity=1):a.alias(b,"root?","absolute_path?");a.def(b,"$unc?",z=function(a){return a["$start_with?"](h(t,
"DOUBLE_SLASH"))},z.$$arity=1);a.def(b,"$web_root?",w=function(a){return a["$start_with?"](h(t,"SLASH"))},w.$$arity=1);a.def(b,"$descends_from?",E=function(a,b){var d;return b["$=="](a)?0:b["$=="](h(t,"SLASH"))?f(d=a["$start_with?"](h(t,"SLASH")))?1:d:f(d=a["$start_with?"](c(b,h(t,"SLASH"))))?c(b.$length(),1):d},E.$$arity=2);a.def(b,"$relative_path",Q=function(a,c){var b,d=p;return f(f(b=this["$root?"](a))?d=this["$descends_from?"](a,c):b)?a.$slice(d,a.$length()):a},Q.$$arity=2);a.def(b,"$posixify",
ea=function(a){return f(a)?f(this.file_separator["$=="](h(t,"BACKSLASH"))?a["$include?"](h(t,"BACKSLASH")):this.file_separator["$=="](h(t,"BACKSLASH")))?a.$tr(h(t,"BACKSLASH"),h(t,"SLASH")):a:""},ea.$$arity=1);a.alias(b,"posixfy","posixify");a.def(b,"$expand_path",N=function(c){var b,d,e,g=p,m=b=p;d=this.$partition_path(c);b=a.to_ary(d);g=null==b[0]?p:b[0];b=null==b[1]?p:b[1];d;return f(c["$include?"](h(t,"DOT_DOT")))?(m=[],v(g,"each",[],(e=function(a){null==a&&(a=p);return a["$=="](h(t,"DOT_DOT"))?
m.$pop():m["$<<"](a)},e.$$s=this,e.$$arity=1,e)),this.$join_path(m,b)):this.$join_path(g,b)},N.$$arity=1);a.def(b,"$partition_path",O=function(b,d){var e=p,m=p,k=e=p,e=e=p;null==d&&(d=p);if(f(e=(m=f(d)?this._partition_path_web:this._partition_path_sys)["$[]"](b)))return e;e=this.$posixify(b);f(d)?f(this["$web_root?"](e))?k=h(t,"SLASH"):f(e["$start_with?"](h(t,"DOT_SLASH")))&&(k=h(t,"DOT_SLASH")):f(this["$root?"](e))?k=f(this["$unc?"](e))?h(t,"DOUBLE_SLASH"):f(e["$start_with?"](h(t,"SLASH")))?h(t,
"SLASH"):e.$slice(0,c(e.$index(h(t,"SLASH")),1)):f(e["$start_with?"](h(t,"DOT_SLASH")))&&(k=h(t,"DOT_SLASH"));e=(f(k)?e.$slice(k.$length(),e.$length()):e).$split(h(t,"SLASH"));e.$delete(h(t,"DOT"));e=[b,[e,k]];v(m,"[]=",a.to_a(e));m=e;k=e.length;k="number"===typeof k?k-1:k["$-"](1);return m[k]},O.$$arity=-2);a.def(b,"$join_path",X=function(a,c){null==c&&(c=p);return f(c)?""+c+k(a,h(t,"SLASH")):k(a,h(t,"SLASH"))},X.$$arity=-2);a.def(b,"$system_path",R=function(b,d,e,k){var l,n,q,w,x=p,u=p,C=p,A=p,
z=x=p,F=p,J=p,E=z=p;null==d&&(d=p);null==e&&(e=p);null==k&&(k=m([],{}));f(e)&&(f(this["$root?"](e))||this.$raise(r("::","SecurityError"),"Jail is not an absolute path: "+e),e=this.$posixify(e));if(f(b)){if(f(this["$root?"](b))){x=this.$expand_path(b);if(f(f(l=e)?this["$descends_from?"](x,e)["$!"]():l)){if(f(k.$fetch("recover",!0)))return this.$logger().$warn(""+(f(l=k["$[]"]("target_name"))?l:"path")+" is outside of jail; recovering automatically"),n=this.$partition_path(x),l=a.to_ary(n),u=null==
l[0]?p:l[0],n,n=this.$partition_path(e),l=a.to_ary(n),C=null==l[0]?p:l[0],A=null==l[1]?p:l[1],n,this.$join_path(c(C,u),A);this.$raise(r("::","SecurityError"),""+(f(l=k["$[]"]("target_name"))?l:"path")+" "+b+" is outside of jail: "+e+" (disallowed in safe mode)")}return x}n=this.$partition_path(b);l=a.to_ary(n);u=null==l[0]?p:l[0];n}else u=[];if(f(u["$empty?"]())){if(f(d["$nil_or_empty?"]()))return f(l=e)?l:this.working_dir;if(f(this["$root?"](d)))if(f(e))d=this.$posixify(d);else return this.$expand_path(d);
else n=this.$partition_path(d),l=a.to_ary(n),u=null==l[0]?p:l[0],n,d=f(l=e)?l:this.working_dir}else f(d["$nil_or_empty?"]())?d=f(l=e)?l:this.working_dir:f(this["$root?"](d))?f(e)&&(d=this.$posixify(d)):d=""+(f(l=e)?l:this.working_dir).$chomp("/")+"/"+d;f(f(l=f(n=e)?x=this["$descends_from?"](d,e)["$!"]():n)?this.file_separator["$=="](h(t,"BACKSLASH")):l)?(n=this.$partition_path(d),l=a.to_ary(n),z=null==l[0]?p:l[0],F=null==l[1]?p:l[1],n,n=this.$partition_path(e),l=a.to_ary(n),C=null==l[0]?p:l[0],A=
null==l[1]?p:l[1],n,f(F["$!="](A))&&(f(k.$fetch("recover",!0))?(this.$logger().$warn("start path for "+(f(l=k["$[]"]("target_name"))?l:"path")+" is outside of jail root; recovering automatically"),z=C,x=!1):this.$raise(r("::","SecurityError"),"start path for "+(f(l=k["$[]"]("target_name"))?l:"path")+" "+d+" refers to location outside jail root: "+e+" (disallowed in safe mode)"))):(n=this.$partition_path(d),l=a.to_ary(n),z=null==l[0]?p:l[0],A=null==l[1]?p:l[1],n);f((J=c(z,u))["$include?"](h(t,"DOT_DOT")))&&
(l=[J,[]],z=l[0],J=l[1],l,f(e)?(f(C)||(n=this.$partition_path(e),l=a.to_ary(n),C=null==l[0]?p:l[0],n),E=!1,v(z,"each",[],(q=function(a){var c=q.$$s||this,d;null==a&&(a=p);if(a["$=="](h(t,"DOT_DOT"))){a=J.$size();var g=C.$size();a="number"===typeof a&&"number"===typeof g?a>g:a["$>"](g);if(f(a))return J.$pop();if(f(k.$fetch("recover",!0))){if(f(E))return p;c.$logger().$warn(""+(f(d=k["$[]"]("target_name"))?d:"path")+" has illegal reference to ancestor of jail; recovering automatically");return E=!0}return c.$raise(r("::",
"SecurityError"),""+(f(d=k["$[]"]("target_name"))?d:"path")+" "+b+" refers to location outside jail: "+e+" (disallowed in safe mode)")}return J["$<<"](a)},q.$$s=this,q.$$arity=1,q))):v(z,"each",[],(w=function(a){null==a&&(a=p);return a["$=="](h(t,"DOT_DOT"))?J.$pop():J["$<<"](a)},w.$$s=this,w.$$arity=1,w)));return f(x)?(x=this.$join_path(J,A),f(this["$descends_from?"](x,e))?x:f(k.$fetch("recover",!0))?(this.$logger().$warn(""+(f(l=k["$[]"]("target_name"))?l:"path")+" is outside of jail; recovering automatically"),
f(C)||(n=this.$partition_path(e),l=a.to_ary(n),C=null==l[0]?p:l[0],n),this.$join_path(c(C,u),A)):this.$raise(r("::","SecurityError"),""+(f(l=k["$[]"]("target_name"))?l:"path")+" "+b+" is outside of jail: "+e+" (disallowed in safe mode)")):this.$join_path(J,A)},R.$$arity=-2);return(a.def(b,"$web_path",P=function(c,b){var d,e,g,m=p,k=p,l=p,n=p,q=p;null==b&&(b=p);c=this.$posixify(c);b=this.$posixify(b);m=p;f(f(d=b["$nil_or_empty?"]())?d:this["$web_root?"](c))||(c=f(b["$end_with?"](h(t,"SLASH")))?""+
b+c:""+b+h(t,"SLASH")+c,f(m=h(t,"Helpers").$uri_prefix(c))&&(c=c["$[]"](a.Range.$new(m.$length(),-1,!1))));e=this.$partition_path(c,!0);d=a.to_ary(e);k=null==d[0]?p:d[0];l=null==d[1]?p:d[1];e;n=[];v(k,"each",[],(g=function(a){var c;null==a&&(a=p);return a["$=="](h(t,"DOT_DOT"))?f(n["$empty?"]())?f(f(c=l)?l["$!="](h(t,"DOT_SLASH")):c)?p:n["$<<"](a):n["$[]"](-1)["$=="](h(t,"DOT_DOT"))?n["$<<"](a):n.$pop():n["$<<"](a)},g.$$s=this,g.$$arity=1,g));f((q=this.$join_path(n,l))["$include?"](" "))&&(q=q.$gsub(" ",
"%20"));return f(m)?""+m+q:q},P.$$arity=-2),p)&&"web_path"})(q[0],null,q)}(t[0],t)};Opal.modules["asciidoctor/reader"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function k(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function t(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function p(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function r(a,c){return"number"===typeof a&&"number"===typeof c?
a<c:a["$<"](c)}function h(a,c){return"number"===typeof a&&"number"===typeof c?a>=c:a["$>="](c)}var b=[],d=a.nil,f=a.const_get_qualified,m=a.const_get_relative,v=a.module,l=a.klass,e=a.truthy,q=a.hash2,n=a.range,x=a.send,u=a.gvars,C=a.hash;a.add_stubs("$include $attr_reader $+ $attr_accessor $! $=== $split $file $dir $dirname $path $basename $lineno $prepare_lines $dup $[] $normalize_lines_from_string $normalize_lines_array $empty? $nil_or_empty? $peek_line $> $process_line $times $shift $read_line $<< $- $unshift_all $has_more_lines? $* $read_lines $unshift $start_with? $length $== $read_lines_until $size $clear $cursor $[]= $!= $fetch $cursor_at_mark $warn $logger $message_with_context $new $to_i $attributes $< $catalog $skip_front_matter! $pop $adjust_indentation! $attr $end_with? $include? $=~ $preprocess_conditional_directive $preprocess_include_directive $pop_include $downcase $error $none? $key? $any? $all? $strip $resolve_expr_val $send $to_sym $replace_next_line $rstrip $sub_attributes $attribute_missing $include_processors? $find $handles? $instance $process_method $parse $>= $safe $resolve_include_path $each $map $/ $to_a $uniq $sort $slice $open $each_line $infinite? $push_include $delete $value? $force_encoding $create_include_cursor $rindex $delete_at $nil? $keys $join $binread $read $uriish? $attr? $require_library $normalize_system_path $file? $relative_path $path_resolver $base_dir $to_s $path= $extname $rootname $<= $to_f $extensions? $extensions $include_processors $class $object_id $inspect".split(" "));
return function(b,A){var z=[v(b,"Asciidoctor")].concat(A);(function(b,$super,h){function w(){}b=w=l(b,$super,"Reader",w);var r=b.$$proto,v=[b].concat(h),u,C,y,A,z,E,L,Z,H,ba,T,ga,ca,aa,sa,la,da,ha,pa,Y,qa,na,ia,ta,ra,ka,S,va,ya,Aa,Ea,Ba,Ca;r.file=r.lines=r.process_lines=r.look_ahead=r.unescape_next_line=r.lineno=r.dir=r.path=r.mark=r.source_lines=d;b.$include(m(v,"Logging"));(function(b,$super,e){function f(){}b=f=l(b,$super,"Cursor",f);var h=b.$$proto;[b].concat(e);var m,k,n;h.lineno=h.path=d;b.$attr_reader("file",
"dir","path","lineno");a.def(b,"$initialize",m=function(a,c,b,e){var g;null==c&&(c=d);null==b&&(b=d);null==e&&(e=1);return g=[a,c,b,e],this.file=g[0],this.dir=g[1],this.path=g[2],this.lineno=g[3],g},m.$$arity=-2);a.def(b,"$advance",k=function(a){return this.lineno=c(this.lineno,a)},k.$$arity=1);a.def(b,"$line_info",n=function(){return""+this.path+": line "+this.lineno},n.$$arity=0);return a.alias(b,"to_s","line_info")})(v[0],null,v);b.$attr_reader("file");b.$attr_reader("dir");b.$attr_reader("path");
b.$attr_reader("lineno");b.$attr_reader("source_lines");b.$attr_accessor("process_lines");b.$attr_accessor("unterminated");a.def(b,"$initialize",u=function(c,b,g){var h;null==c&&(c=d);null==b&&(b=d);null==g&&(g=q([],{}));e(b["$!"]())?(this.file=d,this.dir=".",this.path="<stdin>",this.lineno=1):e(f("::","String")["$==="](b))?(this.file=b,b=f("::","File").$split(this.file),h=a.to_ary(b),this.dir=null==h[0]?d:h[0],this.path=null==h[1]?d:h[1],b,this.lineno=1):(e(this.file=b.$file())?(this.dir=e(h=b.$dir())?
h:f("::","File").$dirname(this.file),this.path=e(h=b.$path())?h:f("::","File").$basename(this.file)):(this.dir=e(h=b.$dir())?h:".",this.path=e(h=b.$path())?h:"<stdin>"),this.lineno=e(h=b.$lineno())?h:1);this.lines=e(c)?this.$prepare_lines(c,g):[];this.source_lines=this.lines.$dup();this.mark=d;this.look_ahead=0;this.process_lines=!0;this.unescape_next_line=!1;return this.unterminated=d},u.$$arity=-1);a.def(b,"$prepare_lines",C=function(a,c){null==c&&(c=q([],{}));return e(f("::","String")["$==="](a))?
e(c["$[]"]("normalize"))?m(v,"Helpers").$normalize_lines_from_string(a):a.$split(m(v,"LF"),-1):e(c["$[]"]("normalize"))?m(v,"Helpers").$normalize_lines_array(a):a.$dup()},C.$$arity=-2);a.def(b,"$process_line",y=function(a){e(this.process_lines)&&(this.look_ahead=c(this.look_ahead,1));return a},y.$$arity=1);a.def(b,"$has_more_lines?",A=function(){return e(this.lines["$empty?"]())?(this.look_ahead=0,!1):!0},A.$$arity=0);a.def(b,"$empty?",z=function(){return e(this.lines["$empty?"]())?(this.look_ahead=
0,!0):!1},z.$$arity=0);a.alias(b,"eof?","empty?");a.def(b,"$next_line_empty?",E=function(){return this.$peek_line()["$nil_or_empty?"]()},E.$$arity=0);a.def(b,"$peek_line",L=function(a){var c,b=d;null==a&&(a=!1);return e(e(c=a)?c:k(this.look_ahead,0))?e(this.unescape_next_line)?this.lines["$[]"](0)["$[]"](n(1,-1,!1)):this.lines["$[]"](0):e(this.lines["$empty?"]())?(this.look_ahead=0,d):e(b=this.$process_line(this.lines["$[]"](0)))?b:this.$peek_line()},L.$$arity=-1);a.def(b,"$peek_lines",Z=function(c,
b){var g,f,h=this,k=d,l=d;null==c&&(c=d);null==b&&(b=!1);k=h.look_ahead;l=[];(function(){var k=a.new_brk();try{return x(e(g=c)?g:m(v,"MAX_INT"),"times",[],(f=function(){var c=f.$$s||this,g=d;null==c.lineno&&(c.lineno=d);if(e(g=e(b)?c.$shift():c.$read_line()))return l["$<<"](g);e(b)&&(c.lineno=t(c.lineno,1));a.brk(d,k)},f.$$s=h,f.$$brk=k,f.$$arity=0,f))}catch(n){if(n===k)return n.$v;throw n;}})();e(l["$empty?"]())||(h.$unshift_all(l),e(b)&&(h.look_ahead=k));return l},Z.$$arity=-1);a.def(b,"$read_line",
H=function(){var a;return e(e(a=k(this.look_ahead,0))?a:this["$has_more_lines?"]())?this.$shift():d},H.$$arity=0);a.def(b,"$read_lines",ba=function(){for(var a=d,a=[];e(this["$has_more_lines?"]());)a["$<<"](this.$shift());return a},ba.$$arity=0);a.alias(b,"readlines","read_lines");a.def(b,"$read",T=function(){return p(this.$read_lines(),m(v,"LF"))},T.$$arity=0);a.def(b,"$advance",ga=function(){return e(this.$shift())?!0:!1},ga.$$arity=0);a.def(b,"$unshift_line",ca=function(a){this.$unshift(a);return d},
ca.$$arity=1);a.alias(b,"restore_line","unshift_line");a.def(b,"$unshift_lines",aa=function(a){this.$unshift_all(a);return d},aa.$$arity=1);a.alias(b,"restore_lines","unshift_lines");a.def(b,"$replace_next_line",sa=function(a){this.$shift();this.$unshift(a);return!0},sa.$$arity=1);a.alias(b,"replace_line","replace_next_line");a.def(b,"$skip_blank_lines",la=function(){var a=d,b=d;if(e(this["$empty?"]()))return d;for(a=0;e(b=this.$peek_line());)if(e(b["$empty?"]()))this.$shift(),a=c(a,1);else return a},
la.$$arity=0);a.def(b,"$skip_comment_lines",da=function(){var a,c=d,b=d;if(e(this["$empty?"]()))return d;for(;e(e(a=c=this.$peek_line())?c["$empty?"]()["$!"]():a);)if(e(c["$start_with?"]("//")))if(e(c["$start_with?"]("///")))if(e(e(a=k(b=c.$length(),3))?c["$=="](p("/",b)):a))this.$read_lines_until(q(["terminator","skip_first_line","read_last_line","skip_processing","context"],{terminator:c,skip_first_line:!0,read_last_line:!0,skip_processing:!0,context:"comment"}));else break;else this.$shift();else break;
return d},da.$$arity=0);a.def(b,"$skip_line_comments",ha=function(){var a,c=d,b=d;if(e(this["$empty?"]()))return[];for(c=[];e(e(a=b=this.$peek_line())?b["$empty?"]()["$!"]():a);)if(e(b["$start_with?"]("//")))c["$<<"](this.$shift());else break;return c},ha.$$arity=0);a.def(b,"$terminate",pa=function(){this.lineno=c(this.lineno,this.lines.$size());this.lines.$clear();this.look_ahead=0;return d},pa.$$arity=0);a.def(b,"$read_lines_until",Y=function(c){var b,g,f,h,k=Y.$$p,l=k||d,n=d,p=d,D=d,w=d,r=d,u=
d,C=d,y=d,B=d,A=d,z=d,F=d,G=d;null==c&&(c=q([],{}));k&&(Y.$$p=null);n=[];e(e(b=this.process_lines)?c["$[]"]("skip_processing"):b)&&(this.process_lines=!1,p=!0);e(D=c["$[]"]("terminator"))?(w=e(b=c["$[]"]("cursor"))?b:this.$cursor(),u=r=!1):(r=c["$[]"]("break_on_blank_lines"),u=c["$[]"]("break_on_list_continuation"));C=c["$[]"]("skip_line_comments");y=B=A=d;for(e(c["$[]"]("skip_first_line"))&&this.$shift();e(e(g=y["$!"]())?z=this.$read_line():g);)y=function(){for(;e(!0);)return e(e(f=D)?z["$=="](D):
f)||e(e(f=r)?z["$empty?"]():f)?!0:e(e(f=e(h=u)?B:h)?z["$=="](m(v,"LIST_CONTINUATION")):f)?(F=["preserve_last_line",!0],x(c,"[]=",a.to_a(F)),F[t(F.length,1)],!0):e((f=l!==d)?a.yield1(l,z):l!==d)?!0:!1;return d}(),e(y)?(e(c["$[]"]("read_last_line"))&&(n["$<<"](z),B=!0),e(c["$[]"]("preserve_last_line"))&&(this.$unshift(z),A=!0)):e(e(g=e(f=C)?z["$start_with?"]("//"):f)?z["$start_with?"]("///")["$!"]():g)||(n["$<<"](z),B=!0);e(p)&&(this.process_lines=!0,e(e(b=A)?D["$!"]():b)&&(this.look_ahead=t(this.look_ahead,
1)));e(e(b=e(g=D)?D["$!="](z):g)?G=c.$fetch("context",D):b)&&(w["$=="]("at_mark")&&(w=this.$cursor_at_mark()),this.$logger().$warn(this.$message_with_context("unterminated "+G+" block",q(["source_location"],{source_location:w}))),this.unterminated=!0);return n},Y.$$arity=-1);a.def(b,"$shift",qa=function(){this.lineno=c(this.lineno,1);this.look_ahead["$=="](0)||(this.look_ahead=t(this.look_ahead,1));return this.lines.$shift()},qa.$$arity=0);a.def(b,"$unshift",na=function(a){this.lineno=t(this.lineno,
1);this.look_ahead=c(this.look_ahead,1);return this.lines.$unshift(a)},na.$$arity=1);a.def(b,"$unshift_all",ia=function(b){this.lineno=t(this.lineno,b.$size());this.look_ahead=c(this.look_ahead,b.$size());return x(this.lines,"unshift",a.to_a(b))},ia.$$arity=1);a.def(b,"$cursor",ta=function(){return m(v,"Cursor").$new(this.file,this.dir,this.path,this.lineno)},ta.$$arity=0);a.def(b,"$cursor_at_line",ra=function(a){return m(v,"Cursor").$new(this.file,this.dir,this.path,a)},ra.$$arity=1);a.def(b,"$cursor_at_mark",
ka=function(){return e(this.mark)?x(m(v,"Cursor"),"new",a.to_a(this.mark)):this.$cursor()},ka.$$arity=0);a.def(b,"$cursor_before_mark",S=function(){var c,b,g=d,f=d,h=d;c=d;return e(this.mark)?(b=this.mark,c=a.to_ary(b),g=null==c[0]?d:c[0],f=null==c[1]?d:c[1],h=null==c[2]?d:c[2],c=null==c[3]?d:c[3],b,m(v,"Cursor").$new(g,f,h,t(c,1))):m(v,"Cursor").$new(this.file,this.dir,this.path,t(this.lineno,1))},S.$$arity=0);a.def(b,"$cursor_at_prev_line",va=function(){return m(v,"Cursor").$new(this.file,this.dir,
this.path,t(this.lineno,1))},va.$$arity=0);a.def(b,"$mark",ya=function(){return this.mark=[this.file,this.dir,this.path,this.lineno]},ya.$$arity=0);a.def(b,"$line_info",Aa=function(){return""+this.path+": line "+this.lineno},Aa.$$arity=0);a.def(b,"$lines",Ea=function(){return this.lines.$dup()},Ea.$$arity=0);a.def(b,"$string",Ba=function(){return p(this.lines,m(v,"LF"))},Ba.$$arity=0);a.def(b,"$source",Ca=function(){return p(this.source_lines,m(v,"LF"))},Ca.$$arity=0);return a.alias(b,"to_s","line_info")})(z[0],
null,z);(function(b,$super,v){function w(){}b=w=l(b,$super,"PreprocessorReader",w);var z=b.$$proto,A=[b].concat(v),E,N,L,X,R,P,ja,Z,H,ba,T,ga,ca,aa,sa,la,da,ha,pa;z.document=z.lineno=z.process_lines=z.look_ahead=z.skipping=z.include_stack=z.conditional_stack=z.path=z.include_processor_extensions=z.maxdepth=z.dir=z.lines=z.file=z.includes=z.unescape_next_line=d;b.$attr_reader("include_stack");a.def(b,"$initialize",E=function(b,c,g,f){var h=E.$$p,m=d;null==c&&(c=d);null==g&&(g=d);null==f&&(f=q([],{}));
h&&(E.$$p=null);this.document=b;x(this,a.find_super_dispatcher(this,"initialize",E,!1),[c,g,f],null);m=b.$attributes().$fetch("max-include-depth",64).$to_i();e(r(m,0))&&(m=0);this.maxdepth=q(["abs","rel"],{abs:m,rel:m});this.include_stack=[];this.includes=b.$catalog()["$[]"]("includes");this.skipping=!1;this.conditional_stack=[];return this.include_processor_extensions=d},E.$$arity=-2);a.def(b,"$prepare_lines",N=function(b,f){var h,k,l=N.$$p,n=d,w=d,r=d,v=d,u=d,C=r=n=d;null==f&&(f=q([],{}));l&&(N.$$p=
null);r=0;C=arguments.length;for(n=Array(C);r<C;r++)n[r]=arguments[r];n=x(this,a.find_super_dispatcher(this,"prepare_lines",N,!1),n,l);e(e(h=this.document)?this.document.$attributes()["$[]"]("skip-front-matter"):h)&&e(w=this["$skip_front_matter!"](n))&&(r=["front-matter",p(w,m(A,"LF"))],x(this.document.$attributes(),"[]=",a.to_a(r)),r[t(r.length,1)]);if(e(f.$fetch("condense",!0))){for(;e(e(k=v=n["$[]"](0))?v["$empty?"]():k);)e(k=n.$shift())?this.lineno=c(this.lineno,1):k;for(;e(e(k=u=n["$[]"](-1))?
u["$empty?"]():k);)n.$pop()}if(e(f["$[]"]("indent")))m(A,"Parser")["$adjust_indentation!"](n,f["$[]"]("indent"),this.document.$attr("tabsize"));return n},N.$$arity=-2);a.def(b,"$process_line",L=function(a){var b,f;if(!e(this.process_lines))return a;if(e(a["$empty?"]()))return this.look_ahead=c(this.look_ahead,1),a;if(e(e(b=e(f=a["$end_with?"]("]"))?a["$start_with?"]("[")["$!"]():f)?a["$include?"]("::"):b)){if(e(e(b=a["$include?"]("if"))?m(A,"ConditionalDirectiveRx")["$=~"](a):b)){if(((b=u["~"])===
d?d:b["$[]"](1))["$=="]("\\"))return this.unescape_next_line=!0,this.look_ahead=c(this.look_ahead,1),a["$[]"](n(1,-1,!1));if(e(this.$preprocess_conditional_directive((b=u["~"])===d?d:b["$[]"](2),(b=u["~"])===d?d:b["$[]"](3),(b=u["~"])===d?d:b["$[]"](4),(b=u["~"])===d?d:b["$[]"](5))))return this.$shift(),d;this.look_ahead=c(this.look_ahead,1);return a}if(e(this.skipping))return this.$shift(),d;if(e(e(b=a["$start_with?"]("inc","\\inc"))?m(A,"IncludeDirectiveRx")["$=~"](a):b)){if(((b=u["~"])===d?d:b["$[]"](1))["$=="]("\\"))return this.unescape_next_line=
!0,this.look_ahead=c(this.look_ahead,1),a["$[]"](n(1,-1,!1));if(e(this.$preprocess_include_directive((b=u["~"])===d?d:b["$[]"](2),(b=u["~"])===d?d:b["$[]"](3))))return d;this.look_ahead=c(this.look_ahead,1);return a}this.look_ahead=c(this.look_ahead,1);return a}if(e(this.skipping))return this.$shift(),d;this.look_ahead=c(this.look_ahead,1);return a},L.$$arity=1);a.def(b,"$has_more_lines?",X=function(){return e(this.$peek_line())?!0:!1},X.$$arity=0);a.def(b,"$empty?",R=function(){return e(this.$peek_line())?
!1:!0},R.$$arity=0);a.alias(b,"eof?","empty?");a.def(b,"$peek_line",P=function(b){var c=P.$$p,g=d,f=g=d,h=d;null==b&&(b=!1);c&&(P.$$p=null);f=0;h=arguments.length;for(g=Array(h);f<h;f++)g[f]=arguments[f];if(e(g=x(this,a.find_super_dispatcher(this,"peek_line",P,!1),g,c)))return g;if(e(this.include_stack["$empty?"]()))return d;this.$pop_include();return this.$peek_line(b)},P.$$arity=-1);a.def(b,"$preprocess_conditional_directive",ja=function(a,b,c,g){var f,h,k,l,n,p,w,r=d,v=d,C=d,y=d,B=y=r=d;e(r=b["$empty?"]())||
(b=b.$downcase());if(e(e(f=e(h=r)?e(k=a["$=="]("ifdef"))?k:a["$=="]("ifndef"):h)?f:e(h=g)?a["$=="]("endif"):h))return!1;if(a["$=="]("endif"))return e(this.conditional_stack["$empty?"]())?this.$logger().$error(this.$message_with_context("unmatched macro: endif::"+b+"[]",q(["source_location"],{source_location:this.$cursor()}))):e(e(f=r)?f:b["$=="]((v=this.conditional_stack["$[]"](-1))["$[]"]("target")))?(this.conditional_stack.$pop(),this.skipping=e(this.conditional_stack["$empty?"]())?!1:this.conditional_stack["$[]"](-1)["$[]"]("skipping")):
this.$logger().$error(this.$message_with_context("mismatched macro: endif::"+b+"[], expected endif::"+v["$[]"]("target")+"[]",q(["source_location"],{source_location:this.$cursor()}))),!0;if(e(this.skipping))C=!1;else if(y=a,"ifdef"["$==="](y))y=c,C=","["$==="](y)?x(b.$split(",",-1),"none?",[],(l=function(a){var b=l.$$s||this;null==b.document&&(b.document=d);null==a&&(a=d);return b.document.$attributes()["$key?"](a)},l.$$s=this,l.$$arity=1,l)):"+"["$==="](y)?x(b.$split("+",-1),"any?",[],(n=function(a){var b=
n.$$s||this;null==b.document&&(b.document=d);null==a&&(a=d);return b.document.$attributes()["$key?"](a)["$!"]()},n.$$s=this,n.$$arity=1,n)):this.document.$attributes()["$key?"](b)["$!"]();else if("ifndef"["$==="](y))y=c,C=","["$==="](y)?x(b.$split(",",-1),"any?",[],(p=function(a){var b=p.$$s||this;null==b.document&&(b.document=d);null==a&&(a=d);return b.document.$attributes()["$key?"](a)},p.$$s=this,p.$$arity=1,p)):"+"["$==="](y)?x(b.$split("+",-1),"all?",[],(w=function(a){var b=w.$$s||this;null==
b.document&&(b.document=d);null==a&&(a=d);return b.document.$attributes()["$key?"](a)},w.$$s=this,w.$$arity=1,w)):this.document.$attributes()["$key?"](b);else if("ifeval"["$==="](y)){if(!e(e(f=r)?m(A,"EvalExpressionRx")["$=~"](g.$strip()):f))return!1;f=[(h=u["~"])===d?d:h["$[]"](1),(h=u["~"])===d?d:h["$[]"](2),(h=u["~"])===d?d:h["$[]"](3)];r=f[0];y=f[1];B=f[2];f;r=this.$resolve_expr_val(r);B=this.$resolve_expr_val(B);C=y["$=="]("!=")?r.$send("==",B):r.$send(y.$to_sym(),B)["$!"]()}e(e(f=a["$=="]("ifeval"))?
f:g["$!"]())?(e(C)&&(this.skipping=!0),this.conditional_stack["$<<"](q(["target","skip","skipping"],{target:b,skip:C,skipping:this.skipping}))):e(e(f=this.skipping)?f:C)||(this.$replace_next_line(g.$rstrip()),this.$unshift(""),e(g["$start_with?"]("include::"))&&(this.look_ahead=t(this.look_ahead,1)));return!0},ja.$$arity=4);a.def(b,"$preprocess_include_directive",Z=function(b,l){var n,p,w,v,B,z,H,E,I=this,N=d,fa=d,P=d,R=P=d,L=d,Z=d,M=d,O=d,T=d,X=d,aa=d,ea=d,D=d,V=d,za=d,U=d,ca=d,K=d,ha=d,ba=D=d;if(e(e(n=
(N=b)["$include?"](m(A,"ATTR_REF_HEAD")))?(N=I.document.$sub_attributes(b,q(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]():n))return I.$shift(),(e(n=I.document.$attributes()["$[]"]("attribute-missing"))?n:m(A,"Compliance").$attribute_missing())["$=="]("skip")&&I.$unshift("Unresolved directive in "+I.path+" - include::"+b+"["+l+"]"),!0;if(e(e(n=I["$include_processors?"]())?fa=x(I.include_processor_extensions,"find",[],(p=function(a){null==a&&(a=d);return a.$instance()["$handles?"](N)},
p.$$s=I,p.$$arity=1,p)):n))return I.$shift(),fa.$process_method()["$[]"](I.document,I,N,e(l)?m(A,"AttributeList").$new(l).$parse():q([],{})),!0;if(e(h(I.document.$safe(),f(m(A,"SafeMode"),"SECURE"))))return I.$replace_next_line("link:"+N+"[]");if(e(k(P=I.maxdepth["$[]"]("abs"),0))){if(e(h(I.include_stack.$size(),P)))return I.$logger().$error(I.$message_with_context("maximum include depth of "+I.maxdepth["$[]"]("rel")+" exceeded",q(["source_location"],{source_location:I.$cursor()}))),d;P=e(l)?m(A,
"AttributeList").$new(l).$parse():q([],{});p=I.$resolve_include_path(N,l,P);n=a.to_ary(p);R=null==n[0]?d:n[0];L=null==n[1]?d:n[1];Z=null==n[2]?d:n[2];p;if(!e(L))return R;M=O=d;e(l)&&(e(P["$key?"]("lines"))?(M=[],x(P["$[]"]("lines").$split(m(A,"DataDelimiterRx")),"each",[],(w=function(b){var h=w.$$s||this,m,k=d,l=d;null==b&&(b=d);return e(b["$include?"](".."))?(b=x(b.$split("..",2),"map",[],(m=function(a){null==a&&(a=d);return a.$to_i()},m.$$s=h,m.$$arity=1,m)),m=a.to_ary(b),k=null==m[0]?d:m[0],l=
null==m[1]?d:m[1],b,M=c(M,e(r(l,0))?[k,1/0]:f("::","Range").$new(k,l).$to_a())):M["$<<"](b.$to_i())},w.$$s=I,w.$$arity=1,w)),M=e(M["$empty?"]())?d:M.$sort().$uniq()):e(P["$key?"]("tag"))?e(e(n=(T=P["$[]"]("tag"))["$empty?"]())?n:T["$=="]("!"))||(O=e(T["$start_with?"]("!"))?C(T.$slice(1,T.$length()),!1):C(T,!0)):e(P["$key?"]("tags"))&&(O=q([],{}),x(P["$[]"]("tags").$split(m(A,"DataDelimiterRx")),"each",[],(v=function(b){var c,g=d;null==b&&(b=d);if(e(e(c=b["$empty?"]())?c:b["$=="]("!")))return d;g=
e(b["$start_with?"]("!"))?[b.$slice(1,b.$length()),!1]:[b,!0];x(O,"[]=",a.to_a(g));return g[t(g.length,1)]},v.$$s=I,v.$$arity=1,v)),e(O["$empty?"]())&&(O=d)));if(e(M)){n=[[],d,0];X=n[0];aa=n[1];ea=n[2];n;try{(function(){var b=a.new_brk();try{return x(I,"open",[R,"rb"],(B=function(b){var h=B.$$s||this,m,k=d;null==b&&(b=d);k=d;return function(){var l=a.new_brk();try{return x(b,"each_line",[],(m=function(b){var h,m,n=d;null==b&&(b=d);ea=c(ea,1);if(e(e(h=k)?h:e(m=f("::","Float")["$==="](n=M["$[]"](0)))?
k=n["$infinite?"]():m))return aa=e(h=aa)?h:ea,X["$<<"](b);n["$=="](ea)&&(aa=e(h=aa)?h:ea,X["$<<"](b),M.$shift());if(e(M["$empty?"]()))a.brk(d,l);else return d},m.$$s=h,m.$$brk=l,m.$$arity=1,m))}catch(n){if(n===l)return n.$v;throw n;}}()},B.$$s=I,B.$$brk=b,B.$$arity=1,B))}catch(h){if(h===b)return h.$v;throw h;}})()}catch(W){if(a.rescue(W,[m(A,"StandardError")]))try{return I.$logger().$error(I.$message_with_context("include "+L+" not readable: "+R,q(["source_location"],{source_location:I.$cursor()}))),
I.$replace_next_line("Unresolved directive in "+I.path+" - include::"+N+"["+l+"]")}finally{a.pop_exception()}else throw W;}I.$shift();e(aa)&&(D=["partial-option",!0],x(P,"[]=",a.to_a(D)),D[t(D.length,1)],I.$push_include(X,R,Z,aa,P))}else if(e(O)){n=[[],d,0,[],f("::","Set").$new(),d];X=n[0];aa=n[1];ea=n[2];V=n[3];za=n[4];U=n[5];n;e(O["$key?"]("**"))?e(O["$key?"]("*"))?(ca=K=O.$delete("**"),ha=O.$delete("*")):ca=K=ha=O.$delete("**"):(ca=K=O["$value?"](!0)["$!"](),ha=O.$delete("*"));try{x(I,"open",[R,
"rb"],(z=function(b){var h=z.$$s||this,k,l,n=d,t=d,p=d;null==b&&(b=d);k=["::","[]"];n=k[0];t=k[1];k;e(m(A,"COERCE_ENCODING"))&&(p=f(f("::","Encoding"),"UTF_8"));return x(b,"each_line",[],(l=function(b){var f=l.$$s||this,h,k,D,w=d,r=d,v=d;null==b&&(b=d);ea=c(ea,1);e(p)&&b.$force_encoding(p);return e(e(h=e(k=b["$include?"](n))?b["$include?"](t):k)?m(A,"TagDirectiveRx")["$=~"](b):h)?e((h=u["~"])===d?d:h["$[]"](1))?(w=(h=u["~"])===d?d:h["$[]"](2))["$=="](U)?(V.$pop(),k=e(V["$empty?"]())?[d,K]:V["$[]"](-1),
h=a.to_ary(k),U=null==h[0]?d:h[0],ca=null==h[1]?d:h[1],k):e(O["$key?"](w))?(r=f.$create_include_cursor(R,N,ea),e(v=x(V,"rindex",[],(D=function(a,b){null==a&&(a=d);return a["$=="](w)},D.$$s=f,D.$$arity=2,D)))?(v["$=="](0)?V.$shift():V.$delete_at(v),f.$logger().$warn(f.$message_with_context("mismatched end tag (expected '"+U+"' but found '"+w+"') at line "+ea+" of include "+L+": "+R,q(["source_location","include_location"],{source_location:f.$cursor(),include_location:r})))):f.$logger().$warn(f.$message_with_context("unexpected end tag '"+
w+"' at line "+ea+" of include "+L+": "+R,q(["source_location","include_location"],{source_location:f.$cursor(),include_location:r})))):d:e(O["$key?"](w=(h=u["~"])===d?d:h["$[]"](2)))?(za["$<<"](w),V["$<<"]([U=w,ca=O["$[]"](w),ea])):e(ha["$nil?"]()["$!"]())?(ca=e(e(h=U)?ca["$!"]():h)?!1:ha,V["$<<"]([U=w,ca,ea])):d:e(ca)?(aa=e(h=aa)?h:ea,X["$<<"](b)):d},l.$$s=h,l.$$arity=1,l))},z.$$s=I,z.$$arity=1,z))}catch(W){if(a.rescue(W,[m(A,"StandardError")]))try{return I.$logger().$error(I.$message_with_context("include "+
L+" not readable: "+R,q(["source_location"],{source_location:I.$cursor()}))),I.$replace_next_line("Unresolved directive in "+I.path+" - include::"+N+"["+l+"]")}finally{a.pop_exception()}else throw W;}e(V["$empty?"]())||x(V,"each",[],(H=function(a,b,c){b=H.$$s||this;null==a&&(a=d);null==c&&(c=d);return b.$logger().$warn(b.$message_with_context("detected unclosed tag '"+a+"' starting at line "+c+" of include "+L+": "+R,q(["source_location","include_location"],{source_location:b.$cursor(),include_location:b.$create_include_cursor(R,
N,c)})))},H.$$s=I,H.$$arity=3,H));e((D=t(O.$keys().$to_a(),za.$to_a()))["$empty?"]())||I.$logger().$warn(I.$message_with_context("tag"+(e(k(D.$size(),1))?"s":"")+" '"+D.$join(", ")+"' not found in include "+L+": "+R,q(["source_location"],{source_location:I.$cursor()})));I.$shift();e(aa)&&(e(e(n=e(p=K)?ha:p)?O["$empty?"]():n)||(D=["partial-option",!0],x(P,"[]=",a.to_a(D)),D[t(D.length,1)]),I.$push_include(X,R,Z,aa,P))}else try{ba=function(){return L["$=="]("file")?f("::","IO").$binread(R):x(I,"open",
[R,"rb"],(E=function(a){null==a&&(a=d);return a.$read()},E.$$s=I,E.$$arity=1,E))}(),I.$shift(),I.$push_include(ba,R,Z,1,P)}catch(W){if(a.rescue(W,[m(A,"StandardError")]))try{return I.$logger().$error(I.$message_with_context("include "+L+" not readable: "+R,q(["source_location"],{source_location:I.$cursor()}))),I.$replace_next_line("Unresolved directive in "+I.path+" - include::"+N+"["+l+"]")}finally{a.pop_exception()}else throw W;}return!0}return d},Z.$$arity=2);a.def(b,"$resolve_include_path",H=
function(a,b,c){var g,h,k=d,l=d,k=d,k=this.document;if(e(e(g=m(A,"Helpers")["$uriish?"](a))?g:e(f("::","String")["$==="](this.dir))?d:a=""+this.dir+"/"+a)){if(!e(k["$attr?"]("allow-uri-read")))return this.$replace_next_line("link:"+a+"["+b+"]");e(k["$attr?"]("cache-uri"))?e((h=f("::","OpenURI","skip_raise"))&&f(h,"Cache","skip_raise")?"constant":d)||m(A,"Helpers").$require_library("open-uri/cached","open-uri-cached"):e(f("::","RUBY_ENGINE_OPAL")["$!"]())&&f("::","OpenURI");return[f("::","URI").$parse(a),
"uri",a]}l=k.$normalize_system_path(a,this.dir,d,q(["target_name"],{target_name:"include file"}));if(!e(f("::","File")["$file?"](l))){if(e(c["$key?"]("optional-option")))return this.$shift(),!0;this.$logger().$error(this.$message_with_context("include file not found: "+l,q(["source_location"],{source_location:this.$cursor()})));return this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+a+"["+b+"]")}k=k.$path_resolver().$relative_path(l,k.$base_dir());return[l,"file",k]},H.$$arity=
3);a.def(b,"$push_include",ba=function(b,h,k,l,n){var p,w=d,r=d,w=w=d;null==h&&(h=d);null==k&&(k=d);null==l&&(l=1);null==n&&(n=q([],{}));this.include_stack["$<<"]([this.lines,this.file,this.dir,this.path,this.lineno,this.maxdepth,this.process_lines]);e(this.file=h)?(e(f("::","String")["$==="](h))?this.dir=f("::","File").$dirname(h):e(f("::","RUBY_ENGINE_OPAL"))?this.dir=f("::","URI").$parse(f("::","File").$dirname(h=h.$to_s())):(w=[(r=f("::","File").$dirname(h.$path()))["$=="]("/")?"":r],x(this.dir=
h.$dup(),"path=",a.to_a(w)),w[t(w.length,1)],h=h.$to_s()),k=e(p=k)?p:f("::","File").$basename(h),this.process_lines=m(A,"ASCIIDOC_EXTENSIONS")["$[]"](f("::","File").$extname(h))):(this.dir=".",this.process_lines=!0);e(k)?(this.path=k,e(this.process_lines)&&(w=[m(A,"Helpers").$rootname(k),e(n["$[]"]("partial-option"))?d:!0],x(this.includes,"[]=",a.to_a(w)),w[t(w.length,1)])):this.path="<stdin>";this.lineno=l;e(n["$key?"]("depth"))&&(w=n["$[]"]("depth").$to_i(),e("number"===typeof w?0>=w:w["$<="](0))&&
(w=1),this.maxdepth=q(["abs","rel"],{abs:c(t(this.include_stack.$size(),1),w),rel:w}));if(e((this.lines=this.$prepare_lines(b,q(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:n["$[]"]("indent")})))["$empty?"]()))this.$pop_include();else{if(e(n["$key?"]("leveloffset"))){this.lines.$unshift("");this.lines.$unshift(":leveloffset: "+n["$[]"]("leveloffset"));this.lines["$<<"]("");if(e(w=this.document.$attr("leveloffset")))this.lines["$<<"](":leveloffset: "+w);else this.lines["$<<"](":leveloffset!:");
this.lineno=t(this.lineno,2)}this.look_ahead=0}return this},ba.$$arity=-2);a.def(b,"$create_include_cursor",T=function(a,b,c){var g=d;e(f("::","String")["$==="](a))?g=f("::","File").$dirname(a):e(f("::","RUBY_ENGINE_OPAL"))?g=f("::","File").$dirname(a=a.$to_s()):(g=(g=f("::","File").$dirname(a.$path()))["$=="]("")?"/":g,a=a.$to_s());return m(A,"Cursor").$new(a,g,b,c)},T.$$arity=3);a.def(b,"$pop_include",ga=function(){var b,c;e(k(this.include_stack.$size(),0))&&(c=this.include_stack.$pop(),b=a.to_ary(c),
this.lines=null==b[0]?d:b[0],this.file=null==b[1]?d:b[1],this.dir=null==b[2]?d:b[2],this.path=null==b[3]?d:b[3],this.lineno=null==b[4]?d:b[4],this.maxdepth=null==b[5]?d:b[5],this.process_lines=null==b[6]?d:b[6],c,this.look_ahead=0);return d},ga.$$arity=0);a.def(b,"$include_depth",ca=function(){return this.include_stack.$size()},ca.$$arity=0);a.def(b,"$exceeded_max_depth?",aa=function(){var a,b=d;return e(e(a=k(b=this.maxdepth["$[]"]("abs"),0))?h(this.include_stack.$size(),b):a)?this.maxdepth["$[]"]("rel"):
!1},aa.$$arity=0);a.def(b,"$shift",sa=function(){var b=sa.$$p,c=d,g=d,f=d;b&&(sa.$$p=null);g=0;f=arguments.length;for(c=Array(f);g<f;g++)c[g]=arguments[g];return e(this.unescape_next_line)?(this.unescape_next_line=!1,x(this,a.find_super_dispatcher(this,"shift",sa,!1),c,b)["$[]"](n(1,-1,!1))):x(this,a.find_super_dispatcher(this,"shift",sa,!1),c,b)},sa.$$arity=0);a.def(b,"$skip_front_matter!",la=function(b,f){var h,m=d,k=d;null==f&&(f=!0);m=d;if(b["$[]"](0)["$=="]("---")){k=b.$dup();m=[];b.$shift();
e(f)&&(this.lineno=c(this.lineno,1));for(;e(e(h=b["$empty?"]()["$!"]())?b["$[]"](0)["$!="]("---"):h);)m["$<<"](b.$shift()),e(f)&&(this.lineno=c(this.lineno,1));e(b["$empty?"]())?(x(b,"unshift",a.to_a(k)),e(f)&&(this.lineno=0),m=d):(b.$shift(),e(f)&&(this.lineno=c(this.lineno,1)))}return m},la.$$arity=-2);a.def(b,"$resolve_expr_val",da=function(a){var b,c,g=d;e(e(b=e(c=a["$start_with?"]('"'))?a["$end_with?"]('"'):c)?b:e(c=a["$start_with?"]("'"))?a["$end_with?"]("'"):c)?(g=!0,a=a["$[]"](n(1,-1,!0))):
g=!1;e(a["$include?"](m(A,"ATTR_REF_HEAD")))&&(a=this.document.$sub_attributes(a,q(["attribute_missing"],{attribute_missing:"drop"})));return e(g)?a:e(a["$empty?"]())?d:a["$=="]("true")?!0:a["$=="]("false")?!1:e(a.$rstrip()["$empty?"]())?" ":e(a["$include?"]("."))?a.$to_f():a.$to_i()},da.$$arity=1);a.def(b,"$include_processors?",ha=function(){var a;return e(this.include_processor_extensions["$nil?"]())?e(e(a=this.document["$extensions?"]())?this.document.$extensions()["$include_processors?"]():a)?
(this.include_processor_extensions=this.document.$extensions().$include_processors())["$!"]()["$!"]():this.include_processor_extensions=!1:this.include_processor_extensions["$!="](!1)},ha.$$arity=0);return(a.def(b,"$to_s",pa=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line #: "+this.lineno+", include depth: "+this.include_stack.$size()+", include stack: ["+p(x(this.include_stack,"map",[],(a=function(a){null==a&&(a=d);return a.$to_s()},a.$$s=this,
a.$$arity=1,a)),", ")+"]}>"},pa.$$arity=0),d)&&"to_s"})(z[0],m(z,"Reader"),z)}(b[0],b)};Opal.modules["asciidoctor/section"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var k=[],t=a.nil,p=a.const_get_relative,r=a.module,h=a.klass,b=a.send,d=a.truthy,f=a.hash2;a.add_stubs("$attr_accessor $attr_reader $=== $+ $level $special $generate_id $title $== $> $sectnum $int_to_roman $reftext $! $empty? $sprintf $sub_quotes $compat_mode $[] $attributes $context $assign_numeral $class $object_id $inspect $size $length $chr $[]= $- $gsub $downcase $delete $tr_s $end_with? $chop $start_with? $slice $key? $catalog $unique_id_start_index".split(" "));
return function(m,k){var l=[r(m,"Asciidoctor")].concat(k);(function(e,$super,m){function k(){}e=k=h(e,$super,"Section",k);var l=e.$$proto,r=[e].concat(m),v,x,u,y,z,A,w;l.document=l.level=l.number=l.parent=l.numbered=l.sectname=l.title=l.blocks=t;e.$attr_accessor("index");e.$attr_accessor("sectname");e.$attr_accessor("special");e.$attr_accessor("numbered");e.$attr_reader("caption");a.def(e,"$initialize",v=function(e,h,m,k){var l,n=v.$$p;null==e&&(e=t);null==h&&(h=t);null==m&&(m=!1);null==k&&(k=f([],
{}));n&&(v.$$p=null);b(this,a.find_super_dispatcher(this,"initialize",v,!1),[e,"section",k],null);e=d(p(r,"Section")["$==="](e))?[d(l=h)?l:c(e.$level(),1),e.$special()]:[d(l=h)?l:1,!1];this.level=e[0];this.special=e[1];e;this.numbered=m;return this.index=0},v.$$arity=-1);a.alias(e,"name","title");a.def(e,"$generate_id",x=function(){return p(r,"Section").$generate_id(this.$title(),this.document)},x.$$arity=0);a.def(e,"$sectnum",u=function(a,b){var c;null==a&&(a=".");null==b&&(b=t);b=d(c=b)?c:b["$=="](!1)?
"":a;this.level["$=="](1)?c=""+this.number+b:(c=this.level,c="number"===typeof c?1<c:c["$>"](1),c=d(c)?d(p(r,"Section")["$==="](this.parent))?""+this.parent.$sectnum(a)+this.number+b:""+this.number+b:""+p(r,"Helpers").$int_to_roman(this.number)+b);return c},u.$$arity=-1);a.def(e,"$xreftext",y=function(a){var b,c=t,e=t,g=t,f=e=t;null==a&&(a=t);d(d(b=c=this.$reftext())?c["$empty?"]()["$!"]():b)?b=c:d(a)?(d(this.numbered)?(e=a,"full"["$==="](e)?(e=d(d(b=(g=this.sectname)["$=="]("chapter"))?b:g["$=="]("appendix"))?
this.$sprintf(this.$sub_quotes("_%s_"),this.$title()):this.$sprintf(this.$sub_quotes(d(this.document.$compat_mode())?"``%s''":'"`%s`"'),this.$title()),a=d(f=this.document.$attributes()["$[]"](""+g+"-refsig"))?""+f+" "+this.$sectnum(".",",")+" "+e:""+this.$sectnum(".",",")+" "+e):a="short"["$==="](e)?d(f=this.document.$attributes()["$[]"](""+this.sectname+"-refsig"))?""+f+" "+this.$sectnum(".",""):this.$sectnum(".",""):d(d(b=(g=this.sectname)["$=="]("chapter"))?b:g["$=="]("appendix"))?this.$sprintf(this.$sub_quotes("_%s_"),
this.$title()):this.$title()):a=d(d(b=(g=this.sectname)["$=="]("chapter"))?b:g["$=="]("appendix"))?this.$sprintf(this.$sub_quotes("_%s_"),this.$title()):this.$title(),b=a):b=this.$title();return b},y.$$arity=-1);a.def(e,"$<<",z=function(c){var d=z.$$p,e=t,g=t,f=t;d&&(z.$$p=null);g=0;f=arguments.length;for(e=Array(f);g<f;g++)e[g]=arguments[g];c.$context()["$=="]("section")&&this.$assign_numeral(c);return b(this,a.find_super_dispatcher(this,"<<",z,!1),e,d)},z.$$arity=1);a.def(e,"$to_s",A=function(){var c=
A.$$p,e=t,g=e=t,f=t;c&&(A.$$p=null);g=0;f=arguments.length;for(e=Array(f);g<f;g++)e[g]=arguments[g];return d(this.title)?(e=d(this.numbered)?""+this.$sectnum()+" "+this.title:this.title,"#<"+this.$class()+"@"+this.$object_id()+" {level: "+this.level+", title: "+e.$inspect()+", blocks: "+this.blocks.$size()+"}>"):b(this,a.find_super_dispatcher(this,"to_s",A,!1),e,c)},A.$$arity=0);return(a.defs(e,"$generate_id",w=function(e,f){var h,m,k=t,l=t,n=t,w=t,v=m=t,x=m=l=k=t,k=f.$attributes(),l=d(h=k["$[]"]("idprefix"))?
h:"_";d(n=k["$[]"]("idseparator"))?(d(h=n.$length()["$=="](1))?k=h:d(m=(w=n["$empty?"]())["$!"]())?(m=["idseparator",n.$chr()],b(k,"[]=",a.to_a(m)),n=m,k=m.length,k="number"===typeof k?k-1:k["$-"](1),k=n=n[k]):k=m,d(k)&&(v=d(d(h=n["$=="]("-"))?h:n["$=="]("."))?" .-":" "+n+".-")):(h=["_"," _.-"],n=h[0],v=h[1],h);k=""+l+e.$downcase().$gsub(p(r,"InvalidSectionIdCharsRx"),"");d(w)?k=k.$delete(" "):(k=k.$tr_s(v,n),d(k["$end_with?"](n))&&(k=k.$chop()),d(d(h=l["$empty?"]())?k["$start_with?"](n):h)&&(k=k.$slice(1,
k.$length())));if(d(f.$catalog()["$[]"]("ids")["$key?"](k))){h=[f.$catalog()["$[]"]("ids"),p(r,"Compliance").$unique_id_start_index()];l=h[0];m=h[1];for(h;d(l["$key?"](x=""+k+n+m));)m=c(m,1);return x}return k},w.$$arity=2),t)&&"generate_id"})(l[0],p(l,"AbstractBlock"),l)}(k[0],k)};Opal.modules["asciidoctor/stylesheets"]=function(a){var c=[],k=a.nil,t=a.const_get_qualified,p=a.const_get_relative,r=a.module,h=a.klass,b=a.truthy,d=a.hash2,f=a.gvars,m=a.send;a.add_stubs("$join $new $rstrip $read $primary_stylesheet_data $write $primary_stylesheet_name $coderay_stylesheet_data $coderay_stylesheet_name $load_pygments $=~ $css $[] $sub $[]= $- $pygments_stylesheet_data $pygments_stylesheet_name $! $nil? $require_library".split(" "));
return function(c,g){var e=[r(c,"Asciidoctor")].concat(g);(function(c,$super,e){function g(){}var l=g=h(c,$super,"Stylesheets",g);c=l.$$proto;var r=[l].concat(e),v,x,u,y,z,w,A,E,ea,N,O,X,R,P,ja;c.primary_stylesheet_data=c.coderay_stylesheet_data=c.pygments_stylesheet_data=k;a.const_set(r[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.const_set(r[0],"DEFAULT_PYGMENTS_STYLE","default");a.const_set(r[0],"STYLESHEETS_DATA_PATH",t("::","File").$join(p(r,"DATA_PATH"),"stylesheets"));a.const_set(r[0],
"PygmentsBgColorRx",/^\.pygments +\{ *background: *([^;]+);/);l.__instance__=l.$new();a.defs(l,"$instance",v=function(){null==this.__instance__&&(this.__instance__=k);return this.__instance__},v.$$arity=0);a.def(l,"$primary_stylesheet_name",x=function(){return p(r,"DEFAULT_STYLESHEET_NAME")},x.$$arity=0);a.def(l,"$primary_stylesheet_data",u=function(){var b=a.const_get_relative([],"File"),c;c=a.const_get_relative([],"JAVASCRIPT_PLATFORM")["$=="]("node")?"node"===b.$basename(__dirname)&&"dist"===b.$basename(b.$dirname(__dirname))?
b.$join(b.$dirname(__dirname),"css"):b.$join(__dirname,"css"):a.const_get_relative([],"JAVASCRIPT_ENGINE")["$=="]("nashorn")?"nashorn"===b.$basename(__DIR__)&&"dist"===b.$basename(b.$dirname(__DIR__))?b.$join(b.$dirname(__DIR__),"css"):b.$join(__DIR__,"css"):"css";return!1!==($a=l.primary_stylesheet_data)&&$a!==k&&null!=$a?$a:l.primary_stylesheet_data=a.const_get_relative([],"IO").$read(b.$join(c,"asciidoctor.css")).$chomp()},u.$$arity=0);a.def(l,"$embed_primary_stylesheet",y=function(){return"<style>\n"+
this.$primary_stylesheet_data()+"\n</style>"},y.$$arity=0);a.def(l,"$write_primary_stylesheet",z=function(a){null==a&&(a=".");return t("::","IO").$write(t("::","File").$join(a,this.$primary_stylesheet_name()),this.$primary_stylesheet_data())},z.$$arity=-1);a.def(l,"$coderay_stylesheet_name",w=function(){return"coderay-asciidoctor.css"},w.$$arity=0);a.def(l,"$coderay_stylesheet_data",A=function(){var a;return this.coderay_stylesheet_data=b(a=this.coderay_stylesheet_data)?a:t("::","IO").$read(t("::",
"File").$join(p(r,"STYLESHEETS_DATA_PATH"),"coderay-asciidoctor.css")).$rstrip()},A.$$arity=0);a.def(l,"$embed_coderay_stylesheet",E=function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"},E.$$arity=0);a.def(l,"$write_coderay_stylesheet",ea=function(a){null==a&&(a=".");return t("::","IO").$write(t("::","File").$join(a,this.$coderay_stylesheet_name()),this.$coderay_stylesheet_data())},ea.$$arity=-1);a.def(l,"$pygments_stylesheet_name",N=function(a){var c;null==a&&(a=k);return"pygments-"+
(b(c=a)?c:p(r,"DEFAULT_PYGMENTS_STYLE"))+".css"},N.$$arity=-1);a.def(l,"$pygments_background",O=function(a){var c,e;null==a&&(a=k);return b(b(c=this.$load_pygments())?p(r,"PygmentsBgColorRx")["$=~"](t("::","Pygments").$css(".pygments",d(["style"],{style:b(e=a)?e:p(r,"DEFAULT_PYGMENTS_STYLE")}))):c)?(c=f["~"])===k?k:c["$[]"](1):k},O.$$arity=-1);a.def(l,"$pygments_stylesheet_data",X=function(c){var e,g,f=k;null==c&&(c=k);return b(this.$load_pygments())?(c=b(e=c)?e:p(r,"DEFAULT_PYGMENTS_STYLE"),b(e=
(this.pygments_stylesheet_data=b(g=this.pygments_stylesheet_data)?g:d([],{}))["$[]"](c))?f=e:(f=[c,(b(g=t("::","Pygments").$css(".listingblock .pygments",d(["classprefix","style"],{classprefix:"tok-",style:c})))?g:"/* Failed to load Pygments CSS. */").$sub(".listingblock .pygments  {",".listingblock .pygments, .listingblock .pygments code {")],m(this.pygments_stylesheet_data=b(g=this.pygments_stylesheet_data)?g:d([],{}),"[]=",a.to_a(f)),c=f,f=f.length,f="number"===typeof f?f-1:f["$-"](1),f=c[f]),
f):"/* Pygments CSS disabled. Pygments is not available. */"},X.$$arity=-1);a.def(l,"$embed_pygments_stylesheet",R=function(a){null==a&&(a=k);return"<style>\n"+this.$pygments_stylesheet_data(a)+"\n</style>"},R.$$arity=-1);a.def(l,"$write_pygments_stylesheet",P=function(a,b){null==a&&(a=".");null==b&&(b=k);return t("::","IO").$write(t("::","File").$join(a,this.$pygments_stylesheet_name(b)),this.$pygments_stylesheet_data(b))},P.$$arity=-1);return(a.def(l,"$load_pygments",ja=function(){return b(t("::",
"Pygments","skip_raise")?"constant":k)?!0:p(r,"Helpers").$require_library("pygments","pygments.rb","ignore")["$nil?"]()["$!"]()},ja.$$arity=0),k)&&"load_pygments"})(e[0],null,e)}(c[0],c)};Opal.modules["asciidoctor/table"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function t(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function p(a,b){return"number"===
typeof a&&"number"===typeof b?a*b:a["$*"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var b=[],d=a.nil,f=a.const_get_qualified,m=a.const_get_relative,v=a.module,l=a.klass,e=a.send,q=a.truthy,n=a.hash2,x=a.gvars;a.add_stubs("$attr_accessor $attr_reader $new $key? $[] $> $to_i $< $== $[]= $- $attributes $round $* $/ $to_f $empty? $body $each $<< $size $+ $assign_column_widths $warn $logger $update_attributes $assign_width $shift $style= $head= $pop $foot= $parent $sourcemap $dup $header_row? $table $delete $start_with? $rstrip $slice $length $advance $lstrip $strip $split $include? $readlines $unshift $nil? $=~ $catalog_inline_anchor $apply_subs $convert $map $text $! $file $lineno $to_s $include $to_set $mark $nested? $document $error $message_with_context $cursor_at_prev_line $nil_or_empty? $escape $columns $match $chop $end_with? $gsub $push_cellspec $cell_open? $close_cell $take_cellspec $squeeze $upto $times $cursor_before_mark $rowspan $activate_rowspan $colspan $end_of_row? $!= $close_row $rows $effective_column_visits".split(" "));
return function(b,u){var z=[v(b,"Asciidoctor")].concat(u);(function(b,$super,f){function v(){}b=v=l(b,$super,"Table",v);var x=b.$$proto,w=[b].concat(f),u,C,z,A,E;x.attributes=x.document=x.has_header_option=x.rows=x.columns=d;a.const_set(w[0],"DEFAULT_PRECISION_FACTOR",1E4);(function(b,$super,c){function e(){}b=e=l(b,$super,"Rows",e);var g=b.$$proto;[b].concat(c);var f,h;g.head=g.body=g.foot=d;b.$attr_accessor("head","foot","body");a.def(b,"$initialize",f=function(a,b,c){null==a&&(a=[]);null==b&&(b=
[]);null==c&&(c=[]);this.head=a;this.foot=b;return this.body=c},f.$$arity=-1);a.alias(b,"[]","send");return(a.def(b,"$by_section",h=function(){return[["head",this.head],["body",this.body],["foot",this.foot]]},h.$$arity=0),d)&&"by_section"})(w[0],null,w);b.$attr_accessor("columns");b.$attr_accessor("rows");b.$attr_accessor("has_header_option");b.$attr_reader("caption");a.def(b,"$initialize",u=function(b,f){var h,l,n=d,v=d,x=d;u.$$p&&(u.$$p=null);e(this,a.find_super_dispatcher(this,"initialize",u,!1),
[b,"table"],null);this.rows=m(w,"Rows").$new();this.columns=[];this.has_header_option=f["$key?"]("header-option");q(n=f["$[]"]("width"))?q(q(h=c(v=n.$to_i(),100))?h:k(v,1))&&!q((h=v["$=="](0))?q(l=n["$=="]("0"))?l:n["$=="]("0%"):v["$=="](0))&&(v=100):v=100;x=["tablepcwidth",v];e(this.attributes,"[]=",a.to_a(x));x[t(x.length,1)];q(this.document.$attributes()["$key?"]("pagewidth"))&&(q(h=this.attributes["$[]"]("tableabswidth"))?h:(x=["tableabswidth",p(r(this.attributes["$[]"]("tablepcwidth").$to_f(),
100),this.document.$attributes()["$[]"]("pagewidth")).$round()],e(this.attributes,"[]=",a.to_a(x)),x[t(x.length,1)]));return q(f["$key?"]("rotate-option"))?(x=["orientation","landscape"],e(f,"[]=",a.to_a(x)),x[t(x.length,1)]):d},u.$$arity=2);a.def(b,"$header_row?",C=function(){var a;return q(a=this.has_header_option)?this.rows.$body()["$empty?"]():a},C.$$arity=0);a.def(b,"$create_columns",z=function(b){var f,l,n=d,p=d,r=d,v=d,v=d,n=[],p=d,r=0;e(b,"each",[],(f=function(a){var b=f.$$s||this,c,e=d;null==
a&&(a=d);e=a["$[]"]("width");n["$<<"](m(w,"Column").$new(b,n.$size(),a));return q(k(e,0))?(p=q(c=p)?c:[])["$<<"](n["$[]"](-1)):r=h(r,e)},f.$$s=this,f.$$arity=1,f));q(c(v=(this.columns=n).$size(),0))&&(v=["colcount",v],e(this.attributes,"[]=",a.to_a(v)),v[t(v.length,1)],q(q(l=c(r,0))?l:p)||(r=d),this.$assign_column_widths(r,p));return d},z.$$arity=1);a.def(b,"$assign_column_widths",A=function(a,b){var f,k,l,v=d,x=d,u=d,C=d,z=d;null==a&&(a=d);null==b&&(b=d);v=m(w,"DEFAULT_PRECISION_FACTOR");x=u=0;q(a)?
(q(b)&&(q(c(a,100))?(C=0,this.$logger().$warn("total column width must not exceed 100% when using autowidth columns; got "+a+"%")):(C=r(p(r(t(100,a),b.$size()),v).$to_i(),v),C.$to_i()["$=="](C)&&(C=C.$to_i()),a=100),z=n(["width","autowidth-option"],{width:C,"autowidth-option":""}),e(b,"each",[],(f=function(a){null==a&&(a=d);return a.$update_attributes(z)},f.$$s=this,f.$$arity=1,f))),e(this.columns,"each",[],(k=function(b){null==b&&(b=d);return x=h(x,u=b.$assign_width(d,a,v))},k.$$s=this,k.$$arity=
1,k))):(u=r(r(p(100,v),this.columns.$size()).$to_i(),v),u.$to_i()["$=="](u)&&(u=u.$to_i()),e(this.columns,"each",[],(l=function(a){null==a&&(a=d);return x=h(x,a.$assign_width(u))},l.$$s=this,l.$$arity=1,l)));x["$=="](100)||this.columns["$[]"](-1).$assign_width(r(p(h(t(100,x),u),v).$round(),v));return d},A.$$arity=-1);return(a.def(b,"$partition_header_footer",E=function(b){var f,h,k=d,m=d,l=d,k=["rowcount",this.rows.$body().$size()];e(this.attributes,"[]=",a.to_a(k));k[t(k.length,1)];m=this.rows.$body().$size();
q(q(f=c(m,0))?this.has_header_option:f)&&(l=this.rows.$body().$shift(),m=t(m,1),e(l,"each",[],(h=function(b){null==b&&(b=d);k=[d];e(b,"style=",a.to_a(k));return k[t(k.length,1)]},h.$$s=this,h.$$arity=1,h)),k=[[l]],e(this.rows,"head=",a.to_a(k)),k[t(k.length,1)]);q(q(f=c(m,0))?b["$key?"]("footer-option"):f)&&(k=[[this.rows.$body().$pop()]],e(this.rows,"foot=",a.to_a(k)),k[t(k.length,1)]);return d},E.$$arity=1),d)&&"partition_header_footer"})(z[0],m(z,"AbstractBlock"),z);(function(b,$super,c){function g(){}
b=g=l(b,$super,"Column",g);var f=b.$$proto;[b].concat(c);var k,m;f.attributes=d;b.$attr_accessor("style");a.def(b,"$initialize",k=function(b,c,g){var f,m=k.$$p,l=d;null==g&&(g=n([],{}));m&&(k.$$p=null);e(this,a.find_super_dispatcher(this,"initialize",k,!1),[b,"column"],null);this.style=g["$[]"]("style");l=["colnumber",h(c,1)];e(g,"[]=",a.to_a(l));l[t(l.length,1)];q(f=g["$[]"]("width"))?f:(l=["width",1],e(g,"[]=",a.to_a(l)),l[t(l.length,1)]);q(f=g["$[]"]("halign"))?f:(l=["halign","left"],e(g,"[]=",
a.to_a(l)),l[t(l.length,1)]);q(f=g["$[]"]("valign"))?f:(l=["valign","top"],e(g,"[]=",a.to_a(l)),l[t(l.length,1)]);return this.$update_attributes(g)},k.$$arity=-3);a.alias(b,"table","parent");return(a.def(b,"$assign_width",m=function(b,c,g){var f=d;null==c&&(c=d);null==g&&(g=1E4);q(c)&&(b=r(p(p(r(this.attributes["$[]"]("width").$to_f(),c),100),g).$to_i(),g),b.$to_i()["$=="](b)&&(b=b.$to_i()));f=["colpcwidth",b];e(this.attributes,"[]=",a.to_a(f));f[t(f.length,1)];q(this.$parent().$attributes()["$key?"]("tableabswidth"))&&
(f=["colabswidth",p(r(b,100),this.$parent().$attributes()["$[]"]("tableabswidth")).$round()],e(this.attributes,"[]=",a.to_a(f)),f[t(f.length,1)]);return b},m.$$arity=-2),d)&&"assign_width"})(m(z,"Table"),m(z,"AbstractNode"),z);(function(b,$super,c){function g(){}b=g=l(b,$super,"Cell",g);var f=b.$$proto,p=[b].concat(c),r,v,u,y,C,z,A;f.document=f.text=f.subs=f.style=f.inner_document=f.source_location=f.colspan=f.rowspan=f.attributes=d;b.$attr_reader("source_location");b.$attr_accessor("style");b.$attr_accessor("subs");
b.$attr_accessor("colspan");b.$attr_accessor("rowspan");a.alias(b,"column","parent");b.$attr_reader("inner_document");a.def(b,"$initialize",r=function(b,c,g,f){var l,v,u=r.$$p,y=d,C=d,z=d,A=d,B=d,J=d,E=d,I=B=d,N=d,L=d,B=d;null==g&&(g=n([],{}));null==f&&(f=n([],{}));u&&(r.$$p=null);e(this,a.find_super_dispatcher(this,"initialize",r,!1),[b,"cell"],null);q(this.document.$sourcemap())&&(this.source_location=f["$[]"]("cursor").$dup());q(b)&&(q(y=b.$table()["$header_row?"]())||(C=b.$attributes()["$[]"]("style")),
this.$update_attributes(b.$attributes()));if(q(g))if(q(g["$empty?"]())?this.colspan=this.rowspan=d:(l=[g.$delete("colspan"),g.$delete("rowspan")],this.colspan=l[0],this.rowspan=l[1],l,q(y)||(C=q(l=g["$[]"]("style"))?l:C),this.$update_attributes(g)),C["$=="]("asciidoc"))if(z=!0,A=f["$[]"]("cursor"),q((c=c.$rstrip())["$start_with?"](m(p,"LF")))){for(B=1;q((c=c.$slice(1,c.$length()))["$start_with?"](m(p,"LF")));)B=h(B,1);A.$advance(B)}else c=c.$lstrip();else if(q(q(l=J=C["$=="]("literal"))?l:C["$=="]("verse")))for(c=
c.$rstrip();q(c["$start_with?"](m(p,"LF")));)c=c.$slice(1,c.$length());else E=!0,c=q(c)?c.$strip():"";else this.colspan=this.rowspan=d;q(z)?(B=this.document.$attributes().$delete("doctitle"),I=c.$split(m(p,"LF"),-1),!q(I["$empty?"]())&&q((N=I["$[]"](0))["$include?"]("::"))&&(L=m(p,"PreprocessorReader").$new(this.document,[N]).$readlines(),q(N["$=="](L["$[]"](0))?k(L.$size(),2):N["$=="](L["$[]"](0)))||(I.$shift(),q(L["$empty?"]())||e(I,"unshift",a.to_a(L)))),this.inner_document=m(p,"Document").$new(I,
n(["header_footer","parent","cursor"],{header_footer:!1,parent:this.document,cursor:A})),q(B["$nil?"]())||(B=["doctitle",B],e(this.document.$attributes(),"[]=",a.to_a(B)),B[t(B.length,1)]),this.subs=d):q(J)?this.subs=m(p,"BASIC_SUBS"):(q(q(l=q(v=E)?c["$start_with?"]("[["):v)?m(p,"LeadingInlineAnchorRx")["$=~"](c):l)&&m(p,"Parser").$catalog_inline_anchor((l=x["~"])===d?d:l["$[]"](1),(l=x["~"])===d?d:l["$[]"](2),this,f["$[]"]("cursor"),this.document),this.subs=m(p,"NORMAL_SUBS"));this.text=c;return this.style=
C},r.$$arity=-3);a.def(b,"$text",v=function(){return this.$apply_subs(this.text,this.subs)},v.$$arity=0);a.def(b,"$text=",u=function(a){return this.text=a},u.$$arity=1);a.def(b,"$content",y=function(){var a;return this.style["$=="]("asciidoc")?this.inner_document.$convert():e(this.$text().$split(m(p,"BlankLineRx")),"map",[],(a=function(b){var c=a.$$s||this,e;null==c.style&&(c.style=d);null==b&&(b=d);return q(q(e=c.style["$!"]())?e:c.style["$=="]("header"))?b:m(p,"Inline").$new(c.$parent(),"quoted",
b,n(["type"],{type:c.style})).$convert()},a.$$s=this,a.$$arity=1,a))},y.$$arity=0);a.def(b,"$file",C=function(){var a;return q(a=this.source_location)?this.source_location.$file():a},C.$$arity=0);a.def(b,"$lineno",z=function(){var a;return q(a=this.source_location)?this.source_location.$lineno():a},z.$$arity=0);return(a.def(b,"$to_s",A=function(){var b,c=A.$$p,g=d,f=d,h=d;c&&(A.$$p=null);f=0;h=arguments.length;for(g=Array(h);f<h;f++)g[f]=arguments[f];return""+e(this,a.find_super_dispatcher(this,"to_s",
A,!1),g,c).$to_s()+" - [text: "+this.text+", colspan: "+(q(b=this.colspan)?b:1)+", rowspan: "+(q(b=this.rowspan)?b:1)+", attributes: "+this.attributes+"]"},A.$$arity=0),d)&&"to_s"})(m(z,"Table"),m(z,"AbstractNode"),z);(function(b,$super,k){function p(){}b=p=l(b,$super,"ParserContext",p);var r=b.$$proto,w=[b].concat(k),v,x,u,C,y,z,A,B,F,E,H,ba,T,ga,ca,aa,sa,la,ma;r.delimiter=r.delimiter_re=r.buffer=r.cellspecs=r.cell_open=r.format=r.start_cursor_data=r.table=r.current_row=r.colcount=r.column_visits=
r.active_rowspans=r.linenum=d;b.$include(m(w,"Logging"));a.const_set(w[0],"FORMATS",["psv","csv","dsv","tsv"].$to_set());a.const_set(w[0],"DELIMITERS",n(["psv","csv","dsv","tsv","!sv"],{psv:["|",/\|/],csv:[",",/,/],dsv:[":",/:/],tsv:["\t",/\t/],"!sv":["!",/!/]}));b.$attr_accessor("table");b.$attr_accessor("format");b.$attr_reader("colcount");b.$attr_accessor("buffer");b.$attr_reader("delimiter");b.$attr_reader("delimiter_re");a.def(b,"$initialize",v=function(b,c,e){var g=d,h=d;null==e&&(e=n([],{}));
this.start_cursor_data=(this.reader=b).$mark();this.table=c;q(e["$key?"]("format"))?q(m(w,"FORMATS")["$include?"](g=e["$[]"]("format")))?g["$=="]("tsv")?this.format="csv":q((this.format=g)["$=="]("psv")?c.$document()["$nested?"]():(this.format=g)["$=="]("psv"))&&(g="!sv"):(this.$logger().$error(this.$message_with_context("illegal table format: "+g,n(["source_location"],{source_location:b.$cursor_at_prev_line()}))),b=["psv",q(c.$document()["$nested?"]())?"!sv":"psv"],this.format=b[0],g=b[1],b):(b=
["psv",q(c.$document()["$nested?"]())?"!sv":"psv"],this.format=b[0],g=b[1],b);q(e["$key?"]("separator"))?q((h=e["$[]"]("separator"))["$nil_or_empty?"]())?(e=m(w,"DELIMITERS")["$[]"](g),b=a.to_ary(e),this.delimiter=null==b[0]?d:b[0],this.delimiter_re=null==b[1]?d:b[1],e):h["$=="]("\\t")?(e=m(w,"DELIMITERS")["$[]"]("tsv"),b=a.to_ary(e),this.delimiter=null==b[0]?d:b[0],this.delimiter_re=null==b[1]?d:b[1],e):(b=[h,new RegExp(f("::","Regexp").$escape(h))],this.delimiter=b[0],this.delimiter_re=b[1],b):
(e=m(w,"DELIMITERS")["$[]"](g),b=a.to_ary(e),this.delimiter=null==b[0]?d:b[0],this.delimiter_re=null==b[1]?d:b[1],e);this.colcount=q(c.$columns()["$empty?"]())?-1:c.$columns().$size();this.buffer="";this.cellspecs=[];this.cell_open=!1;this.active_rowspans=[0];this.column_visits=0;this.current_row=[];return this.linenum=-1},v.$$arity=-3);a.def(b,"$starts_with_delimiter?",x=function(a){return a["$start_with?"](this.delimiter)},x.$$arity=1);a.def(b,"$match_delimiter",u=function(a){return this.delimiter_re.$match(a)},
u.$$arity=1);a.def(b,"$skip_past_delimiter",C=function(a){this.buffer=""+this.buffer+a+this.delimiter;return d},C.$$arity=1);a.def(b,"$skip_past_escaped_delimiter",y=function(a){this.buffer=""+this.buffer+a.$chop()+this.delimiter;return d},y.$$arity=1);a.def(b,"$buffer_has_unclosed_quotes?",z=function(a){var b,c,e=d,g=d;null==a&&(a=d);return(e=q(a)?h(this.buffer,a).$strip():this.buffer.$strip())["$=="]('"')?!0:q(e["$start_with?"]('"'))?q(q(b=q(c=g=e["$end_with?"]('"'))?e["$end_with?"]('""'):c)?b:
e["$start_with?"]('""'))?q(b=(e=e.$gsub('""',""))["$start_with?"]('"'))?e["$end_with?"]('"')["$!"]():b:g["$!"]():!1},z.$$arity=-1);a.def(b,"$take_cellspec",A=function(){return this.cellspecs.$shift()},A.$$arity=0);a.def(b,"$push_cellspec",B=function(a){var b;null==a&&(a=n([],{}));this.cellspecs["$<<"](q(b=a)?b:n([],{}));return d},B.$$arity=-1);a.def(b,"$keep_cell_open",F=function(){this.cell_open=!0;return d},F.$$arity=0);a.def(b,"$mark_cell_closed",E=function(){this.cell_open=!1;return d},E.$$arity=
0);a.def(b,"$cell_open?",H=function(){return this.cell_open},H.$$arity=0);a.def(b,"$cell_closed?",ba=function(){return this.cell_open["$!"]()},ba.$$arity=0);a.def(b,"$close_open_cell",T=function(a){null==a&&(a=n([],{}));this.$push_cellspec(a);q(this["$cell_open?"]())&&this.$close_cell(!0);this.$advance();return d},T.$$arity=-1);a.def(b,"$close_cell",ga=function(b){try{var k,l,p=d,r=d,v=d;null==b&&(b=!1);this.format["$=="]("psv")?(p=this.buffer,this.buffer="",q(r=this.$take_cellspec())?v=q(k=r.$delete("repeatcol"))?
k:1:(this.$logger().$error(this.$message_with_context("table missing leading separator; recovering automatically",n(["source_location"],{source_location:e(f(m(w,"Reader"),"Cursor"),"new",a.to_a(this.start_cursor_data))}))),r=n([],{}),v=1)):(p=this.buffer.$strip(),this.buffer="",r=d,v=1,this.format["$=="]("csv")&&q(q(k=p["$empty?"]()["$!"]())?p["$include?"]('"'):k)&&(q(q(k=p["$start_with?"]('"'))?p["$end_with?"]('"'):k)&&(p=p.$slice(1,t(p.$length(),2)).$strip()),p=p.$squeeze('"')));e(1,"upto",[v],
(l=function(k){var x=l.$$s||this,u,C,y,z,A=d,B=d,F=d,A=d;null==x.colcount&&(x.colcount=d);null==x.table&&(x.table=d);null==x.current_row&&(x.current_row=d);null==x.reader&&(x.reader=d);null==x.column_visits&&(x.column_visits=d);null==x.linenum&&(x.linenum=d);null==k&&(k=d);x.colcount["$=="](-1)?(x.table.$columns()["$<<"](A=f(m(w,"Table"),"Column").$new(x.table,t(h(x.table.$columns().$size(),k),1))),q(q(u=q(C=r)?r["$key?"]("colspan"):C)?c(B=t(r["$[]"]("colspan").$to_i(),1),0):u)&&(F=x.table.$columns().$size(),
e(B,"times",[],(y=function(a){var b=y.$$s||this;null==b.table&&(b.table=d);null==a&&(a=d);return b.table.$columns()["$<<"](f(m(w,"Table"),"Column").$new(b.table,h(F,a)))},y.$$s=x,y.$$arity=1,y)))):q(A=x.table.$columns()["$[]"](x.current_row.$size()))||(x.$logger().$error(x.$message_with_context("dropping cell because it exceeds specified number of columns",n(["source_location"],{source_location:x.reader.$cursor_before_mark()}))),a.ret(d));A=f(m(w,"Table"),"Cell").$new(A,p,r,n(["cursor"],{cursor:x.reader.$cursor_before_mark()}));
x.reader.$mark();q(q(u=A.$rowspan()["$!"]())?u:A.$rowspan()["$=="](1))||x.$activate_rowspan(A.$rowspan(),q(u=A.$colspan())?u:1);x.column_visits=h(x.column_visits,q(u=A.$colspan())?u:1);x.current_row["$<<"](A);return q(q(u=x["$end_of_row?"]())?q(C=q(z=x.colcount["$!="](-1))?z:c(x.linenum,0))?C:q(z=b)?k["$=="](v):z:u)?x.$close_row():d},l.$$s=this,l.$$arity=1,l));this.cell_open=!1;return d}catch(x){if(x===a.returner)return x.$v;throw x;}},ga.$$arity=-1);a.def(b,"$close_row",ca=function(){var b,c=d;this.table.$rows().$body()["$<<"](this.current_row);
this.colcount["$=="](-1)&&(this.colcount=this.column_visits);this.column_visits=0;this.current_row=[];this.active_rowspans.$shift();q(b=this.active_rowspans["$[]"](0))?b:(c=[0,0],e(this.active_rowspans,"[]=",a.to_a(c)),c[t(c.length,1)]);return d},ca.$$arity=0);a.def(b,"$activate_rowspan",aa=function(b,c){var g;e((1).$upto(t(b,1)),"each",[],(g=function(b){var f=g.$$s||this,k,m=d;null==f.active_rowspans&&(f.active_rowspans=d);null==b&&(b=d);m=[b,h(q(k=f.active_rowspans["$[]"](b))?k:0,c)];e(f.active_rowspans,
"[]=",a.to_a(m));return m[t(m.length,1)]},g.$$s=this,g.$$arity=1,g));return d},aa.$$arity=2);a.def(b,"$end_of_row?",sa=function(){var a;return q(a=this.colcount["$=="](-1))?a:this.$effective_column_visits()["$=="](this.colcount)},sa.$$arity=0);a.def(b,"$effective_column_visits",la=function(){return h(this.column_visits,this.active_rowspans["$[]"](0))},la.$$arity=0);return(a.def(b,"$advance",ma=function(){return this.linenum=h(this.linenum,1)},ma.$$arity=0),d)&&"advance"})(m(z,"Table"),null,z)}(b[0],
b)};Opal.modules["asciidoctor/converter/composite"]=function(a){var c=[],k=a.nil,p=a.const_get_qualified,r=a.const_get_relative,v=a.module,h=a.klass,b=a.send,d=a.truthy,f=a.hash2;a.add_stubs("$attr_reader $each $compact $flatten $respond_to? $composed $node_name $convert $converter_for $[] $find_converter $[]= $- $handles? $raise".split(" "));return function(c,g){var l=[v(c,"Asciidoctor")].concat(g);(function(c,$super,g){function m(){}c=m=h(c,$super,"CompositeConverter",m);var l=c.$$proto;[c].concat(g);
var p,t,r,v;l.converter_map=l.converters=k;c.$attr_reader("converters");a.def(c,"$initialize",p=function(a,c){var e,g,h=arguments.length;g=h-1;0>g&&(g=0);g=Array(g);for(var m=1;m<h;m++)g[m-1]=arguments[m];this.backend=a;b(this.converters=g.$flatten().$compact(),"each",[],(e=function(a){var b=e.$$s||this;null==a&&(a=k);return d(a["$respond_to?"]("composed"))?a.$composed(b):k},e.$$s=this,e.$$arity=1,e));return this.converter_map=f([],{})},p.$$arity=-2);a.def(c,"$convert",t=function(a,b,c){var e;null==
b&&(b=k);null==c&&(c=f([],{}));b=d(e=b)?e:a.$node_name();return this.$converter_for(b).$convert(a,b,c)},t.$$arity=-2);a.alias(c,"convert_with_options","convert");a.def(c,"$converter_for",r=function(c){var e;e=k;d(e=this.converter_map["$[]"](c))?c=e:(e=[c,this.$find_converter(c)],b(this.converter_map,"[]=",a.to_a(e)),c=e,e=e.length,e="number"===typeof e?e-1:e["$-"](1),c=c[e]);return c},r.$$arity=1);return(a.def(c,"$find_converter",v=function(c){try{var e;b(this.converters,"each",[],(e=function(b){null==
b&&(b=k);if(d(b["$handles?"](c)))a.ret(b);else return k},e.$$s=this,e.$$arity=1,e));return this.$raise("Could not find a converter to handle transform: "+c)}catch(g){if(g===a.returner)return g.$v;throw g;}},v.$$arity=1),k)&&"find_converter"})(r(l,"Converter"),p(r(l,"Converter"),"Base"),l)}(c[0],c)};Opal.modules["asciidoctor/converter/html5"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a*b:
a["$*"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function v(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var b=[],d=a.nil,f=a.const_get_qualified,m=a.const_get_relative,x=a.module,l=a.klass,e=a.send,q=a.hash2,n=a.truthy,u=a.range,z=a.gvars;a.add_stubs("$default= $- $== $[] $instance $empty? $attr $attr? $<< $include? $gsub $extname $doctitle $normalize_web_path $embed_primary_stylesheet $read_asset $normalize_system_path $=== $coderay_stylesheet_name $embed_coderay_stylesheet $pygments_stylesheet_name $embed_pygments_stylesheet $docinfo $id $sections? $doctype $* $noheader $outline $generate_manname_section $has_header? $notitle $title $header $sub_macros $> $to_i $each $downcase $concat $content $footnotes? $! $footnotes $index $text $nofooter $inspect $!= $document $sections $level $caption $captioned_title $numbered $<= $sectnum $< $key? $attributes $role $+ $title? $icon_uri $compact $media_uri $option? $append_boolean_attribute $style $items $blocks? $text? $chomp $safe $read_svg_contents $alt $image_uri $encode_quotes $join $append_link_constraint_attrs $pygments_background $to_sym $count $start_with? $end_with? $list_marker_keyword $parent $warn $logger $context $error $new $size $columns $by_section $rows $colspan $rowspan $role? $unshift $shift $split $nil_or_empty? $type $catalog $xreftext $target $map $chop $upcase $read_contents $sub $match $length".split(" "));
return function(b,A){var E=[x(b,"Asciidoctor")].concat(A);(function(b,$super,x){function C(){}b=C=l(b,$super,"Html5Converter",C);var w=b.$$proto,A=[b].concat(x),E,L,N,O,X,R,P,ja,Z,H,ba,T,ga,ca,aa,sa,la,ma,ha,pa,Y,S,da,ia,xa,ra,wa,ua,va,ya,Aa,Ea,Ba,Ca,Da,Ha,Ia,M,Ka,oa,Fa,Ja,Ga;x=d;w.xml_mode=w.void_element_slash=w.stylesheets=w.pygments_bg=w.refs=d;x=[["","",!1]];e(a.const_set(A[0],"QUOTE_TAGS",q("monospaced emphasis strong double single mark superscript subscript asciimath latexmath".split(" "),{monospaced:["<code>",
"</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],"double":["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]})),"default=",a.to_a(x));x[c(x.length,1)];a.const_set(A[0],"DropAnchorRx",/<(?:a[^>+]+|\/a)>/);a.const_set(A[0],"StemBreakRx",/ *\\\n(?:\\?\n)*|\n\n+/);a.const_set(A[0],"SvgPreambleRx",/^.*?(?=<svg\b)/m);a.const_set(A[0],
"SvgStartTagRx",/^<svg[^>]*>/);a.const_set(A[0],"DimensionAttributeRx",/\s(?:width|height|style)=(["'])[^\n]*?\1/);a.def(b,"$initialize",E=function(a,b){null==b&&(b=q([],{}));this.xml_mode=b["$[]"]("htmlsyntax")["$=="]("xml");this.void_element_slash=n(this.xml_mode)?"/":d;return this.stylesheets=m(A,"Stylesheets").$instance()},E.$$arity=-2);a.def(b,"$document",L=function(b){var c,g,h,l,r,w=d,v=d,x=d,y=d,C=d,z=d,B=d,E=d,J=B=d,H=d,I=C=J=C=J=B=J=B=B=d,M=d,w=w=C=C=J=d,w=this.void_element_slash,v="<br"+
w+">";n((x=b.$attr("asset-uri-scheme","https"))["$empty?"]())||(x=""+x+":");y=""+x+"//cdnjs.cloudflare.com/ajax/libs";C=b["$attr?"]("linkcss");z=["<!DOCTYPE html>"];B=n(b["$attr?"]("nolang"))?"":' lang="'+b.$attr("lang","en")+'"';z["$<<"]("<html"+(n(this.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':"")+B+">");z["$<<"]('<head>\n<meta charset="'+b.$attr("encoding","UTF-8")+'"'+w+'>\n\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+w+'><![endif]--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+
w+'>\n<meta name="generator" content="Asciidoctor '+b.$attr("asciidoctor-version")+'"'+w+">");if(n(b["$attr?"]("app-name")))z["$<<"]('<meta name="application-name" content="'+b.$attr("app-name")+'"'+w+">");if(n(b["$attr?"]("description")))z["$<<"]('<meta name="description" content="'+b.$attr("description")+'"'+w+">");if(n(b["$attr?"]("keywords")))z["$<<"]('<meta name="keywords" content="'+b.$attr("keywords")+'"'+w+">");if(n(b["$attr?"]("authors")))z["$<<"]('<meta name="author" content="'+(n((E=b.$attr("authors"))["$include?"]("<"))?
E.$gsub(m(A,"XmlSanitizeRx"),""):E)+'"'+w+">");if(n(b["$attr?"]("copyright")))z["$<<"]('<meta name="copyright" content="'+b.$attr("copyright")+'"'+w+">");n(b["$attr?"]("favicon"))&&(n((B=b.$attr("favicon"))["$empty?"]())?(c=["favicon.ico","image/x-icon"],B=c[0],J=c[1],c):J=(H=f("::","File").$extname(B))["$=="](".ico")?"image/x-icon":"image/"+H["$[]"](u(1,-1,!1)),z["$<<"]('<link rel="icon" type="'+J+'" href="'+B+'"'+w+">"));z["$<<"]("<title>"+b.$doctitle(q(["sanitize","use_fallback"],{sanitize:!0,
use_fallback:!0}))+"</title>");if(n(m(A,"DEFAULT_STYLESHEET_KEYS")["$include?"](b.$attr("stylesheet")))){if(n(B=b.$attr("webfonts")))z["$<<"]('<link rel="stylesheet" href="'+x+"//fonts.googleapis.com/css?family="+(n(B["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":B)+'"'+w+">");if(n(C))z["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(m(A,"DEFAULT_STYLESHEET_NAME"),b.$attr("stylesdir",""),!1)+'"'+
w+">");else z["$<<"](this.stylesheets.$embed_primary_stylesheet())}else if(n(b["$attr?"]("stylesheet")))if(n(C))z["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(b.$attr("stylesheet"),b.$attr("stylesdir",""))+'"'+w+">");else z["$<<"]("<style>\n"+b.$read_asset(b.$normalize_system_path(b.$attr("stylesheet"),b.$attr("stylesdir","")),q(["warn_on_failure","label"],{warn_on_failure:!0,label:"stylesheet"}))+"\n</style>");if(n(b["$attr?"]("icons","font")))if(n(b["$attr?"]("iconfont-remote")))z["$<<"]('<link rel="stylesheet" href="'+
b.$attr("iconfont-cdn",""+y+"/font-awesome/"+m(A,"FONT_AWESOME_VERSION")+"/css/font-awesome.min.css")+'"'+w+">");else B=""+b.$attr("iconfont-name","font-awesome")+".css",z["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(B,b.$attr("stylesdir",""),!1)+'"'+w+">");J=B=b.$attr("source-highlighter");if("coderay"["$==="](J)){if(b.$attr("coderay-css","class")["$=="]("class"))if(n(C))z["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(this.stylesheets.$coderay_stylesheet_name(),b.$attr("stylesdir",
""),!1)+'"'+w+">");else z["$<<"](this.stylesheets.$embed_coderay_stylesheet())}else if("pygments"["$==="](J)&&b.$attr("pygments-css","class")["$=="]("class"))if(J=b.$attr("pygments-style"),n(C))z["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(this.stylesheets.$pygments_stylesheet_name(J),b.$attr("stylesdir",""),!1)+'"'+w+">");else z["$<<"](this.stylesheets.$embed_pygments_stylesheet(J));if(!n((C=b.$docinfo())["$empty?"]()))z["$<<"](C);z["$<<"]("</head>");J=n(b.$id())?['id="'+b.$id()+
'"']:[];I=n(n(c=n(g=n(h=C=b["$sections?"]())?b["$attr?"]("toc-class"):h)?b["$attr?"]("toc"):g)?b["$attr?"]("toc-placement","auto"):c)?[b.$doctype(),b.$attr("toc-class"),"toc-"+b.$attr("toc-position","header")]:[b.$doctype()];if(n(b["$attr?"]("docrole")))I["$<<"](b.$attr("docrole"));J["$<<"]('class="'+k(I," ")+'"');if(n(b["$attr?"]("max-width")))J["$<<"]('style="max-width: '+b.$attr("max-width")+';"');z["$<<"]("<body "+k(J," ")+">");if(!n(b.$noheader())){z["$<<"]('<div id="header">');if(b.$doctype()["$=="]("manpage")){z["$<<"]("<h1>"+
b.$doctitle()+" Manual Page</h1>");if(n(n(c=n(g=C)?b["$attr?"]("toc"):g)?b["$attr?"]("toc-placement","auto"):c))z["$<<"]('<div id="toc" class="'+b.$attr("toc-class","toc")+'">\n<div id="toctitle">'+b.$attr("toc-title")+"</div>\n"+this.$outline(b)+"\n</div>");if(n(b["$attr?"]("manpurpose")))z["$<<"](this.$generate_manname_section(b))}else{if(n(b["$has_header?"]())){if(!n(b.$notitle()))z["$<<"]("<h1>"+b.$header().$title()+"</h1>");M=[];if(n(b["$attr?"]("author"))){M["$<<"]('<span id="author" class="author">'+
b.$attr("author")+"</span>"+v);if(n(b["$attr?"]("email")))M["$<<"]('<span id="email" class="email">'+b.$sub_macros(b.$attr("email"))+"</span>"+v);n(p(J=b.$attr("authorcount").$to_i(),1))&&e(a.Range.$new(2,J,!1),"each",[],(l=function(a){null==a&&(a=d);M["$<<"]('<span id="author'+a+'" class="author">'+b.$attr("author_"+a)+"</span>"+v);return n(b["$attr?"]("email_"+a))?M["$<<"]('<span id="email'+a+'" class="email">'+b.$sub_macros(b.$attr("email_"+a))+"</span>"+v):d},l.$$s=this,l.$$arity=1,l))}if(n(b["$attr?"]("revnumber")))M["$<<"]('<span id="revnumber">'+
(n(c=b.$attr("version-label"))?c:"").$downcase()+" "+b.$attr("revnumber")+(n(b["$attr?"]("revdate"))?",":"")+"</span>");if(n(b["$attr?"]("revdate")))M["$<<"]('<span id="revdate">'+b.$attr("revdate")+"</span>");if(n(b["$attr?"]("revremark")))M["$<<"](""+v+'<span id="revremark">'+b.$attr("revremark")+"</span>");n(M["$empty?"]())||(z["$<<"]('<div class="details">'),z.$concat(M),z["$<<"]("</div>"))}if(n(n(c=n(g=C)?b["$attr?"]("toc"):g)?b["$attr?"]("toc-placement","auto"):c))z["$<<"]('<div id="toc" class="'+
b.$attr("toc-class","toc")+'">\n<div id="toctitle">'+b.$attr("toc-title")+"</div>\n"+this.$outline(b)+"\n</div>")}z["$<<"]("</div>")}z["$<<"]('<div id="content">\n'+b.$content()+"\n</div>");n(n(c=b["$footnotes?"]())?b["$attr?"]("nofootnotes")["$!"]():c)&&(z["$<<"]('<div id="footnotes">\n<hr'+w+">"),e(b.$footnotes(),"each",[],(r=function(a){null==a&&(a=d);return z["$<<"]('<div class="footnote" id="_footnotedef_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+
"\n</div>")},r.$$s=this,r.$$arity=1,r)),z["$<<"]("</div>"));if(!n(b.$nofooter())){z["$<<"]('<div id="footer">');z["$<<"]('<div id="footer-text">');if(n(b["$attr?"]("revnumber")))z["$<<"](""+b.$attr("version-label")+" "+b.$attr("revnumber")+v);if(n(n(c=b["$attr?"]("last-update-label"))?b["$attr?"]("reproducible")["$!"]():c))z["$<<"](""+b.$attr("last-update-label")+" "+b.$attr("docdatetime"));z["$<<"]("</div>");z["$<<"]("</div>")}if(!n((C=b.$docinfo("footer"))["$empty?"]()))z["$<<"](C);J=B;"highlightjs"["$==="](J)||
"highlight.js"["$==="](J)?(C=b.$attr("highlightjsdir",""+y+"/highlight.js/9.12.0"),z["$<<"]('<link rel="stylesheet" href="'+C+"/styles/"+b.$attr("highlightjs-theme","github")+'.min.css"'+w+">"),z["$<<"]('<script src="'+C+'/highlight.min.js">\x3c/script>\n<script>hljs.initHighlighting()\x3c/script>')):"prettify"["$==="](J)&&(C=b.$attr("prettifydir",""+y+"/prettify/r298"),z["$<<"]('<link rel="stylesheet" href="'+C+"/"+b.$attr("prettify-theme","prettify")+'.min.css"'+w+">"),z["$<<"]('<script src="'+
C+'/prettify.min.js">\x3c/script>\n<script>prettyPrint()\x3c/script>'));n(b["$attr?"]("stem"))&&(w=b.$attr("eqnums","none"),n(w["$empty?"]())&&(w="AMS"),w=' equationNumbers: { autoNumber: "'+w+'" } ',z["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+m(A,"INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+m(A,"BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+
m(A,"BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+w+'}\n});\n\x3c/script>\n<script src="'+y+"/mathjax/"+m(A,"MATHJAX_VERSION")+'/MathJax.js?config=TeX-MML-AM_HTMLorMML">\x3c/script>'));z["$<<"]("</body>");z["$<<"]("</html>");return k(z,m(A,"LF"))},L.$$arity=1);a.def(b,"$embedded",N=function(a){var b,c,g,f,h=d,l=d,q=d,h=[];if(a.$doctype()["$=="]("manpage")){if(n(a.$notitle())||(l=n(a.$id())?' id="'+a.$id()+'"':"",h["$<<"]("<h1"+
l+">"+a.$doctitle()+" Manual Page</h1>")),n(a["$attr?"]("manpurpose")))h["$<<"](this.$generate_manname_section(a))}else n(n(b=a["$has_header?"]())?a.$notitle()["$!"]():b)&&(l=n(a.$id())?' id="'+a.$id()+'"':"",h["$<<"]("<h1"+l+">"+a.$header().$title()+"</h1>"));if(n(n(b=n(c=n(g=a["$sections?"]())?a["$attr?"]("toc"):g)?(q=a.$attr("toc-placement"))["$!="]("macro"):c)?q["$!="]("preamble"):b))h["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>");
h["$<<"](a.$content());n(n(b=a["$footnotes?"]())?a["$attr?"]("nofootnotes")["$!"]():b)&&(h["$<<"]('<div id="footnotes">\n<hr'+this.void_element_slash+">"),e(a.$footnotes(),"each",[],(f=function(a){null==a&&(a=d);return h["$<<"]('<div class="footnote" id="_footnotedef_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},f.$$s=this,f.$$arity=1,f)),h["$<<"]("</div>"));return k(h,m(A,"LF"))},N.$$arity=1);a.def(b,"$outline",O=function(a,b){var c,g,f=d,h=
d,l=d,p=d;null==b&&(b=q([],{}));if(!n(a["$sections?"]()))return d;f=n(c=b["$[]"]("sectnumlevels"))?c:a.$document().$attr("sectnumlevels",3).$to_i();h=n(c=b["$[]"]("toclevels"))?c:a.$document().$attr("toclevels",2).$to_i();l=a.$sections();p=['<ul class="sectlevel'+l["$[]"](0).$level()+'">'];e(l,"each",[],(g=function(a){var b=g.$$s||this,c,e=d,k=d,l=d;null==a&&(a=d);e=a.$level();k=n(a.$caption())?a.$captioned_title():n(n(c=a.$numbered())?r(e,f):c)?""+a.$sectnum()+" "+a.$title():a.$title();n(k["$include?"]("<a"))&&
(k=k.$gsub(m(A,"DropAnchorRx"),""));return n(n(c=v(e,h))?l=b.$outline(a,q(["toclevels","secnumlevels"],{toclevels:h,secnumlevels:f})):c)?(p["$<<"]('<li><a href="#'+a.$id()+'">'+k+"</a>"),p["$<<"](l),p["$<<"]("</li>")):p["$<<"]('<li><a href="#'+a.$id()+'">'+k+"</a></li>")},g.$$s=this,g.$$arity=1,g));p["$<<"]("</ul>");return k(p,m(A,"LF"))},O.$$arity=-2);a.def(b,"$section",X=function(a){var b,c,e=d,g=d,f=d,k=d,m=d,l=d,p=d;(e=a.$level())["$=="](0)?(g=!0,f=n(n(b=a.$numbered())?r(e,a.$document().$attr("sectnumlevels",
3).$to_i()):b)?""+a.$sectnum()+" "+a.$title():a.$title()):f=n(n(b=n(c=a.$numbered())?a.$caption()["$!"]():c)?r(e,a.$document().$attr("sectnumlevels",3).$to_i()):b)?""+a.$sectnum()+" "+a.$title():a.$captioned_title();n(a.$id())?(k=' id="'+(m=a.$id())+'"',n((l=a.$document().$attributes())["$key?"]("sectlinks"))&&(f='<a class="link" href="#'+m+'">'+f+"</a>"),n(l["$key?"]("sectanchors"))&&(f=l["$[]"]("sectanchors")["$=="]("after")?""+f+'<a class="anchor" href="#'+m+'"></a>':'<a class="anchor" href="#'+
m+'"></a>'+f)):k="";return n(g)?"<h1"+k+' class="sect0'+(n(p=a.$role())?" "+p:"")+'">'+f+"</h1>\n"+a.$content():'<div class="sect'+e+(n(p=a.$role())?" "+p:"")+'">\n<h'+h(e,1)+k+">"+f+"</h"+h(e,1)+">\n"+(e["$=="](1)?'<div class="sectionbody">\n'+a.$content()+"\n</div>":a.$content())+"\n</div>"},X.$$arity=1);a.def(b,"$admonition",R=function(a){var b,c=d,e=d,g=d,f=d,h=d,c=n(a.$id())?' id="'+a.$id()+'"':"",e=a.$attr("name"),g=n(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"",f=n(a.$document()["$attr?"]("icons"))?
n(n(b=a.$document()["$attr?"]("icons","font"))?a["$attr?"]("icon")["$!"]():b)?'<i class="fa icon-'+e+'" title="'+a.$attr("textlabel")+'"></i>':'<img src="'+a.$icon_uri(e)+'" alt="'+a.$attr("textlabel")+'"'+this.void_element_slash+">":'<div class="title">'+a.$attr("textlabel")+"</div>";return"<div"+c+' class="admonitionblock '+e+(n(h=a.$role())?" "+h:"")+'">\n<table>\n<tr>\n<td class="icon">\n'+f+'\n</td>\n<td class="content">\n'+g+a.$content()+"\n</td>\n</tr>\n</table>\n</div>"},R.$$arity=1);a.def(b,
"$audio",P=function(a){var b,c=d,e=d,g=d,f=g=d,h=d,m=d,h=d,c=this.xml_mode,e=n(a.$id())?' id="'+a.$id()+'"':"",g=["audioblock",a.$role()].$compact(),g=' class="'+k(g," ")+'"',f=n(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"",h=a.$attr("start",d,!1),m=a.$attr("end",d,!1),h=n(n(b=h)?b:m)?"#t="+(n(b=h)?b:"")+(n(m)?","+m:""):"";return"<div"+e+g+">\n"+f+'<div class="content">\n<audio src="'+a.$media_uri(a.$attr("target"))+h+'"'+(n(a["$option?"]("autoplay"))?this.$append_boolean_attribute("autoplay",
c):"")+(n(a["$option?"]("nocontrols"))?"":this.$append_boolean_attribute("controls",c))+(n(a["$option?"]("loop"))?this.$append_boolean_attribute("loop",c):"")+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},P.$$arity=1);a.def(b,"$colist",ja=function(a){var b,c,g=d,f=d,l=d,p=l=d,q=d,g=[],f=n(a.$id())?' id="'+a.$id()+'"':"",l=["colist",a.$style(),a.$role()].$compact(),l=' class="'+k(l," ")+'"';g["$<<"]("<div"+f+l+">");if(n(a["$title?"]()))g["$<<"]('<div class="title">'+
a.$title()+"</div>");n(a.$document()["$attr?"]("icons"))?(g["$<<"]("<table>"),b=[a.$document()["$attr?"]("icons","font"),0],p=b[0],q=b[1],b,e(a.$items(),"each",[],(c=function(b){var e=c.$$s||this,f=d;null==e.void_element_slash&&(e.void_element_slash=d);null==b&&(b=d);q=h(q,1);f=n(p)?'<i class="conum" data-value="'+q+'"></i><b>'+q+"</b>":'<img src="'+a.$icon_uri("callouts/"+q)+'" alt="'+q+'"'+e.void_element_slash+">";return g["$<<"]("<tr>\n<td>"+f+"</td>\n<td>"+b.$text()+(n(b["$blocks?"]())?h(m(A,
"LF"),b.$content()):"")+"</td>\n</tr>")},c.$$s=this,c.$$arity=1,c)),g["$<<"]("</table>")):(g["$<<"]("<ol>"),e(a.$items(),"each",[],(b=function(a){null==a&&(a=d);return g["$<<"]("<li>\n<p>"+a.$text()+"</p>"+(n(a["$blocks?"]())?h(m(A,"LF"),a.$content()):"")+"\n</li>")},b.$$s=this,b.$$arity=1,b)),g["$<<"]("</ol>"));g["$<<"]("</div>");return k(g,m(A,"LF"))},ja.$$arity=1);a.def(b,"$dlist",Z=function(b){var c,g,f,h,l=d,p=d,q=d,t=q=q=d,r=p=d,l=[],p=n(b.$id())?' id="'+b.$id()+'"':"",q=b.$style(),q=("qanda"["$==="](q)?
["qlist","qanda",b.$role()]:"horizontal"["$==="](q)?["hdlist",b.$role()]:["dlist",b.$style(),b.$role()]).$compact(),q=' class="'+k(q," ")+'"';l["$<<"]("<div"+p+q+">");if(n(b["$title?"]()))l["$<<"]('<div class="title">'+b.$title()+"</div>");q=b.$style();"qanda"["$==="](q)?(l["$<<"]("<ol>"),e(b.$items(),"each",[],(c=function(b,g){var f=c.$$s||this,h;null==b&&(b=d);null==g&&(g=d);l["$<<"]("<li>");e([].concat(a.to_a(b)),"each",[],(h=function(a){null==a&&(a=d);return l["$<<"]("<p><em>"+a.$text()+"</em></p>")},
h.$$s=f,h.$$arity=1,h));if(n(g)){if(n(g["$text?"]()))l["$<<"]("<p>"+g.$text()+"</p>");if(n(g["$blocks?"]()))l["$<<"](g.$content())}return l["$<<"]("</li>")},c.$$s=this,c.$$arity=2,c)),l["$<<"]("</ol>")):"horizontal"["$==="](q)?(t=this.void_element_slash,l["$<<"]("<table>"),n(n(g=b["$attr?"]("labelwidth"))?g:b["$attr?"]("itemwidth"))&&(l["$<<"]("<colgroup>"),p=n(b["$attr?"]("labelwidth"))?' style="width: '+b.$attr("labelwidth").$chomp("%")+'%;"':"",l["$<<"]("<col"+p+t+">"),p=n(b["$attr?"]("itemwidth"))?
' style="width: '+b.$attr("itemwidth").$chomp("%")+'%;"':"",l["$<<"]("<col"+p+t+">"),l["$<<"]("</colgroup>")),e(b.$items(),"each",[],(f=function(c,g){var h=f.$$s||this,k,m=d,q=d;null==c&&(c=d);null==g&&(g=d);l["$<<"]("<tr>");l["$<<"]('<td class="hdlist1'+(n(b["$option?"]("strong"))?" strong":"")+'">');m=[].concat(a.to_a(c));q=m["$[]"](-1);e(m,"each",[],(k=function(a){null==a&&(a=d);l["$<<"](a.$text());return n(a["$!="](q))?l["$<<"]("<br"+t+">"):d},k.$$s=h,k.$$arity=1,k));l["$<<"]("</td>");l["$<<"]('<td class="hdlist2">');
if(n(g)){if(n(g["$text?"]()))l["$<<"]("<p>"+g.$text()+"</p>");if(n(g["$blocks?"]()))l["$<<"](g.$content())}l["$<<"]("</td>");return l["$<<"]("</tr>")},f.$$s=this,f.$$arity=2,f)),l["$<<"]("</table>")):(l["$<<"]("<dl>"),r=n(b.$style())?"":' class="hdlist1"',e(b.$items(),"each",[],(h=function(b,c){var g=h.$$s||this,f;null==b&&(b=d);null==c&&(c=d);e([].concat(a.to_a(b)),"each",[],(f=function(a){null==a&&(a=d);return l["$<<"]("<dt"+r+">"+a.$text()+"</dt>")},f.$$s=g,f.$$arity=1,f));if(n(c)){l["$<<"]("<dd>");
if(n(c["$text?"]()))l["$<<"]("<p>"+c.$text()+"</p>");if(n(c["$blocks?"]()))l["$<<"](c.$content());return l["$<<"]("</dd>")}return d},h.$$s=this,h.$$arity=2,h)),l["$<<"]("</dl>"));l["$<<"]("</div>");return k(l,m(A,"LF"))},Z.$$arity=1);a.def(b,"$example",H=function(a){var b=d,c=d,e=d,b=n(a.$id())?' id="'+a.$id()+'"':"",c=n(a["$title?"]())?'<div class="title">'+a.$captioned_title()+"</div>\n":"";return"<div"+b+' class="exampleblock'+(n(e=a.$role())?" "+e:"")+'">\n'+c+'<div class="content">\n'+a.$content()+
"\n</div>\n</div>"},H.$$arity=1);a.def(b,"$floating_title",ba=function(a){var b=d,c=d,e=d,b="h"+h(a.$level(),1),c=n(a.$id())?' id="'+a.$id()+'"':"",e=[a.$style(),a.$role()].$compact();return"<"+b+c+' class="'+k(e," ")+'">'+a.$title()+"</"+b+">"},ba.$$arity=1);a.def(b,"$image",T=function(a){var b,c,e,g=d,h=d,l=d,q=d,p=d,t=d,r=d,r=l=l=h=h=g=d,g=a.$attr("target"),h=n(a["$attr?"]("width"))?' width="'+a.$attr("width")+'"':"",l=n(a["$attr?"]("height"))?' height="'+a.$attr("height")+'"':"";n(n(b=n(c=n(e=
a["$attr?"]("format","svg",!1))?e:g["$include?"](".svg"))?v(a.$document().$safe(),f(m(A,"SafeMode"),"SECURE")):c)?n(c=q=a["$option?"]("inline"))?c:p=a["$option?"]("interactive"):b)&&(n(q)?t=n(b=this.$read_svg_contents(a,g))?b:'<span class="alt">'+a.$alt()+"</span>":n(p)&&(r=n(a["$attr?"]("fallback"))?'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+this.$encode_quotes(a.$alt())+'"'+h+l+this.void_element_slash+">":'<span class="alt">'+a.$alt()+"</span>",t='<object type="image/svg+xml" data="'+
a.$image_uri(g)+'"'+h+l+">"+r+"</object>"));t=n(b=t)?b:'<img src="'+a.$image_uri(g)+'" alt="'+this.$encode_quotes(a.$alt())+'"'+h+l+this.void_element_slash+">";n(a["$attr?"]("link",d,!1))&&(t='<a class="image" href="'+a.$attr("link")+'"'+this.$append_link_constraint_attrs(a).$join()+">"+t+"</a>");g=n(a.$id())?' id="'+a.$id()+'"':"";h=["imageblock",a.$role()].$compact();h=' class="'+k(h," ")+'"';l=[];if(n(a["$attr?"]("align")))l["$<<"]("text-align: "+a.$attr("align"));if(n(a["$attr?"]("float")))l["$<<"]("float: "+
a.$attr("float"));l=n(l["$empty?"]())?"":' style="'+k(l,";")+'"';r=n(a["$title?"]())?'\n<div class="title">'+a.$captioned_title()+"</div>":"";return"<div"+g+h+l+'>\n<div class="content">\n'+t+"\n</div>"+r+"\n</div>"},T.$$arity=1);a.def(b,"$listing",ga=function(a){var b,c=d,e=d,g=d,f=d,h=f=c=g=c=d,k=d,c=n(b=a.$document()["$attr?"]("prewrap")["$!"]())?b:a["$option?"]("nowrap");a.$style()["$=="]("source")?(g=n(e=a.$attr("language",d,!1))?' data-lang="'+e+'"':"",f=a.$document().$attr("source-highlighter"),
"coderay"["$==="](f)?c=' class="CodeRay highlight'+(n(c)?" nowrap":"")+'"':"pygments"["$==="](f)?n(a.$document()["$attr?"]("pygments-css","inline"))?(n((b=this.pygments_bg,null!=b&&b!==d)?"instance-variable":d)||(this.pygments_bg=this.stylesheets.$pygments_background(a.$document().$attr("pygments-style"))),c=' class="pygments highlight'+(n(c)?" nowrap":"")+'" style="background: '+this.pygments_bg+'"'):c=' class="pygments highlight'+(n(c)?" nowrap":"")+'"':"highlightjs"["$==="](f)||"highlight.js"["$==="](f)?
(c=' class="highlightjs highlight'+(n(c)?" nowrap":"")+'"',n(e)&&(g=' class="language-'+e+' hljs"'+g)):"prettify"["$==="](f)?(c=' class="prettyprint highlight'+(n(c)?" nowrap":"")+(n(a["$attr?"]("linenums",d,!1))?" linenums":"")+'"',n(e)&&(g=' class="language-'+e+'"'+g)):"html-pipeline"["$==="](f)?(c=n(e)?' lang="'+e+'"':"",g=""):(c=' class="highlight'+(n(c)?" nowrap":"")+'"',n(e)&&(g=' class="language-'+e+'"'+g)),g="<pre"+c+"><code"+g+">",c="</code></pre>"):(g="<pre"+(n(c)?' class="nowrap"':"")+
">",c="</pre>");f=n(a.$id())?' id="'+a.$id()+'"':"";h=n(a["$title?"]())?'<div class="title">'+a.$captioned_title()+"</div>\n":"";return"<div"+f+' class="listingblock'+(n(k=a.$role())?" "+k:"")+'">\n'+h+'<div class="content">\n'+g+a.$content()+c+"\n</div>\n</div>"},ga.$$arity=1);a.def(b,"$literal",ca=function(a){var b,c=d,e=d,g=d,f=d,c=n(a.$id())?' id="'+a.$id()+'"':"",e=n(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"",g=n(b=a.$document()["$attr?"]("prewrap")["$!"]())?b:a["$option?"]("nowrap");
return"<div"+c+' class="literalblock'+(n(f=a.$role())?" "+f:"")+'">\n'+e+'<div class="content">\n<pre'+(n(g)?' class="nowrap"':"")+">"+a.$content()+"</pre>\n</div>\n</div>"},ca.$$arity=1);a.def(b,"$stem",aa=function(b){var c,g,f,h=d,l=d,q=d,p=d,t=d,r=g=d,w=d,h=n(b.$id())?' id="'+b.$id()+'"':"",l=n(b["$title?"]())?'<div class="title">'+b.$title()+"</div>\n":"";g=m(A,"BLOCK_MATH_DELIMITERS")["$[]"](q=b.$style().$to_sym());c=a.to_ary(g);p=null==c[0]?d:c[0];t=null==c[1]?d:c[1];g;g=b.$content();n((c=q["$=="]("asciimath"))?
g["$include?"](m(A,"LF")):q["$=="]("asciimath"))&&(r="<br"+this.void_element_slash+">"+m(A,"LF"),g=e(g,"gsub",[m(A,"StemBreakRx")],(f=function(){var a;return""+t+k(r,((a=z["~"])===d?d:a["$[]"](0)).$count(m(A,"LF")))+p},f.$$s=this,f.$$arity=0,f)));n(n(c=g["$start_with?"](p))?g["$end_with?"](t):c)||(g=""+p+g+t);return"<div"+h+' class="stemblock'+(n(w=b.$role())?" "+w:"")+'">\n'+l+'<div class="content">\n'+g+"\n</div>\n</div>"},aa.$$arity=1);a.def(b,"$olist",sa=function(a){var b,c=d,g=d,f=d,h=g=f=d,
l=f=d,c=[],g=n(a.$id())?' id="'+a.$id()+'"':"",f=["olist",a.$style(),a.$role()].$compact(),f=' class="'+k(f," ")+'"';c["$<<"]("<div"+g+f+">");if(n(a["$title?"]()))c["$<<"]('<div class="title">'+a.$title()+"</div>");g=n(h=a.$list_marker_keyword())?' type="'+h+'"':"";f=n(a["$attr?"]("start"))?' start="'+a.$attr("start")+'"':"";l=n(a["$option?"]("reversed"))?this.$append_boolean_attribute("reversed",this.xml_mode):"";c["$<<"]('<ol class="'+a.$style()+'"'+g+f+l+">");e(a.$items(),"each",[],(b=function(a){null==
a&&(a=d);c["$<<"]("<li>");c["$<<"]("<p>"+a.$text()+"</p>");if(n(a["$blocks?"]()))c["$<<"](a.$content());return c["$<<"]("</li>")},b.$$s=this,b.$$arity=1,b));c["$<<"]("</ol>");c["$<<"]("</div>");return k(c,m(A,"LF"))},sa.$$arity=1);a.def(b,"$open",la=function(a){var b,c,e,g=d,f=d,h=d,k=d;if((g=a.$style())["$=="]("abstract")){if(n(a.$parent()["$=="](a.$document())?a.$document().$doctype()["$=="]("book"):a.$parent()["$=="](a.$document())))return this.$logger().$warn("abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),
"";f=n(a.$id())?' id="'+a.$id()+'"':"";h=n(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";return"<div"+f+' class="quoteblock abstract'+(n(k=a.$role())?" "+k:"")+'">\n'+h+"<blockquote>\n"+a.$content()+"\n</blockquote>\n</div>"}if(n((b=g["$=="]("partintro"))?n(c=n(e=p(a.$level(),0))?e:a.$parent().$context()["$!="]("section"))?c:a.$document().$doctype()["$!="]("book"):g["$=="]("partintro")))return this.$logger().$error("partintro block can only be used when doctype is book and must be a child of a book part. Excluding block content."),
"";f=n(a.$id())?' id="'+a.$id()+'"':"";h=n(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";return"<div"+f+' class="openblock'+(n(n(b=g)?g["$!="]("open"):b)?" "+g:"")+(n(k=a.$role())?" "+k:"")+'">\n'+h+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"},la.$$arity=1);a.def(b,"$page_break",ma=function(a){return'<div style="page-break-after: always;"></div>'},ma.$$arity=1);a.def(b,"$paragraph",ha=function(a){var b=d,b=d,b=n(a.$role())?'class="paragraph '+a.$role()+'"':'class="paragraph"',
b=n(a.$id())?'id="'+a.$id()+'" '+b:b;return n(a["$title?"]())?"<div "+b+'>\n<div class="title">'+a.$title()+"</div>\n<p>"+a.$content()+"</p>\n</div>":"<div "+b+">\n<p>"+a.$content()+"</p>\n</div>"},ha.$$arity=1);a.def(b,"$preamble",pa=function(a){var b,c,e=d,g=d,g=n(n(b=n(c=(e=a.$document())["$attr?"]("toc-placement","preamble"))?e["$sections?"]():c)?e["$attr?"]("toc"):b)?'\n<div id="toc" class="'+e.$attr("toc-class","toc")+'">\n<div id="toctitle">'+e.$attr("toc-title")+"</div>\n"+this.$outline(e)+
"\n</div>":"";return'<div id="preamble">\n<div class="sectionbody">\n'+a.$content()+"\n</div>"+g+"\n</div>"},pa.$$arity=1);a.def(b,"$quote",Y=function(a){var b,c=d,e=d,g=e=d,f=d,h=d,m=d,m=f=d,c=n(a.$id())?' id="'+a.$id()+'"':"",e=["quoteblock",a.$role()].$compact(),e=' class="'+k(e," ")+'"',g=n(a["$title?"]())?'\n<div class="title">'+a.$title()+"</div>":"",f=n(a["$attr?"]("attribution"))?a.$attr("attribution"):d,h=n(a["$attr?"]("citetitle"))?a.$attr("citetitle"):d;n(n(b=f)?b:h)?(m=n(h)?"<cite>"+h+
"</cite>":"",f=n(f)?"&#8212; "+f+(n(h)?"<br"+this.void_element_slash+">\n":""):"",m='\n<div class="attribution">\n'+f+m+"\n</div>"):m="";return"<div"+c+e+">"+g+"\n<blockquote>\n"+a.$content()+"\n</blockquote>"+m+"\n</div>"},Y.$$arity=1);a.def(b,"$thematic_break",S=function(a){return"<hr"+this.void_element_slash+">"},S.$$arity=1);a.def(b,"$sidebar",da=function(a){var b=d,c=d,e=d,b=n(a.$id())?' id="'+a.$id()+'"':"",c=n(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":"";return"<div"+b+' class="sidebarblock'+
(n(e=a.$role())?" "+e:"")+'">\n<div class="content">\n'+c+a.$content()+"\n</div>\n</div>"},da.$$arity=1);a.def(b,"$table",ia=function(a){var b,c,g,f=d,l=d,q=d,r=d,w=d,v=r=d,x=w=q=v=d,f=[],l=n(a.$id())?' id="'+a.$id()+'"':"",q=["tableblock","frame-"+a.$attr("frame","all"),"grid-"+a.$attr("grid","all")];if(n(r=a.$attr("stripes")))q["$<<"]("stripes-"+r);w=[];if(n(n(b=r=a.$attributes()["$[]"]("autowidth-option"))?a["$attr?"]("width",d,!1)["$!"]():b))q["$<<"]("fit-content");else if((v=a.$attr("tablepcwidth"))["$=="](100))q["$<<"]("stretch");
else w["$<<"]("width: "+v+"%;");if(n(v=a.$role()))q["$<<"](v);q=' class="'+k(q," ")+'"';if(n(a["$attr?"]("float")))w["$<<"]("float: "+a.$attr("float")+";");w=n(w["$empty?"]())?"":' style="'+k(w," ")+'"';f["$<<"]("<table"+l+q+w+">");if(n(a["$title?"]()))f["$<<"]('<caption class="title">'+a.$captioned_title()+"</caption>");n(p(a.$attr("rowcount"),0))&&(x=this.void_element_slash,f["$<<"]("<colgroup>"),n(r)?f=h(f,m(A,"Array").$new(a.$columns().$size(),"<col"+x+">")):e(a.$columns(),"each",[],(c=function(a){null==
a&&(a=d);return f["$<<"](n(a.$attributes()["$[]"]("autowidth-option"))?"<col"+x+">":'<col style="width: '+a.$attr("colpcwidth")+'%;"'+x+">")},c.$$s=this,c.$$arity=1,c)),f["$<<"]("</colgroup>"),e(a.$rows().$by_section(),"each",[],(g=function(b,c){var h=g.$$s||this,m;null==b&&(b=d);null==c&&(c=d);if(n(c["$empty?"]()))return d;f["$<<"]("<t"+b+">");e(c,"each",[],(m=function(c){var g=m.$$s||this,h;null==c&&(c=d);f["$<<"]("<tr>");e(c,"each",[],(h=function(c){var e,g=d,h=d,m=h=d,l=d,q=d,p=d;null==c&&(c=
d);b["$=="]("head")?g=c.$text():(h=c.$style(),g="asciidoc"["$==="](h)?'<div class="content">'+c.$content()+"</div>":"verse"["$==="](h)?'<div class="verse">'+c.$text()+"</div>":"literal"["$==="](h)?'<div class="literal"><pre>'+c.$text()+"</pre></div>":n((g=c.$content())["$empty?"]())?"":'<p class="tableblock">'+k(g,'</p>\n<p class="tableblock">')+"</p>");h=n(n(e=b["$=="]("head"))?e:c.$style()["$=="]("header"))?"th":"td";m=' class="tableblock halign-'+c.$attr("halign")+" valign-"+c.$attr("valign")+
'"';l=n(c.$colspan())?' colspan="'+c.$colspan()+'"':"";q=n(c.$rowspan())?' rowspan="'+c.$rowspan()+'"':"";p=n(a.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+a.$document().$attr("cellbgcolor")+';"':"";return f["$<<"]("<"+h+m+l+q+p+">"+g+"</"+h+">")},h.$$s=g,h.$$arity=1,h));return f["$<<"]("</tr>")},m.$$s=h,m.$$arity=1,m));return f["$<<"]("</t"+b+">")},g.$$s=this,g.$$arity=2,g)));f["$<<"]("</table>");return k(f,m(A,"LF"))},ia.$$arity=1);a.def(b,"$toc",xa=function(a){var b,c,e=
d,g=d,f=d,h=d,k=d,m=d;if(!n(n(b=n(c=(e=a.$document())["$attr?"]("toc-placement","macro"))?e["$sections?"]():c)?e["$attr?"]("toc"):b))return"\x3c!-- toc disabled --\x3e";n(a.$id())?(g=' id="'+a.$id()+'"',f=' id="'+a.$id()+'title"'):(g=' id="toc"',f=' id="toctitle"');h=n(a["$title?"]())?a.$title():e.$attr("toc-title");k=n(a["$attr?"]("levels"))?a.$attr("levels").$to_i():d;m=n(a["$role?"]())?a.$role():e.$attr("toc-class","toc");return"<div"+g+' class="'+m+'">\n<div'+f+' class="title">'+h+"</div>\n"+
this.$outline(e,q(["toclevels"],{toclevels:k}))+"\n</div>"},xa.$$arity=1);a.def(b,"$ulist",ra=function(a){var b,c=d,g=d,f=d,h=d,l=d,q=d,p=d,c=[],g=n(a.$id())?' id="'+a.$id()+'"':"",f=["ulist",a.$style(),a.$role()].$compact(),h=l="";n(q=a["$option?"]("checklist"))?(f.$unshift(f.$shift(),"checklist"),p=' class="checklist"',n(a["$option?"]("interactive"))?n(this.xml_mode)?(h='<input type="checkbox" data-item-complete="1" checked="checked"/> ',l='<input type="checkbox" data-item-complete="0"/> '):(h=
'<input type="checkbox" data-item-complete="1" checked> ',l='<input type="checkbox" data-item-complete="0"> '):n(a.$document()["$attr?"]("icons","font"))?(h='<i class="fa fa-check-square-o"></i> ',l='<i class="fa fa-square-o"></i> '):(h="&#10003; ",l="&#10063; ")):p=n(a.$style())?' class="'+a.$style()+'"':"";c["$<<"]("<div"+g+' class="'+k(f," ")+'">');if(n(a["$title?"]()))c["$<<"]('<div class="title">'+a.$title()+"</div>");c["$<<"]("<ul"+p+">");e(a.$items(),"each",[],(b=function(a){var b;null==a&&
(a=d);c["$<<"]("<li>");if(n(n(b=q)?a["$attr?"]("checkbox"):b))c["$<<"]("<p>"+(n(a["$attr?"]("checked"))?h:l)+a.$text()+"</p>");else c["$<<"]("<p>"+a.$text()+"</p>");if(n(a["$blocks?"]()))c["$<<"](a.$content());return c["$<<"]("</li>")},b.$$s=this,b.$$arity=1,b));c["$<<"]("</ul>");c["$<<"]("</div>");return k(c,m(A,"LF"))},ra.$$arity=1);a.def(b,"$verse",wa=function(a){var b,c=d,e=d,g=e=d,f=d,h=d,m=d,m=f=d,c=n(a.$id())?' id="'+a.$id()+'"':"",e=["verseblock",a.$role()].$compact(),e=' class="'+k(e," ")+
'"',g=n(a["$title?"]())?'\n<div class="title">'+a.$title()+"</div>":"",f=n(a["$attr?"]("attribution"))?a.$attr("attribution"):d,h=n(a["$attr?"]("citetitle"))?a.$attr("citetitle"):d;n(n(b=f)?b:h)?(m=n(h)?"<cite>"+h+"</cite>":"",f=n(f)?"&#8212; "+f+(n(h)?"<br"+this.void_element_slash+">\n":""):"",m='\n<div class="attribution">\n'+f+m+"\n</div>"):m="";return"<div"+c+e+">"+g+'\n<pre class="content">'+a.$content()+"</pre>"+m+"\n</div>"},wa.$$arity=1);a.def(b,"$video",ua=function(b){var c,e,g=this,f=d,
h=d,m=d,l=d,q=d,p=d,t=d,r=d,w=d,v=d,x=d,u=d,y=d,C=d,z=d,A=d,B=d,E=d,J=d,H=d,I=d,M=d,N=d,P=d,aa=d,R=d,T=d,ca=d,O=d,X=d,L=d,Q=d,fa=d,f=g.xml_mode,h=n(b.$id())?' id="'+b.$id()+'"':"",m=["videoblock",b.$role()].$compact(),l=' class="'+k(m," ")+'"',q=n(b["$title?"]())?'\n<div class="title">'+b.$title()+"</div>":"",p=n(b["$attr?"]("width"))?' width="'+b.$attr("width")+'"':"",t=n(b["$attr?"]("height"))?' height="'+b.$attr("height")+'"':"";return function(){r=b.$attr("poster");if("vimeo"["$==="](r))return n((w=
b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(w=""+w+":"),v=n(b["$attr?"]("start",d,!1))?"#at="+b.$attr("start"):"",x="?",n(b["$option?"]("autoplay"))?(u=""+x+"autoplay=1",x="&amp;"):u="",y=n(b["$option?"]("loop"))?""+x+"loop=1":"","<div"+h+l+">"+q+'\n<div class="content">\n<iframe'+p+t+' src="'+w+"//player.vimeo.com/video/"+b.$attr("target")+v+u+y+'" frameborder="0"'+(n(b["$option?"]("nofullscreen"))?"":g.$append_boolean_attribute("allowfullscreen",f))+"></iframe>\n</div>\n</div>";
if("youtube"["$==="](r))return n((w=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(w=""+w+":"),C=n(b["$option?"]("related"))?1:0,z=n(b["$attr?"]("start",d,!1))?"&amp;start="+b.$attr("start"):"",A=n(b["$attr?"]("end",d,!1))?"&amp;end="+b.$attr("end"):"",u=n(b["$option?"]("autoplay"))?"&amp;autoplay=1":"",y=n(B=b["$option?"]("loop"))?"&amp;loop=1":"",E=n(b["$option?"]("nocontrols"))?"&amp;controls=0":"",n(b["$option?"]("nofullscreen"))?(J="&amp;fs=0",H=""):(J="",H=g.$append_boolean_attribute("allowfullscreen",
f)),I=n(b["$option?"]("modest"))?"&amp;modestbranding=1":"",M=n(b["$attr?"]("theme",d,!1))?"&amp;theme="+b.$attr("theme"):"",N=n(b["$attr?"]("lang"))?"&amp;hl="+b.$attr("lang"):"",e=b.$attr("target").$split("/",2),c=a.to_ary(e),P=null==c[0]?d:c[0],aa=null==c[1]?d:c[1],e,n(aa=n(c=aa)?c:b.$attr("list",d,!1))?R="&amp;list="+aa:(e=P.$split(",",2),c=a.to_ary(e),P=null==c[0]?d:c[0],T=null==c[1]?d:c[1],e,R=n(T=n(c=T)?c:b.$attr("playlist",d,!1))?"&amp;playlist="+T:n(B)?"&amp;playlist="+P:""),"<div"+h+l+">"+
q+'\n<div class="content">\n<iframe'+p+t+' src="'+w+"//www.youtube.com/embed/"+P+"?rel="+C+z+A+u+y+E+R+J+I+M+N+'" frameborder="0"'+H+"></iframe>\n</div>\n</div>";ca=n((O=b.$attr("poster",d,!1))["$nil_or_empty?"]())?"":' poster="'+b.$media_uri(O)+'"';X=n((O=b.$attr("preload",d,!1))["$nil_or_empty?"]())?"":' preload="'+O+'"';L=b.$attr("start",d,!1);Q=b.$attr("end",d,!1);fa=n(n(c=L)?c:Q)?"#t="+(n(c=L)?c:"")+(n(Q)?","+Q:""):"";return"<div"+h+l+">"+q+'\n<div class="content">\n<video src="'+b.$media_uri(b.$attr("target"))+
fa+'"'+p+t+ca+(n(b["$option?"]("autoplay"))?g.$append_boolean_attribute("autoplay",f):"")+(n(b["$option?"]("nocontrols"))?"":g.$append_boolean_attribute("controls",f))+(n(b["$option?"]("loop"))?g.$append_boolean_attribute("loop",f):"")+X+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>"}()},ua.$$arity=1);a.def(b,"$inline_anchor",va=function(a){var b,c=this,e=d,g=d,f=d,h=d,k=d,l=d;return function(){e=a.$type();if("xref"["$==="](e))return n(g=a.$attributes()["$[]"]("path"))?
(f=c.$append_link_constraint_attrs(a,n(a.$role())?[' class="'+a.$role()+'"']:[]).$join(),h=n(b=a.$text())?b:g):(f=n(a.$role())?' class="'+a.$role()+'"':"",n(h=a.$text())||(k=a.$attributes()["$[]"]("refid"),h=n(m(A,"AbstractNode")["$==="](l=(c.refs=n(b=c.refs)?b:a.$document().$catalog()["$[]"]("refs"))["$[]"](k)))?n(b=l.$xreftext(a.$attr("xrefstyle")))?b:"["+k+"]":"["+k+"]")),'<a href="'+a.$target()+'"'+f+">"+h+"</a>";if("ref"["$==="](e))return'<a id="'+a.$id()+'"></a>';if("link"["$==="](e)){f=n(a.$id())?
[' id="'+a.$id()+'"']:[];if(n(a.$role()))f["$<<"](' class="'+a.$role()+'"');if(n(a["$attr?"]("title",d,!1)))f["$<<"](' title="'+a.$attr("title")+'"');return'<a href="'+a.$target()+'"'+c.$append_link_constraint_attrs(a,f).$join()+">"+a.$text()+"</a>"}if("bibref"["$==="](e))return'<a id="'+a.$id()+'"></a>'+a.$text();c.$logger().$warn("unknown anchor type: "+a.$type().$inspect());return d}()},va.$$arity=1);a.def(b,"$inline_break",ya=function(a){return""+a.$text()+"<br"+this.void_element_slash+">"},ya.$$arity=
1);a.def(b,"$inline_button",Aa=function(a){return'<b class="button">'+a.$text()+"</b>"},Aa.$$arity=1);a.def(b,"$inline_callout",Ea=function(a){var b=d;return n(a.$document()["$attr?"]("icons","font"))?'<i class="conum" data-value="'+a.$text()+'"></i><b>('+a.$text()+")</b>":n(a.$document()["$attr?"]("icons"))?(b=a.$icon_uri("callouts/"+a.$text()),'<img src="'+b+'" alt="'+a.$text()+'"'+this.void_element_slash+">"):'<b class="conum">('+a.$text()+")</b>"},Ea.$$arity=1);a.def(b,"$inline_footnote",Ba=function(a){var b=
d,c=d;if(n(b=a.$attr("index",d,!1))){if(a.$type()["$=="]("xref"))return'<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_'+b+'" title="View footnote.">'+b+"</a>]</sup>";c=n(a.$id())?' id="_footnote_'+a.$id()+'"':"";return'<sup class="footnote"'+c+'>[<a id="_footnoteref_'+b+'" class="footnote" href="#_footnotedef_'+b+'" title="View footnote.">'+b+"</a>]</sup>"}return a.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+a.$text()+"]</sup>":
d},Ba.$$arity=1);a.def(b,"$inline_image",Ca=function(a){var b,c,g,h,k,l,p=d,t=d,r=d,w=r=d,x=d,u=d,C=d,z=d,B=d,p=d;n((b=(p=a.$type())["$=="]("icon"))?a.$document()["$attr?"]("icons","font"):(p=a.$type())["$=="]("icon"))?(t="fa fa-"+a.$target(),e(q(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"}),"each",[],(c=function(b,c){null==b&&(b=d);null==c&&(c=d);return n(a["$attr?"](b))?t=""+t+" "+c+a.$attr(b):d},c.$$s=this,c.$$arity=2,c)),r=n(a["$attr?"]("title"))?' title="'+a.$attr("title")+
'"':"",r='<i class="'+t+'"'+r+"></i>"):n((b=p["$=="]("icon"))?a.$document()["$attr?"]("icons")["$!"]():p["$=="]("icon"))?r="["+a.$alt()+"]":(w=a.$target(),x=e(["width","height","title"],"map",[],(g=function(b){null==b&&(b=d);return n(a["$attr?"](b))?" "+b+'="'+a.$attr(b)+'"':""},g.$$s=this,g.$$arity=1,g)).$join(),n(n(b=n(h=n(k=p["$!="]("icon"))?n(l=a["$attr?"]("format","svg",!1))?l:w["$include?"](".svg"):k)?v(a.$document().$safe(),f(m(A,"SafeMode"),"SECURE")):h)?n(h=u=a["$option?"]("inline"))?h:C=
a["$option?"]("interactive"):b)&&(n(u)?r=n(b=this.$read_svg_contents(a,w))?b:'<span class="alt">'+a.$alt()+"</span>":n(C)&&(z=n(a["$attr?"]("fallback"))?'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+this.$encode_quotes(a.$alt())+'"'+x+this.void_element_slash+">":'<span class="alt">'+a.$alt()+"</span>",r='<object type="image/svg+xml" data="'+a.$image_uri(w)+'"'+x+">"+z+"</object>")),r=n(b=r)?b:'<img src="'+(p["$=="]("icon")?a.$icon_uri(w):a.$image_uri(w))+'" alt="'+this.$encode_quotes(a.$alt())+
'"'+x+this.void_element_slash+">");n(a["$attr?"]("link",d,!1))&&(r='<a class="image" href="'+a.$attr("link")+'"'+this.$append_link_constraint_attrs(a).$join()+">"+r+"</a>");t=n(B=a.$role())?""+p+" "+B:p;p=n(a["$attr?"]("float"))?' style="float: '+a.$attr("float")+'"':"";return'<span class="'+t+'"'+p+">"+r+"</span>"},Ca.$$arity=1);a.def(b,"$inline_indexterm",Da=function(a){return a.$type()["$=="]("visible")?a.$text():""},Da.$$arity=1);a.def(b,"$inline_kbd",Ha=function(a){var b=d;return(b=a.$attr("keys")).$size()["$=="](1)?
"<kbd>"+b["$[]"](0)+"</kbd>":'<span class="keyseq"><kbd>'+k(b,"</kbd>+<kbd>")+"</kbd></span>"},Ha.$$arity=1);a.def(b,"$inline_menu",Ia=function(a){var b=d,c=d,e=d,g=d,f=d,b=n(a.$document()["$attr?"]("icons","font"))?'&#160;<i class="fa fa-angle-right caret"></i> ':'&#160;<b class="caret">&#8250;</b> ',c="</b>"+b+'<b class="submenu">',e=a.$attr("menu");return n((g=a.$attr("submenus"))["$empty?"]())?n(f=a.$attr("menuitem",d,!1))?'<span class="menuseq"><b class="menu">'+e+"</b>"+b+'<b class="menuitem">'+
f+"</b></span>":'<b class="menuref">'+e+"</b>":'<span class="menuseq"><b class="menu">'+e+"</b>"+b+'<b class="submenu">'+k(g,c)+"</b>"+b+'<b class="menuitem">'+a.$attr("menuitem")+"</b></span>"},Ia.$$arity=1);a.def(b,"$inline_quoted",M=function(b){var c,e,g=d,f=d,h=d,k=d,l=d;e=m(A,"QUOTE_TAGS")["$[]"](b.$type());c=a.to_ary(e);g=null==c[0]?d:c[0];f=null==c[1]?d:c[1];h=null==c[2]?d:c[2];e;n(b.$role())&&(k=' class="'+b.$role()+'"');n(b.$id())&&(l=' id="'+b.$id()+'"');return n(n(c=k)?c:l)?n(h)?""+g.$chop()+
(n(c=l)?c:"")+(n(c=k)?c:"")+">"+b.$text()+f:"<span"+(n(c=l)?c:"")+(n(c=k)?c:"")+">"+g+b.$text()+f+"</span>":""+g+b.$text()+f},M.$$arity=1);a.def(b,"$append_boolean_attribute",Ka=function(a,b){return n(b)?" "+a+'="'+a+'"':" "+a},Ka.$$arity=2);a.def(b,"$encode_quotes",oa=function(a){return n(a["$include?"]('"'))?a.$gsub('"',"&quot;"):a},oa.$$arity=1);a.def(b,"$generate_manname_section",Fa=function(a){var b,c=d,e=d,g=d,f=d,h=d,c=n(b=a.$attr("manname-title"))?b:"Name";n(n(b=e=a.$sections()["$[]"](0))?
(g=e.$title())["$=="](g.$upcase()):b)&&(c=c.$upcase());f=n(h=a.$attr("manname-id"))?' id="'+h+'"':"";return"<h2"+f+">"+c+'</h2>\n<div class="sectionbody">\n<p>'+a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\n</div>"},Fa.$$arity=1);a.def(b,"$append_link_constraint_attrs",Ja=function(a,b){var c,e=d,g=d;null==b&&(b=[]);n(a["$option?"]("nofollow"))&&(e="nofollow");if(n(g=a.$attributes()["$[]"]("window"))){if(b["$<<"](' target="'+g+'"'),n(n(c=g["$=="]("_blank"))?c:a["$option?"]("noopener")))b["$<<"](n(e)?
' rel="'+e+' noopener"':' rel="noopener"')}else if(n(e))b["$<<"](' rel="'+e+'"');return b},Ja.$$arity=-2);return(a.def(b,"$read_svg_contents",Ga=function(b,c){var g,f=d,h=d,k=d;n(f=b.$read_contents(c,q(["start","normalize","label"],{start:b.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))&&(n(f["$start_with?"]("<svg"))||(f=f.$sub(m(A,"SvgPreambleRx"),"")),h=k=d,e(["width","height"],"each",[],(g=function(a){null==a&&(a=d);return n(b["$attr?"](a))?(n(k)||(k=(h=f.$match(m(A,"SvgStartTagRx"))["$[]"](0)).$gsub(m(A,
"DimensionAttributeRx"),"")),k=""+k.$chop()+" "+a+'="'+b.$attr(a)+'px">'):d},g.$$s=this,g.$$arity=1,g)),n(k)&&(f=""+k+f["$[]"](a.Range.$new(h.$length(),-1,!1))));return f},Ga.$$arity=2),d)&&"read_svg_contents"})(m(E,"Converter"),f(m(E,"Converter"),"BuiltIn"),E)}(b[0],b)};Opal.modules["asciidoctor/extensions"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function p(a,b){return"number"===
typeof a&&"number"===typeof b?a>b:a["$>"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var v=a.top,h=[],b=a.nil,d=a.const_get_qualified,f=a.const_get_relative,m=a.truthy,x=a.module,l=a.klass,e=a.hash2,q=a.send,n=a.hash;a.add_stubs("$require $to_s $[]= $config $- $nil_or_empty? $name $grep $constants $include $const_get $extend $attr_reader $merge $class $update $raise $document $== $doctype $[] $+ $level $delete $> $casecmp $new $title= $sectname= $special= $fetch $numbered= $! $key? $attr? $special $numbered $generate_id $title $id= $update_attributes $tr $basename $create_block $=== $next_block $dup $<< $has_more_lines? $each $define_method $unshift $shift $send $empty? $size $call $option $flatten $respond_to? $include? $split $to_i $compact $inspect $attr_accessor $to_set $resolve_regexp $match? $method $register $values $groups $arity $instance_exec $to_proc $activate $add_document_processor $any? $select $add_syntax_processor $to_sym $private $join $map $capitalize $instance_variable_get $instance_variable_set $resolve_args $freeze $process_block_given? $source_location $resolve_class $< $update_config $push $as_symbol $name= $pop $-@ $next_auto_id $generate_name $class_for_name $reduce $const_defined?".split(" "));
m(f(h,"Asciidoctor","skip_raise")?"constant":b)||v.$require("asciidoctor".$to_s());return function(h,v){var u=[x(h,"Asciidoctor")].concat(v);(function(h,v){var u=x(h,"Extensions"),y=[u].concat(v);(function(h,$super,n){function r(){}h=r=l(h,$super,"Processor",r);var v=h.$$proto,x=[h].concat(n),u,y,C,z,A,B,E,H,L;v.config=b;(function(d,f){var h=[d].concat(f),k,l,n;a.def(d,"$config",k=function(){var a;null==this.config&&(this.config=b);return this.config=m(a=this.config)?a:e([],{})},k.$$arity=0);a.def(d,
"$option",l=function(d,e){var f=b,f=[d,e];q(this.$config(),"[]=",a.to_a(f));return f[c(f.length,1)]},l.$$arity=2);a.def(d,"$use_dsl",n=function(){return m(this.$name()["$nil_or_empty?"]())?m((a.Module.$$nesting=h,this.$constants()).$grep("DSL"))?this.$include(this.$const_get("DSL")):b:m((a.Module.$$nesting=h,this.$constants()).$grep("DSL"))?this.$extend(this.$const_get("DSL")):b},n.$$arity=0);a.alias(d,"extend_dsl","use_dsl");return a.alias(d,"include_dsl","use_dsl")})(a.get_singleton_class(h),x);
h.$attr_reader("config");a.def(h,"$initialize",u=function(a){null==a&&(a=e([],{}));return this.config=this.$class().$config().$merge(a)},u.$$arity=-1);a.def(h,"$update_config",y=function(a){return this.config.$update(a)},y.$$arity=1);a.def(h,"$process",C=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var e=0;e<c;e++)b[e-0]=arguments[e];return this.$raise(d("::","NotImplementedError"),"Asciidoctor::Extensions::Processor subclass must implement #process method")},C.$$arity=-1);
a.def(h,"$create_section",z=function(d,h,l,n){var r,w=b,v=b,u=b,y=b,C=b,z=b,A=b,B=u=b,v=b;null==n&&(n=e([],{}));w=d.$document();v=(u=w.$doctype())["$=="]("book");y=m(r=n["$[]"]("level"))?r:k(d.$level(),1);m(C=l.$delete("style"))?m(m(r=v)?C["$=="]("abstract"):r)?(r=["chapter",1],z=r[0],y=r[1],r):(r=[C,!0],z=r[0],A=r[1],r,y["$=="](0)&&(y=1)):m(v)?z=y["$=="](0)?"part":m(p(y,1))?"section":"chapter":m(u["$=="]("manpage")?h.$casecmp("synopsis")["$=="](0):u["$=="]("manpage"))?(r=["synopsis",!0],z=r[0],A=
r[1],r):z="section";u=f(x,"Section").$new(d,y);r=[h,z];u["$title="](r[0]);u["$sectname="](r[1]);r;m(A)?(B=[!0],q(u,"special=",a.to_a(B)),B[c(B.length,1)],m(n.$fetch("numbered",C["$=="]("appendix")))?(B=[!0],q(u,"numbered=",a.to_a(B)),B[c(B.length,1)]):m(m(r=n["$key?"]("numbered")["$!"]())?w["$attr?"]("sectnums","all"):r)&&(B=[m(m(r=v)?y["$=="](1):r)?"chapter":!0],q(u,"numbered=",a.to_a(B)),B[c(B.length,1)])):m(p(y,0))?m(n.$fetch("numbered",w["$attr?"]("sectnums")))&&(B=[m(u.$special())?m(r=d.$numbered())?
!0:r:!0],q(u,"numbered=",a.to_a(B)),B[c(B.length,1)]):m(n.$fetch("numbered",m(r=v)?w["$attr?"]("partnums"):r))&&(B=[!0],q(u,"numbered=",a.to_a(B)),B[c(B.length,1)]);(v=l.$delete("id"))["$=="](!1)||(B=[(B=["id",m(r=v)?r:m(w["$attr?"]("sectids"))?f(x,"Section").$generate_id(u.$title(),w):b],q(l,"[]=",a.to_a(B)),B[c(B.length,1)])],q(u,"id=",a.to_a(B)),B[c(B.length,1)]);u.$update_attributes(l);return u},z.$$arity=-4);a.def(h,"$create_block",A=function(a,b,c,d,g){null==g&&(g=e([],{}));return f(x,"Block").$new(a,
b,e(["source","attributes"],{source:c,attributes:d}).$merge(g))},A.$$arity=-5);a.def(h,"$create_image_block",B=function(h,k,l){var n,p=b,t=b;null==l&&(l=e([],{}));m(p=k["$[]"]("target"))||this.$raise(d("::","ArgumentError"),"Unable to create an image block, target attribute is required");m(n=k["$[]"]("alt"))?n:(t=["alt",(t=["default-alt",f(x,"Helpers").$basename(p,!0).$tr("_-"," ")],q(k,"[]=",a.to_a(t)),t[c(t.length,1)])],q(k,"[]=",a.to_a(t)),t[c(t.length,1)]);return this.$create_block(h,"image",
b,k,l)},B.$$arity=-3);a.def(h,"$create_inline",E=function(a,b,c,d){null==d&&(d=e([],{}));return f(x,"Inline").$new(a,b,c,d)},E.$$arity=-4);a.def(h,"$parse_content",H=function(a,c,d){var g,h,k=b,l=b;null==d&&(d=b);for(k=m(f(x,"Reader")["$==="](c))?c:f(x,"Reader").$new(c);m(m(g=m(h=l=f(x,"Parser").$next_block(k,a,m(d)?d.$dup():e([],{})))?a["$<<"](l):h)?g:k["$has_more_lines?"]()););return a},H.$$arity=-3);return q([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],
["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]],"each",[],(L=function(c,d,e){var g=L.$$s||this,f;null==c&&(c=b);null==d&&(d=b);null==e&&(e=b);return q(g,"define_method",[c],(f=function(b){var c=f.$$s||this,g,h=arguments.length;g=h-0;0>g&&(g=0);g=Array(g);for(var k=0;k<h;k++)g[k-0]=arguments[k];g.$unshift(g.$shift(),
e);return q(c,"send",[d].concat(a.to_a(g)))},f.$$s=g,f.$$arity=-1,f))},L.$$s=h,L.$$arity=3,L))})(y[0],null,y);(function(e,f){var h=x(e,"ProcessorDsl");[h].concat(f);var k,l,n;a.def(h,"$option",k=function(d,e){var f=b,f=[d,e];q(this.$config(),"[]=",a.to_a(f));return f[c(f.length,1)]},k.$$arity=2);a.def(h,"$process",l=function(c){var e,g,f=l.$$p,h=f||b;null==this.process_block&&(this.process_block=b);var k=arguments.length;g=k-0;0>g&&(g=0);g=Array(g);for(var n=0;n<k;n++)g[n-0]=arguments[n];f&&(l.$$p=
null);return h!==b?(m(g["$empty?"]())||this.$raise(d("::","ArgumentError"),"wrong number of arguments (given "+g.$size()+", expected 0)"),this.process_block=h):m((e=this.process_block,null!=e&&e!==b)?"instance-variable":b)?q(this.process_block,"call",a.to_a(g)):this.$raise(d("::","NotImplementedError"))},l.$$arity=-1);a.def(h,"$process_block_given?",n=function(){var a;return(a=this.process_block,null!=a&&a!==b)?"instance-variable":b},n.$$arity=0)})(y[0],y);(function(h,k){var l=x(h,"SyntaxDsl"),n=
[l].concat(k),r,v,u,y,C;l.$include(f(n,"ProcessorDsl"));a.def(l,"$named",r=function(a){return m(f(n,"Processor")["$==="](this))?this.name=a:this.$option("name",a)},r.$$arity=1);a.alias(l,"match_name","named");a.def(l,"$content_model",v=function(a){return this.$option("content_model",a)},v.$$arity=1);a.alias(l,"parse_content_as","content_model");a.alias(l,"parses_content_as","content_model");a.def(l,"$positional_attrs",u=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<
c;d++)b[d-0]=arguments[d];return this.$option("pos_attrs",b.$flatten())},u.$$arity=-1);a.alias(l,"name_attributes","positional_attrs");a.alias(l,"name_positional_attributes","positional_attrs");a.def(l,"$default_attrs",y=function(a){return this.$option("default_attrs",a)},y.$$arity=1);a.def(l,"$resolves_attributes",C=function(f){var h,k,l,n=this,r,w=b,v=b,x=b,u=arguments.length,y=u-0;0>y&&(y=0);r=Array(y);for(y=0;y<u;y++)r[y-0]=arguments[y];m(p(r.$size(),1))||m((r=r.$fetch(0,!0))["$respond_to?"]("to_sym"))&&
(r=[r]);return function(){w=r;return(!0)["$==="](w)?(n.$option("pos_attrs",[]),n.$option("default_attrs",e([],{}))):d("::","Array")["$==="](w)?(h=[[],e([],{})],v=h[0],x=h[1],h,q(r,"each",[],(k=function(d){var e,f=b,h=b,k=b,k=b;null==d&&(d=b);return m((d=d.$to_s())["$include?"]("="))?(e=d.$split("=",2),d=a.to_ary(e),f=null==d[0]?b:d[0],h=null==d[1]?b:d[1],e,m(f["$include?"](":"))&&(e=f.$split(":",2),d=a.to_ary(e),k=null==d[0]?b:d[0],f=null==d[1]?b:d[1],e,k=k["$=="]("@")?v.$size():k.$to_i(),k=[k,f],
q(v,"[]=",a.to_a(k)),k[c(k.length,1)]),k=[f,h],q(x,"[]=",a.to_a(k)),k[c(k.length,1)]):m(d["$include?"](":"))?(e=d.$split(":",2),d=a.to_ary(e),k=null==d[0]?b:d[0],f=null==d[1]?b:d[1],e,k=k["$=="]("@")?v.$size():k.$to_i(),k=[k,f],q(v,"[]=",a.to_a(k)),k[c(k.length,1)]):v["$<<"](d)},k.$$s=n,k.$$arity=1,k)),n.$option("pos_attrs",v.$compact()),n.$option("default_attrs",x)):d("::","Hash")["$==="](w)?(h=[[],e([],{})],v=h[0],x=h[1],h,q(r,"each",[],(l=function(d,e){var f,h,k=f=b;h=b;null==d&&(d=b);null==e&&
(e=b);m((f=d.$to_s())["$include?"](":"))&&(h=f.$split(":",2),f=a.to_ary(h),k=null==f[0]?b:f[0],f=null==f[1]?b:f[1],h,k=k["$=="]("@")?v.$size():k.$to_i(),h=[k,f],q(v,"[]=",a.to_a(h)),h[c(h.length,1)]);return m(e)?(h=[f,e],q(x,"[]=",a.to_a(h)),h[c(h.length,1)]):b},l.$$s=n,l.$$arity=2,l)),n.$option("pos_attrs",v.$compact()),n.$option("default_attrs",x)):n.$raise(d("::","ArgumentError"),"unsupported attributes specification for macro: "+r.$inspect())}()},C.$$arity=-1);a.alias(l,"resolve_attributes","resolves_attributes")})(y[0],
y);(function(c,$super,e){function g(){}c=g=l(c,$super,"Preprocessor",g);[c].concat(e);var f;return(a.def(c,"$process",f=function(a,b){return this.$raise(d("::","NotImplementedError"),"Asciidoctor::Extensions::Preprocessor subclass must implement #process method")},f.$$arity=2),b)&&"process"})(y[0],f(y,"Processor"),y);a.const_set(f(y,"Preprocessor"),"DSL",f(y,"ProcessorDsl"));(function(c,$super,e){function g(){}c=g=l(c,$super,"TreeProcessor",g);[c].concat(e);var f;return(a.def(c,"$process",f=function(a){return this.$raise(d("::",
"NotImplementedError"),"Asciidoctor::Extensions::TreeProcessor subclass must implement #process method")},f.$$arity=1),b)&&"process"})(y[0],f(y,"Processor"),y);a.const_set(f(y,"TreeProcessor"),"DSL",f(y,"ProcessorDsl"));a.const_set(y[0],"Treeprocessor",f(y,"TreeProcessor"));(function(c,$super,e){function g(){}c=g=l(c,$super,"Postprocessor",g);[c].concat(e);var f;return(a.def(c,"$process",f=function(a,b){return this.$raise(d("::","NotImplementedError"),"Asciidoctor::Extensions::Postprocessor subclass must implement #process method")},
f.$$arity=2),b)&&"process"})(y[0],f(y,"Processor"),y);a.const_set(f(y,"Postprocessor"),"DSL",f(y,"ProcessorDsl"));(function(c,$super,e){function g(){}c=g=l(c,$super,"IncludeProcessor",g);[c].concat(e);var f,h;a.def(c,"$process",f=function(a,b,c,e){return this.$raise(d("::","NotImplementedError"),"Asciidoctor::Extensions::IncludeProcessor subclass must implement #process method")},f.$$arity=4);return(a.def(c,"$handles?",h=function(a){return!0},h.$$arity=1),b)&&"handles?"})(y[0],f(y,"Processor"),y);
(function(c,e){var g=x(c,"IncludeProcessorDsl"),h=[g].concat(e),k;g.$include(f(h,"ProcessorDsl"));a.def(g,"$handles?",k=function(a){var c,e,g=k.$$p,f=g||b;null==this.handles_block&&(this.handles_block=b);var h=arguments.length;e=h-0;0>e&&(e=0);e=Array(e);for(var l=0;l<h;l++)e[l-0]=arguments[l];g&&(k.$$p=null);return f!==b?(m(e["$empty?"]())||this.$raise(d("::","ArgumentError"),"wrong number of arguments (given "+e.$size()+", expected 0)"),this.handles_block=f):m((c=this.handles_block,null!=c&&c!==
b)?"instance-variable":b)?this.handles_block.$call(e["$[]"](0)):!0},k.$$arity=-1)})(y[0],y);a.const_set(f(y,"IncludeProcessor"),"DSL",f(y,"IncludeProcessorDsl"));(function(f,$super,h){function k(){}f=k=l(f,$super,"DocinfoProcessor",k);var n=f.$$proto;[f].concat(h);var p,t;n.config=b;f.$attr_accessor("location");a.def(f,"$initialize",p=function(d){var f,h=p.$$p,k=b;null==d&&(d=e([],{}));h&&(p.$$p=null);q(this,a.find_super_dispatcher(this,"initialize",p,!1),[d],null);return m(f=this.config["$[]"]("location"))?
f:(k=["location","head"],q(this.config,"[]=",a.to_a(k)),k[c(k.length,1)])},p.$$arity=-1);return(a.def(f,"$process",t=function(a){return this.$raise(d("::","NotImplementedError"),"Asciidoctor::Extensions::DocinfoProcessor subclass must implement #process method")},t.$$arity=1),b)&&"process"})(y[0],f(y,"Processor"),y);(function(b,c){var d=x(b,"DocinfoProcessorDsl"),e=[d].concat(c),g;d.$include(f(e,"ProcessorDsl"));a.def(d,"$at_location",g=function(a){return this.$option("location",a)},g.$$arity=1)})(y[0],
y);a.const_set(f(y,"DocinfoProcessor"),"DSL",f(y,"DocinfoProcessorDsl"));(function(f,$super,h){function k(){}f=k=l(f,$super,"BlockProcessor",k);var n=f.$$proto;[f].concat(h);var p,t;n.config=b;f.$attr_accessor("name");a.def(f,"$initialize",p=function(f,h){var k,l=p.$$p,n=b,t=b;null==f&&(f=b);null==h&&(h=e([],{}));l&&(p.$$p=null);q(this,a.find_super_dispatcher(this,"initialize",p,!1),[h],null);this.name=m(k=f)?k:this.config["$[]"]("name");n=this.config["$[]"]("contexts");d("::","NilClass")["$==="](n)?
m(k=this.config["$[]"]("contexts"))?k:(t=["contexts",["open","paragraph"].$to_set()],q(this.config,"[]=",a.to_a(t)),t[c(t.length,1)]):(t=d("::","Symbol")["$==="](n)?["contexts",[this.config["$[]"]("contexts")].$to_set()]:["contexts",this.config["$[]"]("contexts").$to_set()],q(this.config,"[]=",a.to_a(t)),t[c(t.length,1)]);return m(k=this.config["$[]"]("content_model"))?k:(t=["content_model","compound"],q(this.config,"[]=",a.to_a(t)),t[c(t.length,1)])},p.$$arity=-1);return(a.def(f,"$process",t=function(a,
b,c){return this.$raise(d("::","NotImplementedError"),"Asciidoctor::Extensions::BlockProcessor subclass must implement #process method")},t.$$arity=3),b)&&"process"})(y[0],f(y,"Processor"),y);(function(b,c){var d=x(b,"BlockProcessorDsl"),e=[d].concat(c),g;d.$include(f(e,"SyntaxDsl"));a.def(d,"$contexts",g=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.$option("contexts",b.$flatten().$to_set())},g.$$arity=-1);a.alias(d,"on_contexts",
"contexts");a.alias(d,"on_context","contexts");a.alias(d,"bound_to","contexts")})(y[0],y);a.const_set(f(y,"BlockProcessor"),"DSL",f(y,"BlockProcessorDsl"));(function(f,$super,h){function k(){}f=k=l(f,$super,"MacroProcessor",k);var n=f.$$proto;[f].concat(h);var p,t;n.config=b;f.$attr_accessor("name");a.def(f,"$initialize",p=function(d,f){var h,k=p.$$p,l=b;null==d&&(d=b);null==f&&(f=e([],{}));k&&(p.$$p=null);q(this,a.find_super_dispatcher(this,"initialize",p,!1),[f],null);this.name=m(h=d)?h:this.config["$[]"]("name");
return m(h=this.config["$[]"]("content_model"))?h:(l=["content_model","attributes"],q(this.config,"[]=",a.to_a(l)),l[c(l.length,1)])},p.$$arity=-1);return(a.def(f,"$process",t=function(a,b,c){return this.$raise(d("::","NotImplementedError"),"Asciidoctor::Extensions::MacroProcessor subclass must implement #process method")},t.$$arity=3),b)&&"process"})(y[0],f(y,"Processor"),y);(function(c,d){var e=x(c,"MacroProcessorDsl"),g=[e].concat(d),h;e.$include(f(g,"SyntaxDsl"));a.def(e,"$resolves_attributes",
h=function(c){var d,e=h.$$p,g=b,f=b,k=b,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(f=0;f<g;f++)d[f-0]=arguments[f];e&&(h.$$p=null);f=0;k=arguments.length;for(g=Array(k);f<k;f++)g[f]=arguments[f];if(m(d.$size()["$=="](1)?d["$[]"](0)["$!"]():d.$size()["$=="](1)))return this.$option("content_model","text"),b;q(this,a.find_super_dispatcher(this,"resolves_attributes",h,!1),g,e);return this.$option("content_model","attributes")},h.$$arity=-1);a.alias(e,"resolve_attributes","resolves_attributes")})(y[0],
y);(function(a,$super,c){function d(){}[d=l(a,$super,"BlockMacroProcessor",d)].concat(c);return b})(y[0],f(y,"MacroProcessor"),y);a.const_set(f(y,"BlockMacroProcessor"),"DSL",f(y,"MacroProcessorDsl"));(function(h,$super,k){function n(){}h=n=l(h,$super,"InlineMacroProcessor",n);var p=h.$$proto,t=[h].concat(k),r,v;p.config=p.name=b;a.class_variable_set(n,"@@rx_cache",e([],{}));a.def(h,"$regexp",r=function(){var d,e=b;return m(d=this.config["$[]"]("regexp"))?d:(e=["regexp",this.$resolve_regexp(this.name.$to_s(),
this.config["$[]"]("format"))],q(this.config,"[]=",a.to_a(e)),e[c(e.length,1)])},r.$$arity=0);return(a.def(h,"$resolve_regexp",v=function(e,h){var k,l,p=b;m(f(t,"MacroNameRx")["$match?"](e))||this.$raise(d("::","ArgumentError"),"invalid name for inline macro: "+e);return m(k=(null==(l=n.$$cvars["@@rx_cache"])?b:l)["$[]"]([e,h]))?k:(p=[[e,h],new RegExp("\\\\?"+e+":"+(h["$=="]("short")?"(){0}":"(\\S+?)")+"\\[(|.*?[^\\\\])\\]")],q(null==(l=n.$$cvars["@@rx_cache"])?b:l,"[]=",a.to_a(p)),p[c(p.length,1)])},
v.$$arity=2),b)&&"resolve_regexp"})(y[0],f(y,"MacroProcessor"),y);(function(b,c){var d=x(b,"InlineMacroProcessorDsl"),e=[d].concat(c),g,h;d.$include(f(e,"MacroProcessorDsl"));a.def(d,"$with_format",g=function(a){return this.$option("format",a)},g.$$arity=1);a.alias(d,"using_format","with_format");a.def(d,"$matches",h=function(a){return this.$option("regexp",a)},h.$$arity=1);a.alias(d,"match","matches");a.alias(d,"matching","matches")})(y[0],y);a.const_set(f(y,"InlineMacroProcessor"),"DSL",f(y,"InlineMacroProcessorDsl"));
(function(c,$super,d){function e(){}c=e=l(c,$super,"Extension",e);[c].concat(d);var g;c.$attr_reader("kind");c.$attr_reader("config");c.$attr_reader("instance");return(a.def(c,"$initialize",g=function(a,b,c){this.kind=a;this.instance=b;return this.config=c},g.$$arity=3),b)&&"initialize"})(y[0],null,y);(function(c,$super,d){function e(){}c=e=l(c,$super,"ProcessorExtension",e);[c].concat(d);var g;c.$attr_reader("process_method");return(a.def(c,"$initialize",g=function(c,d,e){var f,h=g.$$p;null==e&&
(e=b);h&&(g.$$p=null);q(this,a.find_super_dispatcher(this,"initialize",g,!1),[c,d,d.$config()],null);return this.process_method=m(f=e)?f:d.$method("process")},g.$$arity=-3),b)&&"initialize"})(y[0],f(y,"Extension"),y);(function(c,$super,e){function g(){}c=g=l(c,$super,"Group",g);e=[c].concat(e);var h;(function(c,d){var e=[c].concat(d),g;return(a.def(c,"$register",g=function(a){null==a&&(a=b);return f(e,"Extensions").$register(a,this)},g.$$arity=-1),b)&&"register"})(a.get_singleton_class(c),e);return(a.def(c,
"$activate",h=function(a){return this.$raise(d("::","NotImplementedError"))},h.$$arity=1),b)&&"activate"})(y[0],null,y);(function(h,$super,n){function v(){}h=v=l(h,$super,"Registry",v);var x=h.$$proto,u=[h].concat(n),y,C,z,A,E,L,Z,H,ba,T,ga,ca,aa,W,S,da,ha,ta,Y,ka,na,ia,xa,ra,wa,ua,va,ya,Aa,Ma,Ba,Ca,Da,Ha;x.groups=x.preprocessor_extensions=x.tree_processor_extensions=x.postprocessor_extensions=x.include_processor_extensions=x.docinfo_processor_extensions=x.block_extensions=x.block_macro_extensions=
x.inline_macro_extensions=b;h.$attr_reader("document");h.$attr_reader("groups");a.def(h,"$initialize",y=function(a){null==a&&(a=e([],{}));this.groups=a;return this.document=this.preprocessor_extensions=this.tree_processor_extensions=this.postprocessor_extensions=this.include_processor_extensions=this.docinfo_processor_extensions=this.block_extensions=this.block_macro_extensions=this.inline_macro_extensions=b},y.$$arity=-1);a.def(h,"$activate",C=function(a){var c,e=b;this.document=a;m((e=k(f(u,"Extensions").$groups().$values(),
this.groups.$values()))["$empty?"]())||q(e,"each",[],(c=function(a){var e=c.$$s||this,g=b;null==a&&(a=b);g=a;d("::","Proc")["$==="](g)?(g=a.$arity(),a=0["$==="](g)||-1["$==="](g)?q(e,"instance_exec",[],a.$to_proc()):1["$==="](g)?a.$call(e):b):a=d("::","Class")["$==="](g)?a.$new().$activate(e):a.$activate(e);return a},c.$$s=this,c.$$arity=1,c));return this},C.$$arity=1);a.def(h,"$preprocessor",z=function(a){var c,d=z.$$p,e=d||b,g=arguments.length;c=g-0;0>c&&(c=0);c=Array(c);for(var f=0;f<g;f++)c[f-
0]=arguments[f];d&&(z.$$p=null);return q(this,"add_document_processor",["preprocessor",c],e.$to_proc())},z.$$arity=-1);a.def(h,"$preprocessors?",A=function(){return this.preprocessor_extensions["$!"]()["$!"]()},A.$$arity=0);a.def(h,"$preprocessors",E=function(){return this.preprocessor_extensions},E.$$arity=0);a.def(h,"$tree_processor",L=function(a){var c,d=L.$$p,e=d||b,g=arguments.length;c=g-0;0>c&&(c=0);c=Array(c);for(var f=0;f<g;f++)c[f-0]=arguments[f];d&&(L.$$p=null);return q(this,"add_document_processor",
["tree_processor",c],e.$to_proc())},L.$$arity=-1);a.def(h,"$tree_processors?",Z=function(){return this.tree_processor_extensions["$!"]()["$!"]()},Z.$$arity=0);a.def(h,"$tree_processors",H=function(){return this.tree_processor_extensions},H.$$arity=0);a.alias(h,"treeprocessor","tree_processor");a.alias(h,"treeprocessors?","tree_processors?");a.alias(h,"treeprocessors","tree_processors");a.def(h,"$postprocessor",ba=function(a){var c,d=ba.$$p,e=d||b,g=arguments.length;c=g-0;0>c&&(c=0);c=Array(c);for(var f=
0;f<g;f++)c[f-0]=arguments[f];d&&(ba.$$p=null);return q(this,"add_document_processor",["postprocessor",c],e.$to_proc())},ba.$$arity=-1);a.def(h,"$postprocessors?",T=function(){return this.postprocessor_extensions["$!"]()["$!"]()},T.$$arity=0);a.def(h,"$postprocessors",ga=function(){return this.postprocessor_extensions},ga.$$arity=0);a.def(h,"$include_processor",ca=function(a){var c,d=ca.$$p,e=d||b,g=arguments.length;c=g-0;0>c&&(c=0);c=Array(c);for(var f=0;f<g;f++)c[f-0]=arguments[f];d&&(ca.$$p=null);
return q(this,"add_document_processor",["include_processor",c],e.$to_proc())},ca.$$arity=-1);a.def(h,"$include_processors?",aa=function(){return this.include_processor_extensions["$!"]()["$!"]()},aa.$$arity=0);a.def(h,"$include_processors",W=function(){return this.include_processor_extensions},W.$$arity=0);a.def(h,"$docinfo_processor",S=function(a){var c,d=S.$$p,e=d||b,g=arguments.length;c=g-0;0>c&&(c=0);c=Array(c);for(var f=0;f<g;f++)c[f-0]=arguments[f];d&&(S.$$p=null);return q(this,"add_document_processor",
["docinfo_processor",c],e.$to_proc())},S.$$arity=-1);a.def(h,"$docinfo_processors?",da=function(a){var c;null==a&&(a=b);return m(this.docinfo_processor_extensions)?m(a)?q(this.docinfo_processor_extensions,"any?",[],(c=function(c){null==c&&(c=b);return c.$config()["$[]"]("location")["$=="](a)},c.$$s=this,c.$$arity=1,c)):!0:!1},da.$$arity=-1);a.def(h,"$docinfo_processors",ha=function(a){var c;null==a&&(a=b);return m(this.docinfo_processor_extensions)?m(a)?q(this.docinfo_processor_extensions,"select",
[],(c=function(c){null==c&&(c=b);return c.$config()["$[]"]("location")["$=="](a)},c.$$s=this,c.$$arity=1,c)):this.docinfo_processor_extensions:b},ha.$$arity=-1);a.def(h,"$block",ta=function(a){var c,d=ta.$$p,e=d||b,g=arguments.length;c=g-0;0>c&&(c=0);c=Array(c);for(var f=0;f<g;f++)c[f-0]=arguments[f];d&&(ta.$$p=null);return q(this,"add_syntax_processor",["block",c],e.$to_proc())},ta.$$arity=-1);a.def(h,"$blocks?",Y=function(){return this.block_extensions["$!"]()["$!"]()},Y.$$arity=0);a.def(h,"$registered_for_block?",
ka=function(a,c){var d=b;return m(d=this.block_extensions["$[]"](a.$to_sym()))?m(d.$config()["$[]"]("contexts")["$include?"](c))?d:!1:!1},ka.$$arity=2);a.def(h,"$find_block_extension",na=function(a){return this.block_extensions["$[]"](a.$to_sym())},na.$$arity=1);a.def(h,"$block_macro",ia=function(a){var c,d=ia.$$p,e=d||b,g=arguments.length;c=g-0;0>c&&(c=0);c=Array(c);for(var f=0;f<g;f++)c[f-0]=arguments[f];d&&(ia.$$p=null);return q(this,"add_syntax_processor",["block_macro",c],e.$to_proc())},ia.$$arity=
-1);a.def(h,"$block_macros?",xa=function(){return this.block_macro_extensions["$!"]()["$!"]()},xa.$$arity=0);a.def(h,"$registered_for_block_macro?",ra=function(a){var c=b;return m(c=this.block_macro_extensions["$[]"](a.$to_sym()))?c:!1},ra.$$arity=1);a.def(h,"$find_block_macro_extension",wa=function(a){return this.block_macro_extensions["$[]"](a.$to_sym())},wa.$$arity=1);a.def(h,"$inline_macro",ua=function(a){var c,d=ua.$$p,e=d||b,g=arguments.length;c=g-0;0>c&&(c=0);c=Array(c);for(var f=0;f<g;f++)c[f-
0]=arguments[f];d&&(ua.$$p=null);return q(this,"add_syntax_processor",["inline_macro",c],e.$to_proc())},ua.$$arity=-1);a.def(h,"$inline_macros?",va=function(){return this.inline_macro_extensions["$!"]()["$!"]()},va.$$arity=0);a.def(h,"$registered_for_inline_macro?",ya=function(a){var c=b;return m(c=this.inline_macro_extensions["$[]"](a.$to_sym()))?c:!1},ya.$$arity=1);a.def(h,"$find_inline_macro_extension",Aa=function(a){return this.inline_macro_extensions["$[]"](a.$to_sym())},Aa.$$arity=1);a.def(h,
"$inline_macros",Ma=function(){return this.inline_macro_extensions.$values()},Ma.$$arity=0);h.$private();a.def(h,"$add_document_processor",Ba=function(c,e){var g,h,k,l=this,n=Ba.$$p,p=n||b,t=b,v=b,w=b,x=b,y=v=b,C=b,z=b,A=b,F=b;n&&(Ba.$$p=null);t=c.$to_s().$tr("_"," ");v=q(t.$split(),"map",[],(g=function(a){null==a&&(a=b);return a.$capitalize()},g.$$s=l,g.$$arity=1,g)).$join().$to_sym();w=f(u,"Extensions").$const_get(v);x=m(d("::","AsciidoctorJ","skip_raise")?"constant":b)?d(d("::","AsciidoctorJ"),
"Extensions").$const_get(v):b;v=m(h=l.$instance_variable_get(("@"+c+"_extensions").$to_sym()))?h:l.$instance_variable_set(("@"+c+"_extensions").$to_sym(),[]);y=function(){if(p!==b)return C=l.$resolve_args(e,1),z=w.$new(C),m(w.$constants().$grep("DSL"))&&z.$extend(w.$const_get("DSL")),q(z,"instance_exec",[],p.$to_proc()),z.$freeze(),m(z["$process_block_given?"]())||l.$raise(d("::","ArgumentError"),"No block specified to process "+t+" extension at "+p.$source_location()),f(u,"ProcessorExtension").$new(c,
z);k=l.$resolve_args(e,2);h=a.to_ary(k);z=null==h[0]?b:h[0];C=null==h[1]?b:h[1];k;return m(A=f(u,"Extensions").$resolve_class(z))?(m(m(h=r(A,w))?h:m(k=x)?r(A,x):k)||l.$raise(d("::","ArgumentError"),"Invalid type for "+t+" extension: "+z),F=A.$new(C),F.$freeze(),f(u,"ProcessorExtension").$new(c,F)):m(m(h=w["$==="](z))?h:m(k=x)?x["$==="](z):k)?(z.$update_config(C),z.$freeze(),f(u,"ProcessorExtension").$new(c,z)):l.$raise(d("::","ArgumentError"),"Invalid arguments specified for registering "+t+" extension: "+
e)}();return y.$config()["$[]"]("position")["$=="](">>")?v.$unshift(y):v["$<<"](y)},Ba.$$arity=2);a.def(h,"$add_syntax_processor",Ca=function(h,k){var l,n,p=Ca.$$p,t=p||b,v=b,w=b,x=b,y=b,C=w=b,z=b,A=b,F=x=b,x=b;p&&(Ca.$$p=null);v=h.$to_s().$tr("_"," ");w=q(v.$split(),"map",[],(l=function(a){null==a&&(a=b);return a.$capitalize()},l.$$s=this,l.$$arity=1,l)).$push("Processor").$join().$to_sym();x=f(u,"Extensions").$const_get(w);y=m(d("::","AsciidoctorJ","skip_raise")?"constant":b)?d(d("::","AsciidoctorJ"),
"Extensions").$const_get(w):b;w=m(n=this.$instance_variable_get(("@"+h+"_extensions").$to_sym()))?n:this.$instance_variable_set(("@"+h+"_extensions").$to_sym(),e([],{}));if(t!==b)return l=this.$resolve_args(k,2),n=a.to_ary(l),C=null==n[0]?b:n[0],z=null==n[1]?b:n[1],l,A=x.$new(this.$as_symbol(C),z),m(x.$constants().$grep("DSL"))&&A.$extend(x.$const_get("DSL")),t.$arity()["$=="](1)?a.yield1(t,A):q(A,"instance_exec",[],t.$to_proc()),m(C=this.$as_symbol(A.$name()))||this.$raise(d("::","ArgumentError"),
"No name specified for "+v+" extension at "+t.$source_location()),m(A["$process_block_given?"]())||this.$raise(d("::","NoMethodError"),"No block specified to process "+v+" extension at "+t.$source_location()),A.$freeze(),x=[C,f(u,"ProcessorExtension").$new(h,A)],q(w,"[]=",a.to_a(x)),x[c(x.length,1)];l=this.$resolve_args(k,3);n=a.to_ary(l);A=null==n[0]?b:n[0];C=null==n[1]?b:n[1];z=null==n[2]?b:n[2];l;return m(F=f(u,"Extensions").$resolve_class(A))?(m(m(n=r(F,x))?n:m(l=y)?r(F,y):l)||this.$raise(d("::",
"ArgumentError"),"Class specified for "+v+" extension does not inherit from "+x+": "+A),x=F.$new(this.$as_symbol(C),z),m(C=this.$as_symbol(x.$name()))||this.$raise(d("::","ArgumentError"),"No name specified for "+v+" extension: "+A),x.$freeze(),x=[C,f(u,"ProcessorExtension").$new(h,x)],q(w,"[]=",a.to_a(x)),x[c(x.length,1)]):m(m(n=x["$==="](A))?n:m(l=y)?y["$==="](A):l)?(A.$update_config(z),m(C)?(x=[this.$as_symbol(C)],q(A,"name=",a.to_a(x)),n=x[c(x.length,1)]):n=this.$as_symbol(A.$name()),m(C=n)||
this.$raise(d("::","ArgumentError"),"No name specified for "+v+" extension: "+A),A.$freeze(),x=[C,f(u,"ProcessorExtension").$new(h,A)],q(w,"[]=",a.to_a(x)),x[c(x.length,1)]):this.$raise(d("::","ArgumentError"),"Invalid arguments specified for registering "+v+" extension: "+k)},Ca.$$arity=2);a.def(h,"$resolve_args",Da=function(a,f){var h=b,l=b,h=m(d("::","Hash")["$==="](a["$[]"](-1)))?a.$pop():e([],{});if(f["$=="](1))return h;m(p(l=c(c(f,1),a.$size()),0))?a=k(a,d("::","Array").$new(l)):m(r(l,0))&&
a.$pop(l["$-@"]());a["$<<"](h);return a},Da.$$arity=2);return(a.def(h,"$as_symbol",Ha=function(a){return m(a)?a.$to_sym():b},Ha.$$arity=1),b)&&"as_symbol"})(y[0],null,y);(function(h,l){var p=[h].concat(l),t,r,v,x,u,y,C,z,A,B,E;a.def(h,"$generate_name",t=function(){return"extgrp"+this.$next_auto_id()},t.$$arity=0);a.def(h,"$next_auto_id",r=function(){var a;null==this.auto_id&&(this.auto_id=b);this.auto_id=m(a=this.auto_id)?a:-1;return this.auto_id=k(this.auto_id,1)},r.$$arity=0);a.def(h,"$groups",
v=function(){var a;null==this.groups&&(this.groups=b);return this.groups=m(a=this.groups)?a:e([],{})},v.$$arity=0);a.def(h,"$create",x=function(a){var c,d=x.$$p,e=d||b;null==a&&(a=b);d&&(x.$$p=null);return e!==b?f(p,"Registry").$new(n(m(c=a)?c:this.$generate_name(),e)):f(p,"Registry").$new()},x.$$arity=-1);a.alias(h,"build_registry","create");a.def(h,"$register",u=function(e){var f,h,k=u.$$p,l=k||b,n=b,p=b,t=b,r=b;h=b;n=arguments.length;h=n-0;0>h&&(h=0);h=Array(h);for(r=0;r<n;r++)h[r-0]=arguments[r];
k&&(u.$$p=null);n=h.$size();l!==b?p=l:m(t=h.$pop())?p=m(f=this.$resolve_class(t))?f:t:this.$raise(d("::","ArgumentError"),"Extension group to register not specified");r=m(f=h.$pop())?f:this.$generate_name();m(h["$empty?"]())||this.$raise(d("::","ArgumentError"),"Wrong number of arguments ("+n+" for 1..2)");h=[r.$to_sym(),p];q(this.$groups(),"[]=",a.to_a(h));return h[c(h.length,1)]},u.$$arity=-1);a.def(h,"$unregister_all",y=function(){this.groups=e([],{});return b},y.$$arity=0);a.def(h,"$unregister",
C=function(a){var c,d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var g=0;g<e;g++)d[g-0]=arguments[g];q(d,"each",[],(c=function(a){var d=c.$$s||this;null==d.groups&&(d.groups=b);null==a&&(a=b);return d.groups.$delete(a.$to_sym())},c.$$s=this,c.$$arity=1,c));return b},C.$$arity=-1);a.def(h,"$resolve_class",z=function(a){var c=b,c=a;return d("::","Class")["$==="](c)?a:d("::","String")["$==="](c)?this.$class_for_name(a):b},z.$$arity=1);return m(f(p,"RUBY_MIN_VERSION_2"))?(a.def(h,"$class_for_name",
A=function(c){var e=b;try{return e=d("::","Object").$const_get(c,!1),m(d("::","Class")["$==="](e))||this.$raise(),e}catch(g){if(a.rescue(g,[f(p,"StandardError")]))try{return this.$raise(d("::","NameError"),"Could not resolve class for name: "+c)}finally{a.pop_exception()}else throw g;}},A.$$arity=1),b)&&"class_for_name":m(f(p,"RUBY_MIN_VERSION_1_9"))?(a.def(h,"$class_for_name",B=function(c){var e,g=b;try{return g=q(c.$split("::"),"reduce",[d("::","Object")],(e=function(a,c){null==a&&(a=b);null==c&&
(c=b);return m(c["$empty?"]())?a:a.$const_get(c,!1)},e.$$s=this,e.$$arity=2,e)),m(d("::","Class")["$==="](g))||this.$raise(),g}catch(h){if(a.rescue(h,[f(p,"StandardError")]))try{return this.$raise(d("::","NameError"),"Could not resolve class for name: "+c)}finally{a.pop_exception()}else throw h;}},B.$$arity=1),b)&&"class_for_name":(a.def(h,"$class_for_name",E=function(c){var e,g=b;try{return g=q(c.$split("::"),"reduce",[d("::","Object")],(e=function(a,c){var d=e.$$s||this;null==a&&(a=b);null==c&&
(c=b);return m(c["$empty?"]())?a:m(a["$const_defined?"](c))?a.$const_get(c):d.$raise()},e.$$s=this,e.$$arity=2,e)),m(d("::","Class")["$==="](g))||this.$raise(),g}catch(h){if(a.rescue(h,[f(p,"StandardError")]))try{return this.$raise(d("::","NameError"),"Could not resolve class for name: "+c)}finally{a.pop_exception()}else throw h;}},E.$$arity=1),b)&&"class_for_name"})(a.get_singleton_class(u),y)})(u[0],u)}(h[0],h)};Opal.modules["asciidoctor/js/opal_ext/browser/reader"]=function(a){var c=[],k=a.nil,
p=a.const_get_relative,r=a.module,v=a.klass,h=a.truthy;a.add_stubs("$posixify $new $base_dir $start_with? $uriish? $descends_from? $key? $attributes $replace_next_line $absolute_path? $== $empty? $! $slice $length".split(" "));return function(b,c){var g=[r(b,"Asciidoctor")].concat(c);(function(b,$super,c){function d(){}b=d=v(b,$super,"PreprocessorReader",d);var g=b.$$proto,f=[b].concat(c),r;g.path_resolver=g.document=g.include_stack=g.dir=k;return(a.def(b,"$resolve_include_path",r=function(a,b,c){var d,
e=k,g=k,l=k,m=l=e=k;c=k;e=(this.path_resolver=h(d=this.path_resolver)?d:p(f,"PathResolver").$new("\\")).$posixify(a);d=["file",this.document.$base_dir()];g=d[1];d;if(h(e["$start_with?"]("file://")))l=e;else if(h(p(f,"Helpers")["$uriish?"](e))){if(!h(h(d=this.path_resolver["$descends_from?"](e,g))?d:this.document.$attributes()["$key?"]("allow-uri-read")))return this.$replace_next_line("link:"+a+"["+b+"]");l=e}else if(h(this.path_resolver["$absolute_path?"](e)))l=e="file://"+(h(e["$start_with?"]("/"))?
"":"/")+e;else if((l=h(m=this.include_stack["$empty?"]())?g:this.dir)["$=="]("."))l=e;else if(h(h(d=l["$start_with?"]("file://"))?d:p(f,"Helpers")["$uriish?"](l)["$!"]()))l=""+l+"/"+e,e=h(m)?e:h(h(d=g["$=="]("."))?d:(c=this.path_resolver["$descends_from?"](l,g))["$!"]())?l:l.$slice(c,l.$length());else if(h(m))l=""+l+"/"+e;else if(h(h(d=c=this.path_resolver["$descends_from?"](l,g))?d:this.document.$attributes()["$key?"]("allow-uri-read")))l=""+l+"/"+e,e=h(c)?l.$slice(c,l.$length()):e;else return this.$replace_next_line("link:"+
a+"["+b+"]");return[l,"file",e]},r.$$arity=3),k)&&"resolve_include_path"})(g[0],p(g,"Reader"),g)}(c[0],c)};Opal.modules["asciidoctor/js/postscript"]=function(a){var c=a.top,k=a.nil,p=a.const_get_relative;a.add_stubs(["$require","$=="]);c.$require("asciidoctor/converter/composite");c.$require("asciidoctor/converter/html5");c.$require("asciidoctor/extensions");return p([],"JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest")?c.$require("asciidoctor/js/opal_ext/browser/reader"):k};(function(a){function c(a,
b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var r=a.top,v=[],h=a.nil,b=a.const_get_qualified,d=a.const_get_relative,f=a.truthy,m=a.gvars,x=a.module,l=a.hash2,e=a.send,q=a.hash;null==m[":"]&&(m[":"]=h);a.add_stubs("$== $>= $require $unshift $dirname $each $constants $const_get $downcase $to_s $[]= $- $upcase $[] $values $new $attr_reader $instance_variable_set $send $<< $define $expand_path $join $home $pwd $! $!= $default_external $to_set $map $keys $slice $merge $default= $* $to_a $dup $insert $start $logger $logger= $=== $split $gsub $respond_to? $raise $ancestors $class $path $utc $at $Integer $mtime $readlines $basename $extname $index $strftime $year $rewind $lines $each_line $record $parse $exception $message $set_backtrace $backtrace $stack_trace $stack_trace= $open $load $delete $key? $attributes $outfilesuffix $safe $normalize_system_path $mkdir_p $directory? $convert $write $< $attr? $attr $uriish? $include? $write_primary_stylesheet $instance $empty? $read_asset $file? $write_coderay_stylesheet $write_pygments_stylesheet".split(" "));
f(d(v,"RUBY_ENGINE","skip_raise")?"constant":h)||a.const_set(v[0],"RUBY_ENGINE","unknown");a.const_set(v[0],"RUBY_ENGINE_OPAL",d(v,"RUBY_ENGINE")["$=="]("opal"));a.const_set(v[0],"RUBY_ENGINE_JRUBY",d(v,"RUBY_ENGINE")["$=="]("jruby"));a.const_set(v[0],"RUBY_MIN_VERSION_1_9",c(d(v,"RUBY_VERSION"),"1.9"));a.const_set(v[0],"RUBY_MIN_VERSION_2",c(d(v,"RUBY_VERSION"),"2"));r.$require("set");d(v,"RUBY_ENGINE")["$=="]("opal")?r.$require("asciidoctor/js"):h;m[":"].$unshift(d(v,"File").$dirname("asciidoctor.rb"));
r.$require("asciidoctor/logging");(function(m,r){var v=x(m,"Asciidoctor"),u=[v].concat(r),y,z,A=h,B=h,E=h;a.const_set(u[0],"RUBY_ENGINE",b("::","RUBY_ENGINE"));(function(b,c){var d=x(b,"SafeMode"),g=[d].concat(c),f,m,n,p,q=h;a.const_set(g[0],"UNSAFE",0);a.const_set(g[0],"SAFE",1);a.const_set(g[0],"SERVER",10);a.const_set(g[0],"SECURE",20);q=l([],{});e((a.Module.$$nesting=g,d.$constants()),"each",[],(f=function(b){var c=f.$$s||this,d=h;null==b&&(b=h);d=[c.$const_get(b),b.$to_s().$downcase()];e(q,"[]=",
a.to_a(d));return d[k(d.length,1)]},f.$$s=d,f.$$arity=1,f));d.names_by_value=q;a.defs(d,"$value_for_name",m=function(a){return this.$const_get(a.$upcase())},m.$$arity=1);a.defs(d,"$name_for_value",n=function(a){null==this.names_by_value&&(this.names_by_value=h);return this.names_by_value["$[]"](a)},n.$$arity=1);a.defs(d,"$names",p=function(){null==this.names_by_value&&(this.names_by_value=h);return this.names_by_value.$values()},p.$$arity=0)})(u[0],u);(function(c,d){var e=x(c,"Compliance"),g=[e].concat(d),
f;e.keys=b("::","Set").$new();(function(a,b){[a].concat(b);return a.$attr_reader("keys")})(a.get_singleton_class(e),g);a.defs(e,"$define",f=function(b,c){null==this.keys&&(this.keys=h);this.$instance_variable_set("@"+b,c);var d=a.get_singleton_class(this);[d].concat(g);d.$send("attr_accessor",b);this.keys["$<<"](b);return h},f.$$arity=2);e.$define("block_terminates_paragraph",!0);e.$define("strict_verbatim_paragraphs",!0);e.$define("underline_style_section_titles",!0);e.$define("unwrap_standalone_preamble",
!0);e.$define("attribute_missing","skip");e.$define("attribute_undefined","drop-line");e.$define("shorthand_property_syntax",!0);e.$define("natural_xrefs",!0);e.$define("unique_id_start_index",2);e.$define("markdown_syntax",!0)})(u[0],u);a.const_set(u[0],"ROOT_PATH",b("::","File").$dirname(b("::","File").$dirname(b("::","File").$expand_path("asciidoctor.rb"))));a.const_set(u[0],"DATA_PATH",b("::","File").$join(d(u,"ROOT_PATH"),"data"));try{a.const_set(u[0],"USER_HOME",b("::","Dir").$home())}catch(I){if(a.rescue(I,
[d(u,"StandardError")]))try{a.const_set(u[0],"USER_HOME",f(y=b("::","ENV")["$[]"]("HOME"))?y:b("::","Dir").$pwd())}finally{a.pop_exception()}else throw I;}a.const_set(u[0],"COERCE_ENCODING",f(y=b("::","RUBY_ENGINE_OPAL")["$!"]())?b("::","RUBY_MIN_VERSION_1_9"):y);a.const_set(u[0],"FORCE_ENCODING",f(y=d(u,"COERCE_ENCODING"))?b("::","Encoding").$default_external()["$!="](b(b("::","Encoding"),"UTF_8")):y);a.const_set(u[0],"BOM_BYTES_UTF_8",[239,187,191]);a.const_set(u[0],"BOM_BYTES_UTF_16LE",[255,254]);
a.const_set(u[0],"BOM_BYTES_UTF_16BE",[254,255]);a.const_set(u[0],"FORCE_UNICODE_LINE_LENGTH",b("::","RUBY_MIN_VERSION_1_9")["$!"]());a.const_set(u[0],"LF",a.const_set(u[0],"EOL","\n"));a.const_set(u[0],"NULL","\x00");a.const_set(u[0],"TAB","\t");a.const_set(u[0],"MAX_INT",9007199254740991);a.const_set(u[0],"DEFAULT_DOCTYPE","article");a.const_set(u[0],"DEFAULT_BACKEND","html5");a.const_set(u[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set());a.const_set(u[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css");
a.const_set(u[0],"BACKEND_ALIASES",l(["html","docbook"],{html:"html5",docbook:"docbook5"}));a.const_set(u[0],"DEFAULT_PAGE_WIDTHS",l(["docbook"],{docbook:425}));a.const_set(u[0],"DEFAULT_EXTENSIONS",l("html docbook pdf epub manpage asciidoc".split(" "),{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",asciidoc:".adoc"}));a.const_set(u[0],"ASCIIDOC_EXTENSIONS",l([".adoc",".asciidoc",".asc",".ad",".txt"],{".adoc":!0,".asciidoc":!0,".asc":!0,".ad":!0,".txt":!0}));a.const_set(u[0],"SETEXT_SECTION_LEVELS",
l(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4}));a.const_set(u[0],"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set());a.const_set(u[0],"ADMONITION_STYLE_HEADS",["N","T","I","W","C"].$to_set());a.const_set(u[0],"CALLOUT_LIST_HEADS","<1234567890".split("").$to_set());a.const_set(u[0],"PARAGRAPH_STYLES","comment example literal listing normal open pass quote sidebar source verse abstract partintro".split(" ").$to_set());a.const_set(u[0],"VERBATIM_STYLES",["literal",
"listing","source","verse"].$to_set());a.const_set(u[0],"DELIMITED_BLOCKS",l('-- ---- .... ==== **** ____ "" ++++ |=== ,=== :=== !=== //// ```'.split(" "),{"--":["open","comment example literal listing pass quote sidebar source verse admonition abstract partintro".split(" ").$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",b("::","Set").$new()],____:["quote",["verse"].$to_set()],
'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",b("::","Set").$new()],",===":["table",b("::","Set").$new()],":===":["table",b("::","Set").$new()],"!===":["table",b("::","Set").$new()],"////":["comment",b("::","Set").$new()],"```":["fenced_code",b("::","Set").$new()]}));a.const_set(u[0],"DELIMITED_BLOCK_HEADS",e(d(u,"DELIMITED_BLOCKS").$keys(),"map",[],(z=function(a){null==a&&(a=h);return a.$slice(0,2)},z.$$s=v,z.$$arity=1,z)).$to_set());
a.const_set(u[0],"LAYOUT_BREAK_CHARS",l(["'","<"],{"'":"thematic_break","<":"page_break"}));a.const_set(u[0],"MARKDOWN_THEMATIC_BREAK_CHARS",l(["-","*","_"],{"-":"thematic_break","*":"thematic_break",_:"thematic_break"}));a.const_set(u[0],"HYBRID_LAYOUT_BREAK_CHARS",d(u,"LAYOUT_BREAK_CHARS").$merge(d(u,"MARKDOWN_THEMATIC_BREAK_CHARS")));a.const_set(u[0],"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]);a.const_set(u[0],"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]);
a.const_set(u[0],"ORDERED_LIST_KEYWORDS",l(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"}));a.const_set(u[0],"ATTR_REF_HEAD","{");a.const_set(u[0],"LIST_CONTINUATION","+");a.const_set(u[0],"HARD_LINE_BREAK"," +");a.const_set(u[0],"LINE_CONTINUATION"," \\");a.const_set(u[0],"LINE_CONTINUATION_LEGACY"," +");a.const_set(u[0],"MATHJAX_VERSION","2.7.4");a.const_set(u[0],"BLOCK_MATH_DELIMITERS",l(["asciimath","latexmath"],{asciimath:["\\$",
"\\$"],latexmath:["\\[","\\]"]}));a.const_set(u[0],"INLINE_MATH_DELIMITERS",l(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]}));A=["asciimath"];e(a.const_set(u[0],"STEM_TYPE_ALIASES",l(["latexmath","latex","tex"],{latexmath:"latexmath",latex:"latexmath",tex:"latexmath"})),"default=",a.to_a(A));A[k(A.length,1)];a.const_set(u[0],"FONT_AWESOME_VERSION","4.7.0");a.const_set(u[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]);d(u,"RUBY_ENGINE")["$=="]("opal")||h;a.const_set(u[0],"AuthorInfoLineRx",
new RegExp("^("+d(u,"CG_WORD")+"["+d(u,"CC_WORD")+"\\-'.]*)(?: +("+d(u,"CG_WORD")+"["+d(u,"CC_WORD")+"\\-'.]*))?(?: +("+d(u,"CG_WORD")+"["+d(u,"CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$"));a.const_set(u[0],"RevisionInfoLineRx",/^(?:\D*([^\n]*?),)? *(?!:)([^\n]*?)(?: *(?!^),?: *([^\n]*))?$/);a.const_set(u[0],"ManpageTitleVolnumRx",/^([^\n]+?) *\( *([^\n]+?) *\)$/);a.const_set(u[0],"ManpageNamePurposeRx",/^([^\n]+?) +- +([^\n]+)$/);a.const_set(u[0],"ConditionalDirectiveRx",/^(\\)?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,+])\S*?)?)\[([^\n]+)?\]$/);
a.const_set(u[0],"EvalExpressionRx",/^([^\n]+?) *([=!><]=|[><]) *([^\n]+)$/);a.const_set(u[0],"IncludeDirectiveRx",/^(\\)?include::([^\[][^\[]*)\[([^\n]+)?\]$/);a.const_set(u[0],"TagDirectiveRx",/\b(?:tag|(e)nd)::(\S+?)\[\][\n \r]/);a.const_set(u[0],"AttributeEntryRx",new RegExp("^:(!?"+d(u,"CG_WORD")+"[^:]*):(?:[ \\t]+(.*))?$"));a.const_set(u[0],"InvalidAttributeNameCharsRx",new RegExp("[^"+d(u,"CC_WORD")+"-]"));d(u,"RUBY_ENGINE")["$=="]("opal")?a.const_set(u[0],"AttributeEntryPassMacroRx",/^pass:([a-z]+(?:,[a-z]+)*)?\[([\S\s]*)\]$/):
h;a.const_set(u[0],"AttributeReferenceRx",new RegExp("(\\\\)?\\{("+d(u,"CG_WORD")+"+[-"+d(u,"CC_WORD")+"]*|(set|counter2?):.+?)(\\\\)?\\}"));a.const_set(u[0],"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+d(u,"CC_ALPHA")+"_:]["+d(u,"CC_WORD")+":.-]*)(?:, *(.+))?)\\]\\]$"));a.const_set(u[0],"BlockAttributeListRx",new RegExp("^\\[(|["+d(u,"CC_WORD")+".#%{,\"'].*)\\]$"));a.const_set(u[0],"BlockAttributeLineRx",new RegExp("^\\[(?:|["+d(u,"CC_WORD")+".#%{,\"'].*|\\[(?:|["+d(u,"CC_ALPHA")+"_:]["+d(u,"CC_WORD")+
":.-]*(?:, *.+)?)\\])\\]$"));a.const_set(u[0],"BlockTitleRx",/^\.(\.?[^ \t.][^\n]*)$/);a.const_set(u[0],"AdmonitionParagraphRx",new RegExp("^("+p(d(u,"ADMONITION_STYLES").$to_a(),"|")+"):[ \\t]+"));a.const_set(u[0],"LiteralParagraphRx",/^([ \t]+[^\n]*)$/);a.const_set(u[0],"AtxSectionTitleRx",/^(=={0,5})[ \t]+([^\n]+?)(?:[ \t]+\1)?$/);a.const_set(u[0],"ExtAtxSectionTitleRx",/^(=={0,5}|#\#{0,5})[ \t]+([^\n]+?)(?:[ \t]+\1)?$/);a.const_set(u[0],"SetextSectionTitleRx",new RegExp("^((?=.*"+d(u,"CG_WORD")+
"+.*)[^.].*?)$"));a.const_set(u[0],"InlineSectionAnchorRx",new RegExp(" (\\\\)?\\[\\[(["+d(u,"CC_ALPHA")+"_:]["+d(u,"CC_WORD")+":.-]*)(?:, *(.+))?\\]\\]$"));a.const_set(u[0],"InvalidSectionIdCharsRx",new RegExp("<[^>]+>|&(?:[a-z][a-z]+\\d{0,2}|#\\d\\d\\d{0,4}|#x[\\da-f][\\da-f][\\da-f]{0,3});|[^ "+d(u,"CC_WORD")+"\\-.]+?"));a.const_set(u[0],"AnyListRx",/^(?:[ \t]*(?:-|\*\*{0,4}|\.\.{0,4}|\u2022\u2022{0,4}|\d+\.|[a-zA-Z]\.|[IVXivx]+\))[ \t]|[ \t]*[^\n]*?(?::::{0,2}|;;)(?:$|[ \t])|<?\d+>[ \t])/);a.const_set(u[0],
"UnorderedListRx",/^[ \t]*(-|\*\*{0,4}|\u2022\u2022{0,4})[ \t]+([^\n]*)$/);a.const_set(u[0],"OrderedListRx",/^[ \t]*(\.\.{0,4}|\d+\.|[a-zA-Z]\.|[IVXivx]+\))[ \t]+([^\n]*)$/);a.const_set(u[0],"OrderedListMarkerRxMap",l(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/}));a.const_set(u[0],"DescriptionListRx",/^(?!\/\/)[ \t]*([^\n]*?)(:::{0,2}|;;)(?:$|[ \t]+([^\n]*)$)/);a.const_set(u[0],
"DescriptionListSiblingRx",l(["::",":::","::::",";;"],{"::":/^(?!\/\/)[ \t]*(.*[^:]|)(::)(?:$|[ \t]+(.*)$)/,":::":/^(?!\/\/)[ \t]*(.*[^:]|)(:::)(?:$|[ \t]+(.*)$)/,"::::":/^(?!\/\/)[ \t]*(.*[^:]|)(::::)(?:$|[ \t]+(.*)$)/,";;":/^(?!\/\/)[ \t]*(.*?)(;;)(?:$|[ \t]+(.*)$)/}));a.const_set(u[0],"CalloutListRx",/^<?(\d+)>[ \t]+([^\n]*)$/);a.const_set(u[0],"CalloutListSniffRx",/^<?\d+>/);a.const_set(u[0],"CalloutExtractRx",/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(|--)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/);a.const_set(u[0],
"CalloutExtractRxt","(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)");a.const_set(u[0],"CalloutScanRx",new RegExp("\\\\?<!?(|--)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+d(u,"CC_EOL")+")"));a.const_set(u[0],"CalloutSourceRx",new RegExp("(?:(?://|#|--|;;) ?)?(\\\\)?&lt;!?(|--)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+d(u,"CC_EOL")+")"));a.const_set(u[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+d(u,"CC_EOL")+")");a.const_set(u[0],"ListRxMap",l(["ulist","olist","dlist",
"colist"],{ulist:d(u,"UnorderedListRx"),olist:d(u,"OrderedListRx"),dlist:d(u,"DescriptionListRx"),colist:d(u,"CalloutListRx")}));a.const_set(u[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?|~)?([a-z])?$/);a.const_set(u[0],"CellSpecStartRx",/^[ \t]*(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/);a.const_set(u[0],"CellSpecEndRx",/[ \t]+(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/);
a.const_set(u[0],"CustomBlockMacroRx",new RegExp("^("+d(u,"CG_WORD")+"+)::(|\\S|\\S.*?\\S)\\[(.+)?\\]$"));a.const_set(u[0],"BlockMediaMacroRx",/^(image|video|audio)::(\S|\S[^\n]*?\S)\[([^\n]+)?\]$/);a.const_set(u[0],"BlockTocMacroRx",/^toc::\[([^\n]+)?\]$/);a.const_set(u[0],"InlineAnchorRx",new RegExp("(\\\\)?(?:\\[\\[(["+d(u,"CC_ALPHA")+"_:]["+d(u,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]|anchor:(["+d(u,"CC_ALPHA")+"_:]["+d(u,"CC_WORD")+":.-]*)\\[(?:\\]|(.*?[^\\\\])\\]))"));a.const_set(u[0],"InlineAnchorScanRx",
new RegExp("(?:^|[^\\\\\\[])\\[\\[(["+d(u,"CC_ALPHA")+"_:]["+d(u,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]|(?:^|[^\\\\])anchor:(["+d(u,"CC_ALPHA")+"_:]["+d(u,"CC_WORD")+":.-]*)\\[(?:\\]|(.*?[^\\\\])\\])"));a.const_set(u[0],"LeadingInlineAnchorRx",new RegExp("^\\[\\[(["+d(u,"CC_ALPHA")+"_:]["+d(u,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]"));a.const_set(u[0],"InlineBiblioAnchorRx",new RegExp("^\\[\\[\\[(["+d(u,"CC_ALPHA")+"_:]["+d(u,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]\\]"));a.const_set(u[0],"InlineEmailRx",
new RegExp("([\\\\>:/])?"+d(u,"CG_WORD")+"["+d(u,"CC_WORD")+".%+-]*@"+d(u,"CG_ALNUM")+"["+d(u,"CC_ALNUM")+".-]*\\."+d(u,"CG_ALPHA")+"{2,4}\\b"));a.const_set(u[0],"InlineFootnoteMacroRx",new RegExp("\\\\?footnote(?:(ref):|:([\\w-]+)?)\\[(?:|("+d(u,"CC_ALL")+"*?[^\\\\]))\\]","m"));a.const_set(u[0],"InlineImageMacroRx",new RegExp("\\\\?i(?:mage|con):([^:\\s\\[](?:[^\\n\\[]*[^\\s\\[])?)\\[(|"+d(u,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(u[0],"InlineIndextermMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+
d(u,"CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+d(u,"CC_ALL")+"+?)\\)\\)(?!\\)))","m"));a.const_set(u[0],"InlineKbdBtnMacroRx",new RegExp("(\\\\)?(kbd|btn):\\[("+d(u,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(u[0],"InlineLinkRx",new RegExp("(^|link:|"+d(u,"CG_BLANK")+"|&lt;|[>\\(\\)\\[\\];])(\\\\?(?:https?|file|ftp|irc)://[^\\s\\[\\]<]*[^\\s.,\\[\\]<])(?:\\[(|"+d(u,"CC_ALL")+"*?[^\\\\])\\])?","m"));a.const_set(u[0],"InlineLinkMacroRx",new RegExp("\\\\?(?:link|(mailto)):(|[^:\\s\\[][^\\s\\[]*)\\[(|"+d(u,"CC_ALL")+
"*?[^\\\\])\\]","m"));a.const_set(u[0],"MacroNameRx",new RegExp("^"+d(u,"CG_WORD")+"+$"));a.const_set(u[0],"InlineStemMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z]+(?:,[a-z]+)*)?\\[("+d(u,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(u[0],"InlineMenuMacroRx",new RegExp("\\\\?menu:("+d(u,"CG_WORD")+"|["+d(u,"CC_WORD")+"&][^\\n\\[]*[^\\s\\[])\\[ *("+d(u,"CC_ALL")+"*?[^\\\\])?\\]","m"));a.const_set(u[0],"InlineMenuRx",new RegExp('\\\\?"(['+d(u,"CC_WORD")+'&][^"]*?[ \\n]+&gt;[ \\n]+[^"]*)"'));
a.const_set(u[0],"InlinePassRx",q(!1,["+","`",new RegExp("(^|[^"+d(u,"CC_WORD")+";:])(?:\\[([^\\]]+)\\])?(\\\\?(\\+|`)(\\S|\\S"+d(u,"CC_ALL")+"*?\\S)\\4)(?!"+d(u,"CG_WORD")+")","m")],!0,["`",h,new RegExp("(^|[^`"+d(u,"CC_WORD")+"])(?:\\[([^\\]]+)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+d(u,"CC_ALL")+"*?\\S)\\4)(?![`"+d(u,"CC_WORD")+"])","m")]));a.const_set(u[0],"SinglePlusInlinePassRx",new RegExp("^(\\\\)?\\+(\\S|\\S"+d(u,"CC_ALL")+"*?\\S)\\+$","m"));a.const_set(u[0],"InlinePassMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+)\\])?(\\\\{0,2})(\\+\\+\\+?|\\$\\$)("+
d(u,"CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z]+(?:,[a-z]+)*)?\\[(|"+d(u,"CC_ALL")+"*?[^\\\\])\\])","m"));a.const_set(u[0],"InlineXrefMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+d(u,"CC_WORD")+"#/.:{]"+d(u,"CC_ALL")+"*?)&gt;&gt;|xref:(["+d(u,"CC_WORD")+"#/.:{]"+d(u,"CC_ALL")+"*?)\\[(?:\\]|("+d(u,"CC_ALL")+"*?[^\\\\])\\]))","m"));d(u,"RUBY_ENGINE")["$=="]("opal")?a.const_set(u[0],"HardLineBreakRx",/^(.*) \+$/m):h;a.const_set(u[0],"MarkdownThematicBreakRx",/^ {0,3}([-*_])( *)\1\2\1$/);a.const_set(u[0],"ExtLayoutBreakRx",
/^(?:'{3,}|<{3,}|([-*_])( *)\1\2\1)$/);a.const_set(u[0],"BlankLineRx",/\n{2,}/);a.const_set(u[0],"DataDelimiterRx",/[,;]/);a.const_set(u[0],"TrailingDigitsRx",/\d+$/);a.const_set(u[0],"EscapedSpaceRx",/\\([ \t\n])/);a.const_set(u[0],"ReplaceableTextRx",/[&']|--|\.\.\.|\([CRT]M?\)/);a.const_set(u[0],"SpaceDelimiterRx",/([^\\])[ \t\n]+/);a.const_set(u[0],"SubModifierSniffRx",/[+-]/);d(u,"RUBY_ENGINE")["$=="]("opal")||h;a.const_set(u[0],"UriSniffRx",new RegExp("^"+d(u,"CG_ALPHA")+"["+d(u,"CC_ALNUM")+
".+-]+:/{0,2}"));a.const_set(u[0],"UriTerminatorRx",/[);:]$/);a.const_set(u[0],"XmlSanitizeRx",/<[^>]+>/);a.const_set(u[0],"INTRINSIC_ATTRIBUTES",l("startsb endsb vbar caret asterisk tilde plus backslash backtick blank empty sp two-colons two-semicolons nbsp deg zwsp quot apos lsquo rsquo ldquo rdquo wj brvbar cpp amp lt gt".split(" "),{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",
nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"}));B=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\*\\*("+d(u,"CC_ALL")+"+?)\\*\\*","m")],["strong","constrained",new RegExp("(^|[^"+d(u,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\*(\\S|\\S"+d(u,"CC_ALL")+"*?\\S)\\*(?!"+d(u,"CG_WORD")+")","m")],["double","constrained",new RegExp("(^|[^"+d(u,
"CC_WORD")+';:}])(?:\\[([^\\]]+)\\])?"`(\\S|\\S'+d(u,"CC_ALL")+'*?\\S)`"(?!'+d(u,"CG_WORD")+")","m")],["single","constrained",new RegExp("(^|[^"+d(u,"CC_WORD")+";:`}])(?:\\[([^\\]]+)\\])?'`(\\S|\\S"+d(u,"CC_ALL")+"*?\\S)`'(?!"+d(u,"CG_WORD")+")","m")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?``("+d(u,"CC_ALL")+"+?)``","m")],["monospaced","constrained",new RegExp("(^|[^"+d(u,"CC_WORD")+";:\"'`}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+d(u,"CC_ALL")+"*?\\S)`(?!["+d(u,"CC_WORD")+"\"'`])",
"m")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?__("+d(u,"CC_ALL")+"+?)__","m")],["emphasis","constrained",new RegExp("(^|[^"+d(u,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?_(\\S|\\S"+d(u,"CC_ALL")+"*?\\S)_(?!"+d(u,"CG_WORD")+")","m")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?##("+d(u,"CC_ALL")+"+?)##","m")],["mark","constrained",new RegExp("(^|[^"+d(u,"CC_WORD")+"&;:}])(?:\\[([^\\]]+)\\])?#(\\S|\\S"+d(u,"CC_ALL")+"*?\\S)#(?!"+d(u,"CG_WORD")+")","m")],["superscript",
"unconstrained",/\\?(?:\[([^\]]+)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+)\])?~(\S+?)~/]];E=B.$dup();A=[2,["double","constrained",new RegExp("(^|[^"+d(u,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?``(\\S|\\S"+d(u,"CC_ALL")+"*?\\S)''(?!"+d(u,"CG_WORD")+")","m")]];e(E,"[]=",a.to_a(A));A[k(A.length,1)];A=[3,["single","constrained",new RegExp("(^|[^"+d(u,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+d(u,"CC_ALL")+"*?\\S)'(?!"+d(u,"CG_WORD")+")","m")]];e(E,"[]=",a.to_a(A));A[k(A.length,
1)];A=[4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\+\\+("+d(u,"CC_ALL")+"+?)\\+\\+","m")]];e(E,"[]=",a.to_a(A));A[k(A.length,1)];A=[5,["monospaced","constrained",new RegExp("(^|[^"+d(u,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\+(\\S|\\S"+d(u,"CC_ALL")+"*?\\S)\\+(?!"+d(u,"CG_WORD")+")","m")]];e(E,"[]=",a.to_a(A));A[k(A.length,1)];E.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+d(u,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?'(\\S|\\S"+d(u,"CC_ALL")+"*?\\S)'(?!"+d(u,"CG_WORD")+
")","m")]);a.const_set(u[0],"QUOTE_SUBS",q(!1,B,!0,E));E=B=h;a.const_set(u[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+d(u,"CG_WORD")+")\\\\?--(?="+d(u,"CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+d(u,"CG_ALNUM")+")\\\\?'(?="+d(u,"CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;",
"none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z][a-zA-Z]+\d{0,2}|#\d\d\d{0,4}|#x[\da-fA-F][\da-fA-F][\da-fA-F]{0,3});)/,"","bounding"]]);(function(m,n){var q=[m].concat(n),r,v,u,x;a.def(m,"$load",r=function(c,g){var m,n,r,v,u,w=h,x=h,y=h,z=h,A=h,B=h,C=h,E=h,I=h,J=h,L=h,N=h,O=h,Q=h;null==g&&(g=l([],{}));try{g=g.$dup();f(w=g["$[]"]("timings"))&&w.$start("read");f(f(m=x=g["$[]"]("logger"))?x["$!="](d(q,"LoggerManager").$logger()):
m)&&(y=[x],e(d(q,"LoggerManager"),"logger=",a.to_a(y)),y[k(y.length,1)]);f((z=g["$[]"]("attributes"))["$!"]())?z=l([],{}):f(f(m=b("::","Hash")["$==="](z))?m:f(n=b("::","RUBY_ENGINE_JRUBY"))?b(b(b("::","Java"),"JavaUtil"),"Map")["$==="](z):n)?z=z.$dup():f(b("::","Array")["$==="](z))?(m=[l([],{}),z],z=m[0],A=m[1],m,e(A,"each",[],(r=function(b){var c,d=h,g=h;null==b&&(b=h);c=b.$split("=",2);b=a.to_ary(c);d=null==b[0]?h:b[0];g=null==b[1]?h:b[1];c;y=[d,f(b=g)?b:""];e(z,"[]=",a.to_a(y));return y[k(y.length,
1)]},r.$$s=this,r.$$arity=1,r))):f(b("::","String")["$==="](z))?(m=[l([],{}),z.$gsub(d(q,"SpaceDelimiterRx"),"\\1"+d(q,"NULL")).$gsub(d(q,"EscapedSpaceRx"),"\\1").$split(d(q,"NULL"))],z=m[0],A=m[1],m,e(A,"each",[],(v=function(b){var c,d=h,g=h;null==b&&(b=h);c=b.$split("=",2);b=a.to_ary(c);d=null==b[0]?h:b[0];g=null==b[1]?h:b[1];c;y=[d,f(b=g)?b:""];e(z,"[]=",a.to_a(y));return y[k(y.length,1)]},v.$$s=this,v.$$arity=1,v))):f(f(m=z["$respond_to?"]("keys"))?z["$respond_to?"]("[]"):m)?z=b("::","Hash")["$[]"](e(z.$keys(),
"map",[],(u=function(a){null==a&&(a=h);return[a,z["$[]"](a)]},u.$$s=this,u.$$arity=1,u))):this.$raise(b("::","ArgumentError"),"illegal type for attributes option: "+p(z.$class().$ancestors()," < "));B=h;if(f(b("::","File")["$==="](c)))C=b("::","File").$expand_path(c.$path()),E=f(b("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?b("::","Time").$at(this.$Integer(b("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():c.$mtime(),B=c.$readlines(),y=["docfile",C],e(z,"[]=",a.to_a(y)),y[k(y.length,1)],y=["docdir",
b("::","File").$dirname(C)],e(z,"[]=",a.to_a(y)),y[k(y.length,1)],y=["docname",d(q,"Helpers").$basename(C,(y=["docfilesuffix",b("::","File").$extname(C)],e(z,"[]=",a.to_a(y)),y[k(y.length,1)]))],e(z,"[]=",a.to_a(y)),y[k(y.length,1)],f(I=z["$[]"]("docdate"))?f(m=z["$[]"]("docyear"))?m:(y=["docyear",I.$index("-")["$=="](4)?I.$slice(0,4):h],e(z,"[]=",a.to_a(y)),y[k(y.length,1)]):(I=(y=["docdate",E.$strftime("%Y-%m-%d")],e(z,"[]=",a.to_a(y)),y[k(y.length,1)]),f(m=z["$[]"]("docyear"))?m:(y=["docyear",
E.$year().$to_s()],e(z,"[]=",a.to_a(y)),y[k(y.length,1)])),J=f(m=z["$[]"]("doctime"))?m:(y=["doctime",E.$strftime("%H:%M:%S %Z")],e(z,"[]=",a.to_a(y)),y[k(y.length,1)]),y=["docdatetime",""+I+" "+J],e(z,"[]=",a.to_a(y)),y[k(y.length,1)];else if(f(c["$respond_to?"]("readlines"))){try{c.$rewind()}catch(S){if(a.rescue(S,[d(q,"StandardError")]))try{h}finally{a.pop_exception()}else throw S;}B=c.$readlines()}else f(b("::","String")["$==="](c))?B=f(b("::","RUBY_MIN_VERSION_2"))?c.$lines():c.$each_line().$to_a():
f(b("::","Array")["$==="](c))?B=c.$dup():this.$raise(b("::","ArgumentError"),"unsupported input type: "+c.$class());f(w)&&(w.$record("read"),w.$start("parse"));y=["attributes",z];e(g,"[]=",a.to_a(y));y[k(y.length,1)];L=g["$[]"]("parse")["$=="](!1)?d(q,"Document").$new(B,g):d(q,"Document").$new(B,g).$parse();f(w)&&w.$record("parse");return L}catch(S){if(a.rescue(S,[d(q,"StandardError")])){N=S;try{try{O="asciidoctor: FAILED: "+(f(m=z["$[]"]("docfile"))?m:"<stdin>")+": Failed to load AsciiDoc document",
f(N["$respond_to?"]("exception"))?(Q=N.$exception(""+O+" - "+N.$message()),Q.$set_backtrace(N.$backtrace())):(Q=N.$class().$new(O,N),y=[N.$stack_trace()],e(Q,"stack_trace=",a.to_a(y)),y[k(y.length,1)])}catch(W){if(a.rescue(W,[d(q,"StandardError")]))try{Q=N}finally{a.pop_exception()}else throw W;}return this.$raise(Q)}finally{a.pop_exception()}}else throw S;}},r.$$arity=-2);a.def(m,"$load_file",v=function(a,c){var d;null==c&&(c=l([],{}));return e(b("::","File"),"open",[a,"rb"],(d=function(a){var b=
d.$$s||this;null==a&&(a=h);return b.$load(a,c)},d.$$s=this,d.$$arity=1,d))},v.$$arity=-2);a.def(m,"$convert",u=function(m,n){var p,t,r,v,u,w=h,x=h,y=h,z=h,A=h,B=h,C=h,E=u=z=h,I=z=h,J=w=w=C=A=h,L=C=A=h,N=x=w=B=h,O=y=h;null==n&&(n=l([],{}));n=n.$dup();n.$delete("parse");w=n.$delete("to_file");x=n.$delete("to_dir");y=f(p=n.$delete("mkdirs"))?p:!1;z=w;if((!0)["$==="](z)||h["$==="](z))A=f(p=x["$!"]())?b("::","File")["$==="](m):p,B=!1,C=x,w=h;else if((!1)["$==="](z))C=B=A=!1,w=h;else{if("/dev/null"["$==="](z))return this.$load(m,
n);A=!1;f(B=w["$respond_to?"]("write"))?C=!1:(z=["to_file",w],e(n,"[]=",a.to_a(z)),C=z[k(z.length,1)])}!f(n["$key?"]("header_footer"))&&f(f(p=A)?p:C)&&(z=["header_footer",!0],e(n,"[]=",a.to_a(z)),z[k(z.length,1)]);f(A)?(u=b("::","File").$expand_path(m.$path()),z=["to_dir",E=b("::","File").$dirname(u)],e(n,"[]=",a.to_a(z)),z[k(z.length,1)]):f(C)&&(f(x)?(z=f(w)?["to_dir",b("::","File").$dirname(b("::","File").$expand_path(b("::","File").$join(x,w)))]:["to_dir",b("::","File").$expand_path(x)],e(n,"[]=",
a.to_a(z)),z[k(z.length,1)]):f(w)&&(z=["to_dir",b("::","File").$dirname(b("::","File").$expand_path(w))],e(n,"[]=",a.to_a(z)),z[k(z.length,1)]));z=this.$load(m,n);f(A)?(I=b("::","File").$join(E,""+z.$attributes()["$[]"]("docname")+z.$outfilesuffix()),I["$=="](u)&&this.$raise(b("::","IOError"),"input file and output file cannot be the same: "+I)):f(C)?(A=f(n["$key?"]("base_dir"))?b("::","File").$expand_path(n["$[]"]("base_dir")):b("::","Dir").$pwd(),C=f(c(z.$safe(),b(d(q,"SafeMode"),"SAFE")))?A:h,
f(x)?(E=z.$normalize_system_path(x,A,C,l(["target_name","recover"],{target_name:"to_dir",recover:!1})),f(w)?(I=z.$normalize_system_path(w,E,h,l(["target_name","recover"],{target_name:"to_dir",recover:!1})),E=b("::","File").$dirname(I)):I=b("::","File").$join(E,""+z.$attributes()["$[]"]("docname")+z.$outfilesuffix())):f(w)&&(I=z.$normalize_system_path(w,A,C,l(["target_name","recover"],{target_name:"to_dir",recover:!1})),E=b("::","File").$dirname(I)),f(f(p=b("::","File")["$==="](m))?I["$=="](b("::",
"File").$expand_path(m.$path())):p)&&this.$raise(b("::","IOError"),"input file and output file cannot be the same: "+I),f(y)?d(q,"Helpers").$mkdir_p(E):f(b("::","File")["$directory?"](E))||this.$raise(b("::","IOError"),"target directory does not exist: "+x+" (hint: set mkdirs option)")):(I=w,E=h);w=f(f(p=I)?B["$!"]():p)?l(["outfile","outdir"],{outfile:I,outdir:E}):l([],{});w=z.$convert(w);return f(I)?(z.$write(w,I),f(u=B["$!"]())&&(u=z.$safe(),I=b(d(q,"SafeMode"),"SECURE"),u="number"===typeof u&&
"number"===typeof I?u<I:u["$<"](I)),f(f(p=f(t=f(r=f(v=u)?z["$attr?"]("linkcss"):v)?z["$attr?"]("copycss"):r)?z["$attr?"]("basebackend-html"):t)?(f(t=J=z.$attr("stylesdir"))?d(q,"Helpers")["$uriish?"](J):t)["$!"]():p)&&(C=A=!1,f(L=z.$attr("stylesheet"))&&(f(d(q,"DEFAULT_STYLESHEET_KEYS")["$include?"](L))?A=!0:f(d(q,"Helpers")["$uriish?"](L)["$!"]())&&(C=!0)),B=f(p=z["$attr?"]("source-highlighter","coderay"))?z.$attr("coderay-css","class")["$=="]("class"):p,w=f(p=z["$attr?"]("source-highlighter","pygments"))?
z.$attr("pygments-css","class")["$=="]("class"):p,f(f(p=f(t=f(r=A)?r:C)?t:B)?p:w)&&(x=z.$normalize_system_path(J,E,f(c(z.$safe(),b(d(q,"SafeMode"),"SAFE")))?E:h),f(y)?d(q,"Helpers").$mkdir_p(x):f(b("::","File")["$directory?"](x))||this.$raise(b("::","IOError"),"target stylesheet directory does not exist: "+x+" (hint: set mkdirs option)"),f(A)?d(q,"Stylesheets").$instance().$write_primary_stylesheet(x):f(C)&&(N=f((N=z.$attr("copycss"))["$empty?"]())?z.$normalize_system_path(L):z.$normalize_system_path(N),
y=z.$normalize_system_path(L,x,f(c(z.$safe(),b(d(q,"SafeMode"),"SAFE")))?E:h),f(f(p=N["$!="](y))?O=z.$read_asset(N,l(["warn_on_failure","label"],{warn_on_failure:b("::","File")["$file?"](y)["$!"](),label:"stylesheet"})):p)&&b("::","IO").$write(y,O)),f(B)?d(q,"Stylesheets").$instance().$write_coderay_stylesheet(x):f(w)&&d(q,"Stylesheets").$instance().$write_pygments_stylesheet(x,z.$attr("pygments-style")))),z):w},u.$$arity=-2);a.alias(m,"render","convert");a.def(m,"$convert_file",x=function(a,c){var d;
null==c&&(c=l([],{}));return e(b("::","File"),"open",[a,"rb"],(d=function(a){var b=d.$$s||this;null==a&&(a=h);return b.$convert(a,c)},d.$$s=this,d.$$arity=1,d))},x.$$arity=-2);a.alias(m,"render_file","convert_file");d(q,"RUBY_ENGINE")["$=="]("opal");return h})(a.get_singleton_class(v),u);d(u,"RUBY_ENGINE")["$=="]("opal")?(v.$require("asciidoctor/timings"),v.$require("asciidoctor/version")):h})(v[0],v);r.$require("asciidoctor/core_ext");r.$require("asciidoctor/helpers");r.$require("asciidoctor/substitutors");
r.$require("asciidoctor/abstract_node");r.$require("asciidoctor/abstract_block");r.$require("asciidoctor/attribute_list");r.$require("asciidoctor/block");r.$require("asciidoctor/callouts");r.$require("asciidoctor/converter");r.$require("asciidoctor/document");r.$require("asciidoctor/inline");r.$require("asciidoctor/list");r.$require("asciidoctor/parser");r.$require("asciidoctor/path_resolver");r.$require("asciidoctor/reader");r.$require("asciidoctor/section");r.$require("asciidoctor/stylesheets");
r.$require("asciidoctor/table");return d(v,"RUBY_ENGINE")["$=="]("opal")?r.$require("asciidoctor/js/postscript"):h})(Opal);var z=function(a){return!a||"$$smap"in a?a:Opal.hash(a)},E=function(a){var c={},k=0,p=a.$$keys;a=a.$$smap;for(var r=p.length;k<r;k++){var u=p[k];c[u]=a[u]}return c},u=function(a){if(a=z(a)){var c=a["$[]"]("attributes");c&&"object"===typeof c&&"Object"===c.constructor.name&&(a=a.$dup(),a["$[]="]("attributes",z(c)))}return a},r=Opal.Asciidoctor.$$class;r.$$proto.getCoreVersion=
function(){return this.$$const.VERSION};r.$$proto.convert=function(a,c){"object"===typeof a&&"Buffer"===a.constructor.name&&(a=a.toString("utf8"));var k=this.$convert(a,u(c));return k===Opal.nil?"":k};r.$$proto.convertFile=function(a,c){return this.$convert_file(a,u(c))};r.$$proto.load=function(a,c){"object"===typeof a&&"Buffer"===a.constructor.name&&(a=a.toString("utf8"));return this.$load(a,u(c))};r.$$proto.loadFile=function(a,c){return this.$load_file(a,u(c))};var p=Opal.Asciidoctor.AbstractBlock;
p.$$proto.getTitle=function(){var a=this.$title();return a===Opal.nil?void 0:a};p.$$proto.getCaptionedTitle=function(){return this.$captioned_title()};p.$$proto.getStyle=function(){return this.style};p.$$proto.getCaption=function(){return this.$caption()};p.$$proto.setCaption=function(a){this.caption=a};p.$$proto.getLevel=function(){return this.level};p.$$proto.getSubstitutions=function(){return this.subs};p.$$proto.hasSubstitution=function(a){return this["$sub?"](a)};p.$$proto.removeSubstitution=
function(a){this.$remove_sub(a)};p.$$proto.getBlocks=function(){return this.blocks};p.$$proto.getContent=function(){return this.$content()};p.$$proto.convert=function(){return this.$convert()};p.$$proto.findBy=function(a,c){return"undefined"===typeof c&&"function"===typeof a?Opal.send(this,"find_by",null,a):"function"===typeof c?Opal.send(this,"find_by",[z(a)],c):this.$find_by(z(a))};p.$$proto.getLineNumber=function(){var a=this.$lineno();return a===Opal.nil?void 0:a};p.$$proto.hasSections=function(){return this["$sections?"]()};
p.$$proto.getSections=function(){return this.$sections()};p=Opal.Asciidoctor.Section;p.$$proto.getIndex=function(){return this.index};p.$$proto.setIndex=function(a){this.index=a};p.$$proto.getSectionName=function(){return this.sectname};p.$$proto.setSectionName=function(a){this.sectname=a};p.$$proto.isSpecial=function(){return this.special};p.$$proto.setSpecial=function(a){this.special=a};p.$$proto.isNumbered=function(){return this.numbered};p.$$proto.getCaption=function(){var a=this.caption;return a===
Opal.nil?void 0:a};p.$$proto.getName=function(){return this.getTitle()};p=Opal.Asciidoctor.Block;p.$$proto.getSource=function(){return this.$source()};p.$$proto.getSourceLines=function(){return this.lines};p=Opal.Asciidoctor.AbstractNode;p.$$proto.getAttributes=function(){return E(this.attributes)};p.$$proto.getAttribute=function(a,c,k){a=this.$attr(a,c,k);return a===Opal.nil?void 0:a};p.$$proto.hasAttribute=function(a){return a in this.attributes.$$smap};p.$$proto.isAttribute=function(a,c,k){a=this["$attr?"](a,
c,k);return a===Opal.nil?!1:a};p.$$proto.setAttribute=function(a,c,k){"undefined"===typeof k&&(k=!0);return this.$set_attr(a,c,k)};p.$$proto.removeAttribute=function(a){a=this.$remove_attr(a);return a===Opal.nil?void 0:a};p.$$proto.getDocument=function(){return this.document};p.$$proto.getParent=function(){var a=this.parent;return a===Opal.nil?void 0:a};p.$$proto.isInline=function(){return this["$inline?"]()};p.$$proto.isBlock=function(){return this["$block?"]()};p.$$proto.isRole=function(a){return this["$role?"](a)};
p.$$proto.getRole=function(){return this.$role()};p.$$proto.hasRole=function(a){return this["$has_role?"](a)};p.$$proto.getRoles=function(){return this.$roles()};p.$$proto.addRole=function(a){return this.$add_role(a)};p.$$proto.removeRole=function(a){return this.$remove_role(a)};p.$$proto.isReftext=function(){return this["$reftext?"]()};p.$$proto.getReftext=function(){return this.$reftext()};p.$$proto.getContext=function(){var a=this.context;return"string"===typeof a?a:a.toString()};p.$$proto.getId=
function(){return this.id};p.$$proto.isOption=function(a){return this["$option?"](a)};p.$$proto.setOption=function(a){return this.$set_option(a)};p.$$proto.getIconUri=function(a){return this.$icon_uri(a)};p.$$proto.getMediaUri=function(a,c){return this.$media_uri(a,c)};p.$$proto.getImageUri=function(a,c){return this.$image_uri(a,c)};p.$$proto.getConverter=function(){return this.$converter()};p.$$proto.readContents=function(a,c){return this.$read_contents(a,z(c))};p.$$proto.readAsset=function(a,c){return this.$read_asset(a,
z(c))};p.$$proto.normalizeWebPath=function(a,c,k){return this.$normalize_web_path(a,c,k)};p.$$proto.normalizeSystemPath=function(a,c,k,p){return this.$normalize_system_path(a,c,k,z(p))};p.$$proto.normalizeAssetPath=function(a,c,k){return this.$normalize_asset_path(a,c,k)};var k=Opal.Asciidoctor.Document;k.$$proto.getHeader=function(){return this.header};k.$$proto.setAttribute=function(a,c){return this.$set_attribute(a,c)};k.$$proto.removeAttribute=function(a){this.attributes.$delete(a);this.attribute_overrides.$delete(a)};
k.$$proto.convert=function(a){a=this.$convert(z(a));return a===Opal.nil?"":a};k.$$proto.write=function(a,c){return this.$write(a,c)};k.$$proto.getAuthor=function(){return this.$author()};k.$$proto.getSource=function(){return this.$source()};k.$$proto.getSourceLines=function(){return this.$source_lines()};k.$$proto.isNested=function(){return this["$nested?"]()};k.$$proto.hasFootnotes=function(){return this["$footnotes?"]()};k.$$proto.getFootnotes=function(){return this.$footnotes()};k.$$proto.isEmbedded=
function(){return this["$embedded?"]()};k.$$proto.hasExtensions=function(){return this["$extensions?"]()};k.$$proto.getDoctype=function(){return this.doctype};k.$$proto.getBackend=function(){return this.backend};k.$$proto.isBasebackend=function(a){return this["$basebackend?"](a)};k.$$proto.getTitle=function(){var a=this.$title();return a===Opal.nil?void 0:a};k.$$proto.setTitle=function(a){return this["$title="](a)};k.$$proto.getDocumentTitle=function(a){a=this.$doctitle(z(a));return a===Opal.nil?
void 0:a};k.$$proto.getDoctitle=k.$$proto.getDocumentTitle;k.$$proto.getCatalog=function(){return E(this.catalog)};k.$$proto.getReferences=k.$$proto.getCatalog;k.$$proto.getRevisionDate=function(){return this.getAttribute("revdate")};k.$$proto.getRevdate=function(){return this.getRevisionDate()};k.$$proto.getRevisionNumber=function(){return this.getAttribute("revnumber")};k.$$proto.getRevisionRemark=function(){return this.getAttribute("revremark")};k.RevisionInfo=function(a,c,k){this.date=a;this.number=
c;this.remark=k};p=k.RevisionInfo;p.prototype.getDate=function(){return this.date};p.prototype.getNumber=function(){return this.number};p.prototype.getRemark=function(){return this.remark};p.prototype.isEmpty=function(){return void 0===this.date&&void 0===this.number&&void 0===this.remark};k.$$proto.getRevisionInfo=function(){return new k.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())};k.$$proto.hasRevisionInfo=function(){return!this.getRevisionInfo().isEmpty()};
k.$$proto.getNotitle=function(){return this.$notitle()};k.$$proto.getNoheader=function(){return this.$noheader()};k.$$proto.getNofooter=function(){return this.$nofooter()};k.$$proto.hasHeader=function(){return this["$header?"]()};k.$$proto.deleteAttribute=function(a){return this.$delete_attribute(a)};k.$$proto.isAttributeLocked=function(a){return this["$attribute_locked?"](a)};k.$$proto.parse=function(a){return this.$parse(a)};k.$$proto.getDocinfo=function(a,c){return this.$docinfo(a,c)};k.$$proto.hasDocinfoProcessors=
function(a){return this["$docinfo_processors?"](a)};k.$$proto.counterIncrement=function(a,c){return this.$counter_increment(a,c)};k.$$proto.counter=function(a,c){return this.$counter(a,c)};k.$$proto.getSafe=function(){return this.safe};k.$$proto.getCompatMode=function(){return this.compat_mode};k.$$proto.getSourcemap=function(){return this.sourcemap};k.$$proto.getCounters=function(){return E(this.counters)};k.$$proto.getCallouts=function(){return this.$callouts()};k.$$proto.getBaseDir=function(){return this.base_dir};
k.$$proto.getOptions=function(){return E(this.options)};k.$$proto.getOutfilesuffix=function(){return this.outfilesuffix};k.$$proto.getParentDocument=function(){return this.parent_document};k.$$proto.getReader=function(){return this.reader};k.$$proto.getConverter=function(){return this.converter};k.$$proto.getExtensions=function(){return this.extensions};p=k.Title;p.$$proto.getMain=function(){return this.main};p.$$proto.getCombined=function(){return this.combined};p.$$proto.getSubtitle=function(){var a=
this.subtitle;return a===Opal.nil?void 0:a};p.$$proto.isSanitized=function(){var a=this["$sanitized?"]();return a===Opal.nil?!1:a};p.$$proto.hasSubtitle=function(){return this["$subtitle?"]()};p=Opal.Asciidoctor.Inline;p.$$proto.convert=function(){return this.$convert()};p.$$proto.getText=function(){var a=this.$text();return a===Opal.nil?void 0:a};p.$$proto.getType=function(){return this.$type()};p.$$proto.getTarget=function(){var a=this.$target();return a===Opal.nil?void 0:a};Opal.Asciidoctor.List.$$proto.getItems=
function(){return this.blocks};Opal.Asciidoctor.ListItem.$$proto.getText=function(){return this.$text()};p=Opal.Asciidoctor.Reader;p.$$proto.pushInclude=function(a,c,k,p,r){return this.$push_include(a,c,k,p,z(r))};p.$$proto.getCursor=function(){return this.$cursor()};p.$$proto.getLines=function(){return this.$lines()};p.$$proto.getString=function(){return this.$string()};p=Opal.Asciidoctor.Reader.Cursor;p.$$proto.getFile=function(){var a=this.file;return a===Opal.nil?void 0:a};p.$$proto.getDirectory=
function(){var a=this.dir;return a===Opal.nil?void 0:a};p.$$proto.getPath=function(){var a=this.path;return a===Opal.nil?void 0:a};p.$$proto.getLineNumber=function(){return this.lineno};p=Opal.const_get_qualified(Opal.Asciidoctor,"LoggerManager",!0);if(Opal.Asciidoctor.LoggerManager=p)p.getLogger=function(){return this.$logger()},p.setLogger=function(a){this.logger=a};p=Opal.const_get_qualified(Opal.Asciidoctor,"MemoryLogger",!0);if(Opal.Asciidoctor.MemoryLogger=p)p.$$proto.getMessages=function(){for(var a=
this.messages,c=[],k=0;k<a.length;k++){var p=E(a[k]);p.message=E(p.message);c.push(p)}return c};var A=function(a){a.$$arity=a.length;return a},v=function(a,c,k,p){return"function"===typeof k?Opal.send(a,c,p&&[p],A(k)):a["$"+c](k,p)},p=Opal.const_get_qualified(Opal.Asciidoctor,"Extensions");Opal.Asciidoctor.Extensions=p;p.create=function(a,c){return"function"===typeof a&&"undefined"===typeof c?Opal.send(this,"build_registry",null,A(a)):"function"===typeof c?Opal.send(this,"build_registry",[a],A(c)):
this.$build_registry()};p.register=function(a,c){return"function"===typeof a&&"undefined"===typeof c?Opal.send(this,"register",null,A(a)):Opal.send(this,"register",[a],A(c))};p.getGroups=function(){return E(this.$groups())};p.unregisterAll=function(){this.$unregister_all()};p.unregister=function(){for(var a=Array.prototype.concat.apply([],arguments),c=this.$groups(),k={},p=0,r=c.$$keys;p<r.length;p++){var u=r[p];k[u.toString()]=u}for(p=0;p<a.length;p++)r=a[p],r in k&&Opal.hash_delete(c,k[r])};var x=
p.Registry;x.$$proto.getGroups=p.getGroups;x.$$proto.unregisterAll=function(){this.groups=Opal.hash()};x.$$proto.unregister=p.unregister;x.$$proto.block=function(a,c){1===arguments.length&&(c=a,a=null);return v(this,"block",c,a)};x.$$proto.inlineMacro=function(a,c){1===arguments.length&&(c=a,a=null);return v(this,"inline_macro",c,a)};x.$$proto.includeProcessor=function(a){return v(this,"include_processor",a)};x.$$proto.blockMacro=function(a,c){1===arguments.length&&(c=a,a=null);return v(this,"block_macro",
c,a)};x.$$proto.treeProcessor=function(a,c){1===arguments.length&&(c=a,a=null);return v(this,"tree_processor",c,a)};x.$$proto.postprocessor=function(a,c){1===arguments.length&&(c=a,a=null);return v(this,"postprocessor",c,a)};x.$$proto.preprocessor=function(a,c){1===arguments.length&&(c=a,a=null);return v(this,"preprocessor",c,a)};x.$$proto.docinfoProcessor=function(a,c){1===arguments.length&&(c=a,a=null);return v(this,"docinfo_processor",c,a)};x=p.Processor;x.$$proto.prepend=function(){this.$option("position",
">>")};x.$$proto.process=function(a){a=new Proxy(a,{apply:function(a,c,k){for(var p=0;p<k.length;p++)"object"===typeof k[p]&&"$$smap"in k[p]&&(k[p]=E(k[p]));return a.apply(c,k)}});return Opal.send(this,"process",null,A(a))};x.$$proto.named=function(a){return this.$named(a)};x.$$proto.createBlock=function(a,c,k,p,r){return this.$create_block(a,c,k,z(p),z(r))};x.$$proto.createImageBlock=function(a,c,k){return this.$create_image_block(a,z(c),z(k))};x.$$proto.createInline=function(a,c,k,p){return this.$create_inline(a,
c,k,z(p))};x.$$proto.parseContent=function(a,c,k){return this.$parse_content(a,c,k)};x.$$proto.positionalAttributes=function(a){return this.$positional_attrs(a)};x=p.BlockProcessor;x.$$proto.onContext=function(a){return this.$on_context(a)};x.$$proto.onContexts=function(){return this.$on_contexts(Array.prototype.slice.call(arguments))};p.IncludeProcessor.$$proto.handles=function(a){return Opal.send(this,"handles?",null,A(a))};p.DocinfoProcessor.$$proto.atLocation=function(a){this.$at_location(a)};
p=Opal.const_get_qualified(Opal.Asciidoctor,"Converter");Opal.Asciidoctor.Converter=p;p.$$proto.convert=function(a,c,k){return this.$convert(a,c,z(k))};p.BuiltIn.$$proto.convert=p.$$proto.convert;p=Opal.Asciidoctor.Converter.Factory;p.getDefault=function(a){return this.$default(a)};p.$$proto.create=function(a,c){return this.$create(a,z(c))};r.$$proto.getVersion=function(){return"1.5.7-beta.1"};return Opal.Asciidoctor});
